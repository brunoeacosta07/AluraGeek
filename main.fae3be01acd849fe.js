(self.webpackChunkp02_ecommerce=self.webpackChunkp02_ecommerce||[]).push([[179],{2011:(ct,De,L)=>{"use strict";L.d(De,{Dh:()=>pe,GT:()=>he,cc:()=>Ie,hO:()=>Ue,on:()=>$,pX:()=>re,xv:()=>_e});var C=L(4650),d=L(127),V=L(5813);ct=L.hmd(ct);const ue=["ngOnDestroy"],re=(ce,Ge,Xe,Oe={})=>new Proxy(ce,{get:(Te,xe)=>Xe.runOutsideAngular(()=>{var qe;if(ce[xe])return!(null===(qe=Oe?.spy)||void 0===qe)&&qe.get&&Oe.spy.get(xe,ce[xe]),ce[xe];if(ue.indexOf(xe)>-1)return()=>{};const ze=Ge.toPromise().then(z=>{const Se=z&&z[xe];return"function"==typeof Se?Se.bind(z):Se&&Se.then?Se.then(ee=>Xe.run(()=>ee)):Xe.run(()=>Se)});return new Proxy(()=>{},{get:(z,Se)=>ze[Se],apply:(z,Se,ee)=>ze.then(le=>{var oe;const be=le&&le(...ee);return!(null===(oe=Oe?.spy)||void 0===oe)&&oe.apply&&Oe.spy.apply(xe,ee,be),be})})})}),he=(ce,Ge)=>{Ge.forEach(Xe=>{Object.getOwnPropertyNames(Xe.prototype||Xe).forEach(Oe=>{Object.defineProperty(ce.prototype,Oe,Object.getOwnPropertyDescriptor(Xe.prototype||Xe,Oe))})})};class ye{constructor(Ge){return Ge}}const pe=new C.InjectionToken("angularfire2.app.options"),_e=new C.InjectionToken("angularfire2.app.name");function $(ce,Ge,Xe){const Te="object"==typeof Xe&&Xe||{};Te.name=Te.name||"string"==typeof Xe&&Xe||"[DEFAULT]";const qe=d.Z.apps.filter(ze=>ze&&ze.name===Te.name)[0]||Ge.runOutsideAngular(()=>d.Z.initializeApp(ce,Te));try{JSON.stringify(ce)!==JSON.stringify(qe.options)&&G("error",`${qe.name} Firebase App already initialized with different options${ct.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ye(qe)}const G=(ce,...Ge)=>{(0,C.isDevMode)()&&typeof console<"u"&&console[ce](...Ge)},J={provide:ye,useFactory:$,deps:[pe,C.NgZone,[new C.Optional,_e]]};let Ue=(()=>{class ce{constructor(Xe){d.Z.registerVersion("angularfire",V.q4.full,"core"),d.Z.registerVersion("angularfire",V.q4.full,"app-compat"),d.Z.registerVersion("angular",C.VERSION.full,Xe.toString())}static initializeApp(Xe,Oe){return{ngModule:ce,providers:[{provide:pe,useValue:Xe},{provide:_e,useValue:Oe}]}}}return ce.\u0275fac=function(Xe){return new(Xe||ce)(C.\u0275\u0275inject(C.PLATFORM_ID))},ce.\u0275mod=C.\u0275\u0275defineNgModule({type:ce}),ce.\u0275inj=C.\u0275\u0275defineInjector({providers:[J]}),ce})();function Ie(ce,Ge,Xe,Oe,Te){const[,xe,qe]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===ce)||[];if(xe)return function se(ce,Ge){try{return ce.toString()===Ge.toString()}catch{return ce===Ge}}(Te,qe)||(de("error",`${Ge} was already initialized on the ${Xe} Firebase App with different settings.${je?" You may need to reload as Firebase is not HMR aware.":""}`),de("warn",{is:Te,was:qe})),xe;{const ze=Oe();return globalThis.\u0275AngularfireInstanceCache.push([ce,ze,Te]),ze}}const je=!!ct.hot,de=(ce,...Ge)=>{(0,C.isDevMode)()&&typeof console<"u"&&console[ce](...Ge)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ct,De,L)=>{"use strict";L.d(De,{q4:()=>cc,iC:()=>hc,HU:()=>df,vb:()=>Ud,JM:()=>Ra});var C=L(4650),d=L(5867),V=L(5861),ue=L(9681),re=L(2090),he=L(4859),ye=L(1877),pe=L(8766);const _e="@firebase/installations",$="0.5.12",J=`w:${$}`,Ue="FIS_v2",Ge=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Xe(b){return b instanceof re.ZR&&b.code.includes("request-failed")}function Oe({projectId:b}){return`https://firebaseinstallations.googleapis.com/v1/projects/${b}/installations`}function Te(b){return{token:b.token,requestStatus:2,expiresIn:le(b.expiresIn),creationTime:Date.now()}}function xe(b,A){return qe.apply(this,arguments)}function qe(){return(qe=(0,V.Z)(function*(b,A){const B=(yield A.json()).error;return Ge.create("request-failed",{requestName:b,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function ze({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function z(b,{refreshToken:A}){const R=ze(b);return R.append("Authorization",function oe(b){return`${Ue} ${b}`}(A)),R}function Se(b){return ee.apply(this,arguments)}function ee(){return(ee=(0,V.Z)(function*(b){const A=yield b();return A.status>=500&&A.status<600?b():A})).apply(this,arguments)}function le(b){return Number(b.replace("s","000"))}function be(b,A){return ge.apply(this,arguments)}function ge(){return(ge=(0,V.Z)(function*({appConfig:b,heartbeatServiceProvider:A},{fid:R}){const B=Oe(b),ne=ze(b),fe=A.getImmediate({optional:!0});if(fe){const At=yield fe.getHeartbeatsHeader();At&&ne.append("x-firebase-client",At)}const Qe={method:"POST",headers:ne,body:JSON.stringify({fid:R,authVersion:Ue,appId:b.appId,sdkVersion:J})},pt=yield Se(()=>fetch(B,Qe));if(pt.ok){const At=yield pt.json();return{fid:At.fid||R,registrationStatus:2,refreshToken:At.refreshToken,authToken:Te(At.authToken)}}throw yield xe("Create Installation",pt)})).apply(this,arguments)}function Pe(b){return new Promise(A=>{setTimeout(A,b)})}const Gt=/^[cdef][\w-]{21}$/;function Je(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const R=function sn(b){return function ht(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return Gt.test(R)?R:""}catch{return""}}function Nn(b){return`${b.appName}!${b.appId}`}const dn=new Map;function Wt(b,A){const R=Nn(b);Lt(R,A),function Fi(b,A){const R=function Ar(){return!Sr&&"BroadcastChannel"in self&&(Sr=new BroadcastChannel("[Firebase] FID Change"),Sr.onmessage=b=>{Lt(b.data.key,b.data.fid)}),Sr}();R&&R.postMessage({key:b,fid:A}),function Yr(){0===dn.size&&Sr&&(Sr.close(),Sr=null)}()}(R,A)}function Lt(b,A){const R=dn.get(b);if(R)for(const B of R)B(A)}let Sr=null;const Jr="firebase-installations-store";let ci=null;function mt(){return ci||(ci=(0,pe.X3)("firebase-installations-database",1,{upgrade:(b,A)=>{0===A&&b.createObjectStore(Jr)}})),ci}function xr(b,A){return $n.apply(this,arguments)}function $n(){return($n=(0,V.Z)(function*(b,A){const R=Nn(b),ne=(yield mt()).transaction(Jr,"readwrite"),fe=ne.objectStore(Jr),ke=yield fe.get(R);return yield fe.put(A,R),yield ne.done,(!ke||ke.fid!==A.fid)&&Wt(b,A.fid),A})).apply(this,arguments)}function Tn(b){return Di.apply(this,arguments)}function Di(){return(Di=(0,V.Z)(function*(b){const A=Nn(b),B=(yield mt()).transaction(Jr,"readwrite");yield B.objectStore(Jr).delete(A),yield B.done})).apply(this,arguments)}function gs(b,A){return On.apply(this,arguments)}function On(){return(On=(0,V.Z)(function*(b,A){const R=Nn(b),ne=(yield mt()).transaction(Jr,"readwrite"),fe=ne.objectStore(Jr),ke=yield fe.get(R),Qe=A(ke);return void 0===Qe?yield fe.delete(R):yield fe.put(Qe,R),yield ne.done,Qe&&(!ke||ke.fid!==Qe.fid)&&Wt(b,Qe.fid),Qe})).apply(this,arguments)}function qn(b){return hn.apply(this,arguments)}function hn(){return(hn=(0,V.Z)(function*(b){let A;const R=yield gs(b.appConfig,B=>{const ne=ms(B),fe=Zt(b,ne);return A=fe.registrationPromise,fe.installationEntry});return""===R.fid?{installationEntry:yield A}:{installationEntry:R,registrationPromise:A}})).apply(this,arguments)}function ms(b){return Xr(b||{fid:Je(),registrationStatus:0})}function Zt(b,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(Ge.create("app-offline"))};const R={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},B=function Ke(b,A){return bt.apply(this,arguments)}(b,R);return{installationEntry:R,registrationPromise:B}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:Lr(b)}:{installationEntry:A}}function bt(){return(bt=(0,V.Z)(function*(b,A){try{const R=yield be(b,A);return xr(b.appConfig,R)}catch(R){throw Xe(R)&&409===R.customData.serverCode?yield Tn(b.appConfig):yield xr(b.appConfig,{fid:A.fid,registrationStatus:0}),R}})).apply(this,arguments)}function Lr(b){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,V.Z)(function*(b){let A=yield _t(b.appConfig);for(;1===A.registrationStatus;)yield Pe(100),A=yield _t(b.appConfig);if(0===A.registrationStatus){const{installationEntry:R,registrationPromise:B}=yield qn(b);return B||R}return A})).apply(this,arguments)}function _t(b){return gs(b,A=>{if(!A)throw Ge.create("installation-not-found");return Xr(A)})}function Xr(b){return function Jn(b){return 1===b.registrationStatus&&b.registrationTime+1e4<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function Vr(b,A){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,V.Z)(function*({appConfig:b,heartbeatServiceProvider:A},R){const B=di(b,R),ne=z(b,R),fe=A.getImmediate({optional:!0});if(fe){const At=yield fe.getHeartbeatsHeader();At&&ne.append("x-firebase-client",At)}const Qe={method:"POST",headers:ne,body:JSON.stringify({installation:{sdkVersion:J,appId:b.appId}})},pt=yield Se(()=>fetch(B,Qe));if(pt.ok)return Te(yield pt.json());throw yield xe("Generate Auth Token",pt)})).apply(this,arguments)}function di(b,{fid:A}){return`${Oe(b)}/${A}/authTokens:generate`}function q(b){return W.apply(this,arguments)}function W(){return(W=(0,V.Z)(function*(b,A=!1){let R;const B=yield gs(b.appConfig,fe=>{if(!ft(fe))throw Ge.create("not-registered");const ke=fe.authToken;if(!A&&fn(ke))return fe;if(1===ke.requestStatus)return R=H(b,A),fe;{if(!navigator.onLine)throw Ge.create("app-offline");const Qe=vr(fe);return R=Fe(b,Qe),Qe}});return R?yield R:B.authToken})).apply(this,arguments)}function H(b,A){return K.apply(this,arguments)}function K(){return(K=(0,V.Z)(function*(b,A){let R=yield Z(b.appConfig);for(;1===R.authToken.requestStatus;)yield Pe(100),R=yield Z(b.appConfig);const B=R.authToken;return 0===B.requestStatus?q(b,A):B})).apply(this,arguments)}function Z(b){return gs(b,A=>{if(!ft(A))throw Ge.create("not-registered");return function $t(b){return 1===b.requestStatus&&b.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function Fe(b,A){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,V.Z)(function*(b,A){try{const R=yield Vr(b,A),B=Object.assign(Object.assign({},A),{authToken:R});return yield xr(b.appConfig,B),R}catch(R){if(!Xe(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const B=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield xr(b.appConfig,B)}else yield Tn(b.appConfig);throw R}})).apply(this,arguments)}function ft(b){return void 0!==b&&2===b.registrationStatus}function fn(b){return 2===b.requestStatus&&!function Jt(b){const A=Date.now();return A<b.creationTime||b.creationTime+b.expiresIn<A+36e5}(b)}function vr(b){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:A})}function Pn(){return(Pn=(0,V.Z)(function*(b){const A=b,{installationEntry:R,registrationPromise:B}=yield qn(A);return B?B.catch(console.error):q(A).catch(console.error),R.fid})).apply(this,arguments)}function Mr(){return(Mr=(0,V.Z)(function*(b,A=!1){const R=b;return yield ei(R),(yield q(R,A)).token})).apply(this,arguments)}function ei(b){return We.apply(this,arguments)}function We(){return(We=(0,V.Z)(function*(b){const{registrationPromise:A}=yield qn(b);A&&(yield A)})).apply(this,arguments)}function Ti(b){return Ge.create("missing-app-config-values",{valueName:b})}const Nt="installations",bn=b=>{const A=b.getProvider("app").getImmediate(),R=function Lo(b){if(!b||!b.options)throw Ti("App Configuration");if(!b.name)throw Ti("App Name");const A=["projectId","apiKey","appId"];for(const R of A)if(!b.options[R])throw Ti(R);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(A);return{app:A,appConfig:R,heartbeatServiceProvider:(0,ue._getProvider)(A,"heartbeat"),_delete:()=>Promise.resolve()}},uo=b=>{const A=b.getProvider("app").getImmediate(),R=(0,ue._getProvider)(A,Nt).getImmediate();return{getId:()=>function Ft(b){return Pn.apply(this,arguments)}(R),getToken:ne=>function or(b){return Mr.apply(this,arguments)}(R,ne)}};(function Si(){(0,ue._registerComponent)(new he.wA(Nt,bn,"PUBLIC")),(0,ue._registerComponent)(new he.wA("installations-internal",uo,"PRIVATE"))})(),(0,ue.registerVersion)(_e,$),(0,ue.registerVersion)(_e,$,"esm2017");const it="@firebase/remote-config",Qt=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class er{constructor(A,R,B,ne){this.client=A,this.storage=R,this.storageCache=B,this.logger=ne}isCachedDataFresh(A,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-R,ne=B<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${ne}.`),ne}fetch(A){var R=this;return(0,V.Z)(function*(){const[B,ne]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(ne&&R.isCachedDataFresh(A.cacheMaxAgeMillis,B))return ne;A.eTag=ne&&ne.eTag;const fe=yield R.client.fetch(A),ke=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===fe.status&&ke.push(R.storage.setLastSuccessfulFetchResponse(fe)),yield Promise.all(ke),fe})()}}function Fs(b=navigator){return b.languages&&b.languages[0]||b.language}class _s{constructor(A,R,B,ne,fe,ke){this.firebaseInstallations=A,this.sdkVersion=R,this.namespace=B,this.projectId=ne,this.apiKey=fe,this.appId=ke}fetch(A){var R=this;return(0,V.Z)(function*(){var B,ne,fe;const[ke,Qe]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),At=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,kt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},gt={sdk_version:R.sdkVersion,app_instance_id:ke,app_instance_id_token:Qe,app_id:R.appId,language_code:Fs()},Gn={method:"POST",headers:kt,body:JSON.stringify(gt)},vi=fetch(At,Gn),vu=new Promise((To,Ss)=>{A.signal.addEventListener(()=>{const hf=new Error("The operation was aborted.");hf.name="AbortError",Ss(hf)})});let ea;try{yield Promise.race([vi,vu]),ea=yield vi}catch(To){let Ss="fetch-client-network";throw"AbortError"===(null===(B=To)||void 0===B?void 0:B.name)&&(Ss="fetch-timeout"),Qt.create(Ss,{originalErrorMessage:null===(ne=To)||void 0===ne?void 0:ne.message})}let xi=ea.status;const ta=ea.headers.get("ETag")||void 0;let Na,Oa;if(200===ea.status){let To;try{To=yield ea.json()}catch(Ss){throw Qt.create("fetch-client-parse",{originalErrorMessage:null===(fe=Ss)||void 0===fe?void 0:fe.message})}Na=To.entries,Oa=To.state}if("INSTANCE_STATE_UNSPECIFIED"===Oa?xi=500:"NO_CHANGE"===Oa?xi=304:("NO_TEMPLATE"===Oa||"EMPTY_CONFIG"===Oa)&&(Na={}),304!==xi&&200!==xi)throw Qt.create("fetch-status",{httpStatus:xi});return{status:xi,eTag:ta,config:Na}})()}}class Xa{constructor(A,R){this.client=A,this.storage=R}fetch(A){var R=this;return(0,V.Z)(function*(){const B=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(A,B)})()}attemptFetch(A,{throttleEndTimeMillis:R,backoffCount:B}){var ne=this;return(0,V.Z)(function*(){yield function pr(b,A){return new Promise((R,B)=>{const ne=Math.max(A-Date.now(),0),fe=setTimeout(R,ne);b.addEventListener(()=>{clearTimeout(fe),B(Qt.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,R);try{const fe=yield ne.client.fetch(A);return yield ne.storage.deleteThrottleMetadata(),fe}catch(fe){if(!function _n(b){if(!(b instanceof re.ZR&&b.customData))return!1;const A=Number(b.customData.httpStatus);return 429===A||500===A||503===A||504===A}(fe))throw fe;const ke={throttleEndTimeMillis:Date.now()+(0,re.$s)(B),backoffCount:B+1};return yield ne.storage.setThrottleMetadata(ke),ne.attemptFetch(A,ke)}})()}}class Bi{constructor(A,R,B,ne,fe){this.app=A,this._client=R,this._storageCache=B,this._storage=ne,this._logger=fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function $i(b,A){var R;const B=b.target.error||void 0;return Qt.create(A,{originalErrorMessage:B&&(null===(R=B)||void 0===R?void 0:R.message)})}const Dn="app_namespace_store";class tu{constructor(A,R,B,ne=function jo(){return new Promise((b,A)=>{var R;try{const B=indexedDB.open("firebase_remote_config",1);B.onerror=ne=>{A($i(ne,"storage-open"))},B.onsuccess=ne=>{b(ne.target.result)},B.onupgradeneeded=ne=>{0===ne.oldVersion&&ne.target.result.createObjectStore(Dn,{keyPath:"compositeKey"})}}catch(B){A(Qt.create("storage-open",{originalErrorMessage:null===(R=B)||void 0===R?void 0:R.message}))}})}()){this.appId=A,this.appName=R,this.namespace=B,this.openDbPromise=ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var R=this;return(0,V.Z)(function*(){const B=yield R.openDbPromise;return new Promise((ne,fe)=>{var ke;const pt=B.transaction([Dn],"readonly").objectStore(Dn),At=R.createCompositeKey(A);try{const kt=pt.get(At);kt.onerror=gt=>{fe($i(gt,"storage-get"))},kt.onsuccess=gt=>{const Gn=gt.target.result;ne(Gn?Gn.value:void 0)}}catch(kt){fe(Qt.create("storage-get",{originalErrorMessage:null===(ke=kt)||void 0===ke?void 0:ke.message}))}})})()}set(A,R){var B=this;return(0,V.Z)(function*(){const ne=yield B.openDbPromise;return new Promise((fe,ke)=>{var Qe;const At=ne.transaction([Dn],"readwrite").objectStore(Dn),kt=B.createCompositeKey(A);try{const gt=At.put({compositeKey:kt,value:R});gt.onerror=Gn=>{ke($i(Gn,"storage-set"))},gt.onsuccess=()=>{fe()}}catch(gt){ke(Qt.create("storage-set",{originalErrorMessage:null===(Qe=gt)||void 0===Qe?void 0:Qe.message}))}})})()}delete(A){var R=this;return(0,V.Z)(function*(){const B=yield R.openDbPromise;return new Promise((ne,fe)=>{var ke;const pt=B.transaction([Dn],"readwrite").objectStore(Dn),At=R.createCompositeKey(A);try{const kt=pt.delete(At);kt.onerror=gt=>{fe($i(gt,"storage-delete"))},kt.onsuccess=()=>{ne()}}catch(kt){fe(Qt.create("storage-delete",{originalErrorMessage:null===(ke=kt)||void 0===ke?void 0:ke.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class ho{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,V.Z)(function*(){const R=A.storage.getLastFetchStatus(),B=A.storage.getLastSuccessfulFetchTimestampMillis(),ne=A.storage.getActiveConfig(),fe=yield R;fe&&(A.lastFetchStatus=fe);const ke=yield B;ke&&(A.lastSuccessfulFetchTimestampMillis=ke);const Qe=yield ne;Qe&&(A.activeConfig=Qe)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function Rt(){return Is.apply(this,arguments)}function Is(){return(Is=(0,V.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function ss(){(0,ue._registerComponent)(new he.wA("remote-config",function b(A,{instanceIdentifier:R}){const B=A.getProvider("app").getImmediate(),ne=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Qt.create("registration-window");if(!(0,re.hl)())throw Qt.create("indexed-db-unavailable");const{projectId:fe,apiKey:ke,appId:Qe}=B.options;if(!fe)throw Qt.create("registration-project-id");if(!ke)throw Qt.create("registration-api-key");if(!Qe)throw Qt.create("registration-app-id");const pt=new tu(Qe,B.name,R=R||"firebase"),At=new ho(pt),kt=new ye.Yd(it);kt.logLevel=ye.in.ERROR;const gt=new _s(ne,ue.SDK_VERSION,R,fe,ke,Qe),Gn=new Xa(gt,pt),vi=new er(Gn,pt,At,kt),vu=new Bi(B,vi,At,pt,kt);return function Ql(b){const A=(0,re.m9)(b);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(vu),vu},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(it,"0.3.11"),(0,ue.registerVersion)(it,"0.3.11","esm2017")}();const Hi="/firebase-messaging-sw.js",fi="/firebase-cloud-messaging-push-scope",os="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$o="google.c.a.c_id",fo="google.c.a.c_l",po="google.c.a.ts",Yl="google.c.a.e";var Br=(()=>{return(b=Br||(Br={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",Br;var b})();function In(b){const A=new Uint8Array(b);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ho(b){const R=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(R),ne=new Uint8Array(B.length);for(let fe=0;fe<B.length;++fe)ne[fe]=B.charCodeAt(fe);return ne}const Go="fcm_token_details_db",$r="fcm_token_object_Store";function Jl(b){return Sn.apply(this,arguments)}function Sn(){return Sn=(0,V.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(fe=>fe.name).includes(Go))return null;let A=null;return(yield(0,pe.X3)(Go,5,{upgrade:(B=(0,V.Z)(function*(ne,fe,ke,Qe){var pt;if(fe<2||!ne.objectStoreNames.contains($r))return;const At=Qe.objectStore($r),kt=yield At.index("fcmSenderId").get(b);if(yield At.clear(),kt)if(2===fe){const gt=kt;if(!gt.auth||!gt.p256dh||!gt.endpoint)return;A={token:gt.fcmToken,createTime:null!==(pt=gt.createTime)&&void 0!==pt?pt:Date.now(),subscriptionOptions:{auth:gt.auth,p256dh:gt.p256dh,endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:"string"==typeof gt.vapidKey?gt.vapidKey:In(gt.vapidKey)}}}else if(3===fe){const gt=kt;A={token:gt.fcmToken,createTime:gt.createTime,subscriptionOptions:{auth:In(gt.auth),p256dh:In(gt.p256dh),endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:In(gt.vapidKey)}}}else if(4===fe){const gt=kt;A={token:gt.fcmToken,createTime:gt.createTime,subscriptionOptions:{auth:In(gt.auth),p256dh:In(gt.p256dh),endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:In(gt.vapidKey)}}}}),function(fe,ke,Qe,pt){return B.apply(this,arguments)})})).close(),yield(0,pe.Lj)(Go),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),nu(A)?A:null;var B}),Sn.apply(this,arguments)}function nu(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:A}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const Ln="firebase-messaging-store";let Gi=null;function Tt(){return Gi||(Gi=(0,pe.X3)("firebase-messaging-database",1,{upgrade:(b,A)=>{0===A&&b.createObjectStore(Ln)}})),Gi}function ni(b){return gr.apply(this,arguments)}function gr(){return(gr=(0,V.Z)(function*(b){const A=Q(b),B=yield(yield Tt()).transaction(Ln).objectStore(Ln).get(A);if(B)return B;{const ne=yield Jl(b.appConfig.senderId);if(ne)return yield D(b,ne),ne}})).apply(this,arguments)}function D(b,A){return P.apply(this,arguments)}function P(){return(P=(0,V.Z)(function*(b,A){const R=Q(b),ne=(yield Tt()).transaction(Ln,"readwrite");return yield ne.objectStore(Ln).put(A,R),yield ne.done,A})).apply(this,arguments)}function T(b){return F.apply(this,arguments)}function F(){return(F=(0,V.Z)(function*(b){const A=Q(b),B=(yield Tt()).transaction(Ln,"readwrite");yield B.objectStore(Ln).delete(A),yield B.done})).apply(this,arguments)}function Q({appConfig:b}){return b.appId}const ie=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function lt(b,A){return on.apply(this,arguments)}function on(){return(on=(0,V.Z)(function*(b,A){var R;const B=yield lr(b),ne=St(A),fe={method:"POST",headers:B,body:JSON.stringify(ne)};let ke;try{ke=yield(yield fetch(un(b.appConfig),fe)).json()}catch(Qe){throw ie.create("token-subscribe-failed",{errorInfo:null===(R=Qe)||void 0===R?void 0:R.toString()})}if(ke.error)throw ie.create("token-subscribe-failed",{errorInfo:ke.error.message});if(!ke.token)throw ie.create("token-subscribe-no-token");return ke.token})).apply(this,arguments)}function En(b,A){return an.apply(this,arguments)}function an(){return(an=(0,V.Z)(function*(b,A){var R;const B=yield lr(b),ne=St(A.subscriptionOptions),fe={method:"PATCH",headers:B,body:JSON.stringify(ne)};let ke;try{ke=yield(yield fetch(`${un(b.appConfig)}/${A.token}`,fe)).json()}catch(Qe){throw ie.create("token-update-failed",{errorInfo:null===(R=Qe)||void 0===R?void 0:R.toString()})}if(ke.error)throw ie.create("token-update-failed",{errorInfo:ke.error.message});if(!ke.token)throw ie.create("token-update-no-token");return ke.token})).apply(this,arguments)}function Vt(b,A){return zn.apply(this,arguments)}function zn(){return(zn=(0,V.Z)(function*(b,A){var R;const ne={method:"DELETE",headers:yield lr(b)};try{const ke=yield(yield fetch(`${un(b.appConfig)}/${A}`,ne)).json();if(ke.error)throw ie.create("token-unsubscribe-failed",{errorInfo:ke.error.message})}catch(fe){throw ie.create("token-unsubscribe-failed",{errorInfo:null===(R=fe)||void 0===R?void 0:R.toString()})}})).apply(this,arguments)}function un({projectId:b}){return`https://fcmregistrations.googleapis.com/v1/projects/${b}/registrations`}function lr(b){return Me.apply(this,arguments)}function Me(){return(Me=(0,V.Z)(function*({appConfig:b,installations:A}){const R=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function St({p256dh:b,auth:A,endpoint:R,vapidKey:B}){const ne={web:{endpoint:R,auth:A,p256dh:b}};return B!==os&&(ne.web.applicationPubKey=B),ne}const qi=6048e5;function zi(b){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,V.Z)(function*(b){const A=yield Bs(b.swRegistration,b.vapidKey),R={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:A.endpoint,auth:In(A.getKey("auth")),p256dh:In(A.getKey("p256dh"))},B=yield ni(b.firebaseDependencies);if(B){if(ru(B.subscriptionOptions,R))return Date.now()>=B.createTime+qi?Wi(b,{token:B.token,createTime:Date.now(),subscriptionOptions:R}):B.token;try{yield Vt(b.firebaseDependencies,B.token)}catch(ne){console.warn(ne)}return js(b.firebaseDependencies,R)}return js(b.firebaseDependencies,R)})).apply(this,arguments)}function Us(b){return Es.apply(this,arguments)}function Es(){return(Es=(0,V.Z)(function*(b){const A=yield ni(b.firebaseDependencies);A&&(yield Vt(b.firebaseDependencies,A.token),yield T(b.firebaseDependencies));const R=yield b.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Wi(b,A){return qo.apply(this,arguments)}function qo(){return(qo=(0,V.Z)(function*(b,A){try{const R=yield En(b.firebaseDependencies,A),B=Object.assign(Object.assign({},A),{token:R,createTime:Date.now()});return yield D(b.firebaseDependencies,B),R}catch(R){throw yield Us(b),R}})).apply(this,arguments)}function js(b,A){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,V.Z)(function*(b,A){const B={token:yield lt(b,A),createTime:Date.now(),subscriptionOptions:A};return yield D(b,B),B.token})).apply(this,arguments)}function Bs(b,A){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,V.Z)(function*(b,A){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ho(A)})})).apply(this,arguments)}function ru(b,A){return A.vapidKey===b.vapidKey&&A.endpoint===b.endpoint&&A.auth===b.auth&&A.p256dh===b.p256dh}function Hr(b){const A={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function as(b,A){if(!A.notification)return;b.notification={};const R=A.notification.title;R&&(b.notification.title=R);const B=A.notification.body;B&&(b.notification.body=B);const ne=A.notification.image;ne&&(b.notification.image=ne)}(A,b),function Dd(b,A){!A.data||(b.data=A.data)}(A,b),function ws(b,A){var R,B,ne,fe,ke;if(!(A.fcmOptions||null!==(R=A.notification)&&void 0!==R&&R.click_action))return;b.fcmOptions={};const Qe=null!==(ne=null===(B=A.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==ne?ne:null===(fe=A.notification)||void 0===fe?void 0:fe.click_action;Qe&&(b.fcmOptions.link=Qe);const pt=null===(ke=A.fcmOptions)||void 0===ke?void 0:ke.analytics_label;pt&&(b.fcmOptions.analyticsLabel=pt)}(A,b),A}function ri(b){return"object"==typeof b&&!!b&&$o in b}function zo(b,A){const R=[];for(let B=0;B<b.length;B++)R.push(b.charAt(B)),B<A.length&&R.push(A.charAt(B));return R.join("")}function Ia(b){return ie.create("missing-app-config-values",{valueName:b})}zo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),zo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Td{constructor(A,R,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ne=function ec(b){if(!b||!b.options)throw Ia("App Configuration Object");if(!b.name)throw Ia("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:R}=b;for(const B of A)if(!R[B])throw Ia(B);return{appName:b.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:ne,installations:R,analyticsProvider:B}}_delete(){return Promise.resolve()}}function us(b){return iu.apply(this,arguments)}function iu(){return(iu=(0,V.Z)(function*(b){var A;try{b.swRegistration=yield navigator.serviceWorker.register(Hi,{scope:fi}),b.swRegistration.update().catch(()=>{})}catch(R){throw ie.create("failed-service-worker-registration",{browserErrorMessage:null===(A=R)||void 0===A?void 0:A.message})}})).apply(this,arguments)}function $u(b,A){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,V.Z)(function*(b,A){if(!A&&!b.swRegistration&&(yield us(b)),A||!b.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw ie.create("invalid-sw-registration");b.swRegistration=A}})).apply(this,arguments)}function tc(b,A){return wa.apply(this,arguments)}function wa(){return(wa=(0,V.Z)(function*(b,A){A?b.vapidKey=A:b.vapidKey||(b.vapidKey=os)})).apply(this,arguments)}function Hu(){return(Hu=(0,V.Z)(function*(b,A){if(!navigator)throw ie.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ie.create("permission-blocked");return yield tc(b,A?.vapidKey),yield $u(b,A?.serviceWorkerRegistration),zi(b)})).apply(this,arguments)}function Ca(b,A,R){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,V.Z)(function*(b,A,R){const B=su(A);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:R[$o],message_name:R[fo],message_time:R[po],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function su(b){switch(b){case Br.NOTIFICATION_CLICKED:return"notification_open";case Br.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ls(){return(ls=(0,V.Z)(function*(b,A){const R=A.data;if(!R.isFirebaseMessaging)return;b.onMessageHandler&&R.messageType===Br.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(Hr(R)):b.onMessageHandler.next(Hr(R)));const B=R.data;ri(B)&&"1"===B[Yl]&&(yield Ca(b,R.messageType,B))})).apply(this,arguments)}const ou="@firebase/messaging",cs=b=>{const A=new Td(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function qu(b,A){return ls.apply(this,arguments)}(A,R)),A},wn=b=>{const A=b.getProvider("messaging").getImmediate();return{getToken:B=>function Cs(b,A){return Hu.apply(this,arguments)}(A,B)}};function rc(){return zu.apply(this,arguments)}function zu(){return(zu=(0,V.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function nc(){(0,ue._registerComponent)(new he.wA("messaging",cs,"PUBLIC")),(0,ue._registerComponent)(new he.wA("messaging-internal",wn,"PRIVATE")),(0,ue.registerVersion)(ou,"0.9.16"),(0,ue.registerVersion)(ou,"0.9.16","esm2017")}();const Wu="analytics",Wo="firebase_id",$s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gr="https://www.googletagmanager.com/gtag/js",jn=new ye.Yd("@firebase/analytics");function sc(b){return Promise.all(b.map(A=>A.catch(R=>R)))}function xd(b,A){const R=document.createElement("script");R.src=`${Gr}?l=${b}&id=${A}`,R.async=!0,document.head.appendChild(R)}function Hs(b,A,R,B,ne,fe){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,V.Z)(function*(b,A,R,B,ne,fe){const ke=B[ne];try{if(ke)yield A[ke];else{const pt=(yield sc(R)).find(At=>At.measurementId===ne);pt&&(yield A[pt.appId])}}catch(Qe){jn.error(Qe)}b("config",ne,fe)})).apply(this,arguments)}function Md(b,A,R,B,ne){return bs.apply(this,arguments)}function bs(){return(bs=(0,V.Z)(function*(b,A,R,B,ne){try{let fe=[];if(ne&&ne.send_to){let ke=ne.send_to;Array.isArray(ke)||(ke=[ke]);const Qe=yield sc(R);for(const pt of ke){const At=Qe.find(gt=>gt.measurementId===pt),kt=At&&A[At.appId];if(!kt){fe=[];break}fe.push(kt)}}0===fe.length&&(fe=Object.values(A)),yield Promise.all(fe),b("event",B,ne||{})}catch(fe){jn.error(fe)}})).apply(this,arguments)}function oc(){const b=window.document.getElementsByTagName("script");for(const A of Object.values(b))if(A.src&&A.src.includes(Gr))return A;return null}const pi=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),sf=new class ds{constructor(A={},R=1e3){this.throttleMetadata=A,this.intervalMillis=R}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,R){this.throttleMetadata[A]=R}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function Zu(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function Ko(b){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,V.Z)(function*(b){var A;const{appId:R,apiKey:B}=b,ne={method:"GET",headers:Zu(B)},fe=$s.replace("{app-id}",R),ke=yield fetch(fe,ne);if(200!==ke.status&&304!==ke.status){let Qe="";try{const pt=yield ke.json();null!==(A=pt.error)&&void 0!==A&&A.message&&(Qe=pt.error.message)}catch{}throw pi.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:Qe})}return ke.json()})).apply(this,arguments)}function gn(b){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,V.Z)(function*(b,A=sf,R){const{appId:B,apiKey:ne,measurementId:fe}=b.options;if(!B)throw pi.create("no-app-id");if(!ne){if(fe)return{measurementId:fe,appId:B};throw pi.create("no-api-key")}const ke=A.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qe=new Ju;return setTimeout((0,V.Z)(function*(){Qe.abort()}),void 0!==R?R:6e4),yo({appId:B,apiKey:ne,measurementId:fe},ke,Qe,A)})).apply(this,arguments)}function yo(b,A,R){return zs.apply(this,arguments)}function zs(){return(zs=(0,V.Z)(function*(b,{throttleEndTimeMillis:A,backoffCount:R},B,ne=sf){var fe,ke;const{appId:Qe,measurementId:pt}=b;try{yield vo(B,A)}catch(At){if(pt)return jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pt} provided in the "measurementId" field in the local Firebase config. [${null===(fe=At)||void 0===fe?void 0:fe.message}]`),{appId:Qe,measurementId:pt};throw At}try{const At=yield Ko(b);return ne.deleteThrottleMetadata(Qe),At}catch(At){const kt=At;if(!Ta(kt)){if(ne.deleteThrottleMetadata(Qe),pt)return jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pt} provided in the "measurementId" field in the local Firebase config. [${kt?.message}]`),{appId:Qe,measurementId:pt};throw At}const gt=503===Number(null===(ke=kt?.customData)||void 0===ke?void 0:ke.httpStatus)?(0,re.$s)(R,ne.intervalMillis,30):(0,re.$s)(R,ne.intervalMillis),Gn={throttleEndTimeMillis:Date.now()+gt,backoffCount:R+1};return ne.setThrottleMetadata(Qe,Gn),jn.debug(`Calling attemptFetch again in ${gt} millis`),yo(b,Gn,B,ne)}})).apply(this,arguments)}function vo(b,A){return new Promise((R,B)=>{const ne=Math.max(A-Date.now(),0),fe=setTimeout(R,ne);b.addEventListener(()=>{clearTimeout(fe),B(pi.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function Ta(b){if(!(b instanceof re.ZR&&b.customData))return!1;const A=Number(b.customData.httpStatus);return 429===A||500===A||503===A||504===A}class Ju{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let Xu,Ki;function _o(){return(_o=(0,V.Z)(function*(b,A,R,B,ne){if(ne&&ne.global)b("event",R,B);else{const fe=yield A;b("event",R,Object.assign(Object.assign({},B),{send_to:fe}))}})).apply(this,arguments)}function gi(b){Ki=b}function rl(b){Xu=b}function il(){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,V.Z)(function*(){var b;if(!(0,re.hl)())return jn.warn(pi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(A){return jn.warn(pi.create("indexeddb-unavailable",{errorInfo:null===(b=A)||void 0===b?void 0:b.toString()}).message),!1}return!0})).apply(this,arguments)}function Sa(){return(Sa=(0,V.Z)(function*(b,A,R,B,ne,fe,ke){var Qe;const pt=gn(b);pt.then(vi=>{R[vi.measurementId]=vi.appId,b.options.measurementId&&vi.measurementId!==b.options.measurementId&&jn.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${vi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(vi=>jn.error(vi)),A.push(pt);const At=il().then(vi=>{if(vi)return B.getId()}),[kt,gt]=yield Promise.all([pt,At]);oc()||xd(fe,kt.measurementId),Ki&&(ne("consent","default",Ki),gi(void 0)),ne("js",new Date);const Gn=null!==(Qe=ke?.config)&&void 0!==Qe?Qe:{};return Gn.origin="firebase",Gn.update=!0,null!=gt&&(Gn[Wo]=gt),ne("config",kt.measurementId,Gn),Xu&&(ne("set",Xu),rl(void 0)),kt.measurementId})).apply(this,arguments)}class Ks{constructor(A){this.app=A}_delete(){return delete mi[this.app.options.appId],Promise.resolve()}}let mi={},Zs=[];const Ds={};let Qs,yi,hs="dataLayer",qt=!1;function du(b,A,R){!function Od(){const b=[];if((0,re.ru)()&&b.push("This is a browser extension environment."),(0,re.zI)()||b.push("Cookies are not available."),b.length>0){const A=b.map((B,ne)=>`(${ne+1}) ${B}`).join(" "),R=pi.create("invalid-analytics-context",{errorInfo:A});jn.warn(R.message)}}();const B=b.options.appId;if(!B)throw pi.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw pi.create("no-api-key");jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=mi[B])throw pi.create("already-exists",{id:B});if(!qt){!function dg(b){let A=[];Array.isArray(window[b])?A=window[b]:window[b]=A}(hs);const{wrappedGtag:fe,gtagCore:ke}=function Ku(b,A,R,B,ne){let fe=function(...ke){window[B].push(arguments)};return window[ne]&&"function"==typeof window[ne]&&(fe=window[ne]),window[ne]=function ba(b,A,R,B){function fe(){return(fe=(0,V.Z)(function*(ke,Qe,pt){try{"event"===ke?yield Md(b,A,R,Qe,pt):"config"===ke?yield Hs(b,A,R,B,Qe,pt):"consent"===ke?b("consent","update",pt):b("set",Qe)}catch(At){jn.error(At)}})).apply(this,arguments)}return function ne(ke,Qe,pt){return fe.apply(this,arguments)}}(fe,b,A,R),{gtagCore:fe,wrappedGtag:window[ne]}}(mi,Zs,Ds,hs,"gtag");yi=fe,Qs=ke,qt=!0}return mi[B]=function Qo(b,A,R,B,ne,fe,ke){return Sa.apply(this,arguments)}(b,Zs,Ds,A,Qs,hs,R),new Ks(b)}function uf(){return kd.apply(this,arguments)}function kd(){return(kd=(0,V.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const Ld="@firebase/analytics";!function Ys(){(0,ue._registerComponent)(new he.wA(Wu,(A,{options:R})=>du(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ue._registerComponent)(new he.wA("analytics-internal",function b(A){try{const R=A.getProvider(Wu).getImmediate();return{logEvent:(B,ne,fe)=>function fu(b,A,R,B){b=(0,re.m9)(b),function ac(b,A,R,B,ne){return _o.apply(this,arguments)}(yi,mi[b.app.options.appId],A,R,B).catch(ne=>jn.error(ne))}(R,B,ne,fe)}}catch(R){throw pi.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ue.registerVersion)(Ld,"0.8.0"),(0,ue.registerVersion)(Ld,"0.8.0","esm2017")}();var sl=L(4408),Eo=L(7565);const gu=new class pu extends Eo.v{}(class ol extends sl.o{constructor(A,R){super(A,R),this.scheduler=A,this.work=R}schedule(A,R=0){return R>0?super.schedule(A,R):(this.delay=R,this.state=A,this.scheduler.flush(this),this)}execute(A,R){return R>0||this.closed?super.execute(A,R):this._execute(A,R)}requestAsyncId(A,R,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(A,R,B):A.flush(this)}});var al=L(4986),Yo=L(8505),wo=L(9468),ii=L(5363);const cc=new C.Version("7.4.1"),Co="__angularfire_symbol__analyticsIsSupportedValue",mu="__angularfire_symbol__analyticsIsSupported",Jo="__angularfire_symbol__remoteConfigIsSupportedValue",yu="__angularfire_symbol__remoteConfigIsSupported",Aa="__angularfire_symbol__messagingIsSupportedValue",xa="__angularfire_symbol__messagingIsSupported";function Ra(b,A,R){if(A){if(1===A.length)return A[0];const fe=A.filter(ke=>ke.app===R);if(1===fe.length)return fe[0]}return R.container.getProvider(b).getImmediate({optional:!0})}globalThis[mu]||(globalThis[mu]=uf().then(b=>globalThis[Co]=b).catch(()=>globalThis[Co]=!1)),globalThis[xa]||(globalThis[xa]=rc().then(b=>globalThis[Aa]=b).catch(()=>globalThis[Aa]=!1)),globalThis[yu]||(globalThis[yu]=Rt().then(b=>globalThis[Jo]=b).catch(()=>globalThis[Jo]=!1));const Ud=(b,A)=>{const R=A?[A]:(0,d.C6)(),B=[];return R.forEach(ne=>{ne.container.getProvider(b).instances.forEach(ke=>{B.includes(ke)||B.push(ke)})}),B};function Ai(){}class bo{constructor(A,R=gu){this.zone=A,this.delegate=R}now(){return this.delegate.now()}schedule(A,R,B){const ne=this.zone;return this.delegate.schedule(function(ke){ne.runGuarded(()=>{A.apply(this,[ke])})},R,B)}}class Xo{constructor(A){this.zone=A,this.task=null}call(A,R){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ai,{},Ai,Ai)),R.pipe((0,Yo.b)({next:B,complete:B,error:B})).subscribe(A).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let df=(()=>{class b{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new bo(Zone.current)),this.insideAngular=R.run(()=>new bo(Zone.current,al.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(R){return new(R||b)(C.\u0275\u0275inject(C.NgZone))},b.\u0275prov=C.\u0275\u0275defineInjectable({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function Js(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function hc(b){return Js(),function Wn(b){return function(R){return(R=R.lift(new Xo(b.ngZone))).pipe((0,wo.R)(b.outsideAngular),(0,ii.Q)(b.insideAngular))}}(Js())(b)}},2090:(ct,De,L)=>{"use strict";L.d(De,{$s:()=>Jn,BH:()=>Ue,G6:()=>ze,L:()=>pe,LL:()=>ge,Mn:()=>xe,Sg:()=>Ie,UG:()=>de,US:()=>he,ZB:()=>G,ZR:()=>be,b$:()=>Xe,d:()=>Oe,eu:()=>Se,hl:()=>z,jU:()=>ce,m9:()=>di,ne:()=>mt,pd:()=>Jr,r3:()=>fr,ru:()=>Ge,tV:()=>_e,uI:()=>je,vZ:()=>Sr,w1:()=>Te,xO:()=>bi,xb:()=>Lt,z$:()=>se,zI:()=>ee,zd:()=>Li});const ue=function(q){const W=[];let H=0;for(let K=0;K<q.length;K++){let Z=q.charCodeAt(K);Z<128?W[H++]=Z:Z<2048?(W[H++]=Z>>6|192,W[H++]=63&Z|128):55296==(64512&Z)&&K+1<q.length&&56320==(64512&q.charCodeAt(K+1))?(Z=65536+((1023&Z)<<10)+(1023&q.charCodeAt(++K)),W[H++]=Z>>18|240,W[H++]=Z>>12&63|128,W[H++]=Z>>6&63|128,W[H++]=63&Z|128):(W[H++]=Z>>12|224,W[H++]=Z>>6&63|128,W[H++]=63&Z|128)}return W},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,W){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,K=[];for(let Z=0;Z<q.length;Z+=3){const Fe=q[Z],Ze=Z+1<q.length,ft=Ze?q[Z+1]:0,fn=Z+2<q.length,Jt=fn?q[Z+2]:0;let Ft=(15&ft)<<2|Jt>>6,Pn=63&Jt;fn||(Pn=64,Ze||(Ft=64)),K.push(H[Fe>>2],H[(3&Fe)<<4|ft>>4],H[Ft],H[Pn])}return K.join("")},encodeString(q,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(q):this.encodeByteArray(ue(q),W)},decodeString(q,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(q):function(q){const W=[];let H=0,K=0;for(;H<q.length;){const Z=q[H++];if(Z<128)W[K++]=String.fromCharCode(Z);else if(Z>191&&Z<224){const Fe=q[H++];W[K++]=String.fromCharCode((31&Z)<<6|63&Fe)}else if(Z>239&&Z<365){const fn=((7&Z)<<18|(63&q[H++])<<12|(63&q[H++])<<6|63&q[H++])-65536;W[K++]=String.fromCharCode(55296+(fn>>10)),W[K++]=String.fromCharCode(56320+(1023&fn))}else{const Fe=q[H++],Ze=q[H++];W[K++]=String.fromCharCode((15&Z)<<12|(63&Fe)<<6|63&Ze)}}return W.join("")}(this.decodeStringToByteArray(q,W))},decodeStringToByteArray(q,W){this.init_();const H=W?this.charToByteMapWebSafe_:this.charToByteMap_,K=[];for(let Z=0;Z<q.length;){const Fe=H[q.charAt(Z++)],ft=Z<q.length?H[q.charAt(Z)]:0;++Z;const Jt=Z<q.length?H[q.charAt(Z)]:64;++Z;const $t=Z<q.length?H[q.charAt(Z)]:64;if(++Z,null==Fe||null==ft||null==Jt||null==$t)throw Error();K.push(Fe<<2|ft>>4),64!==Jt&&(K.push(ft<<4&240|Jt>>2),64!==$t&&K.push(Jt<<6&192|$t))}return K},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},pe=function(q){return function(q){const W=ue(q);return he.encodeByteArray(W,!0)}(q).replace(/\./g,"")},_e=function(q){try{return he.decodeString(q,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function G(q,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return W}for(const H in W)!W.hasOwnProperty(H)||!J(H)||(q[H]=G(q[H],W[H]));return q}function J(q){return"__proto__"!==q}class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,H)=>{this.resolve=W,this.reject=H})}wrapCallback(W){return(H,K)=>{H?this.reject(H):this.resolve(K),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(H):W(H,K))}}}function Ie(q,W){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const K=W||"demo-project",Z=q.iat||0,Fe=q.sub||q.user_id;if(!Fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ze=Object.assign({iss:`https://securetoken.google.com/${K}`,aud:K,iat:Z,exp:Z+3600,auth_time:Z,sub:Fe,user_id:Fe,firebase:{sign_in_provider:"custom",identities:{}}},q);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(Ze)),""].join(".")}function se(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function je(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(se())}function de(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ce(){return"object"==typeof self&&self.self===self}function Ge(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Xe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Oe(){return se().indexOf("Electron/")>=0}function Te(){const q=se();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function xe(){return se().indexOf("MSAppHost/")>=0}function ze(){return!de()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z(){return"object"==typeof indexedDB}function Se(){return new Promise((q,W)=>{try{let H=!0;const K="validate-browser-context-for-indexeddb-analytics-module",Z=self.indexedDB.open(K);Z.onsuccess=()=>{Z.result.close(),H||self.indexedDB.deleteDatabase(K),q(!0)},Z.onupgradeneeded=()=>{H=!1},Z.onerror=()=>{var Fe;W((null===(Fe=Z.error)||void 0===Fe?void 0:Fe.message)||"")}}catch(H){W(H)}})}function ee(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class be extends Error{constructor(W,H,K){super(H),this.code=W,this.customData=K,this.name="FirebaseError",Object.setPrototypeOf(this,be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ge.prototype.create)}}class ge{constructor(W,H,K){this.service=W,this.serviceName=H,this.errors=K}create(W,...H){const K=H[0]||{},Z=`${this.service}/${W}`,Fe=this.errors[W],Ze=Fe?function Pe(q,W){return q.replace(ht,(H,K)=>{const Z=W[K];return null!=Z?String(Z):`<${K}?>`})}(Fe,K):"Error";return new be(Z,`${this.serviceName}: ${Ze} (${Z}).`,K)}}const ht=/\{\$([^}]+)}/g;function fr(q,W){return Object.prototype.hasOwnProperty.call(q,W)}function Lt(q){for(const W in q)if(Object.prototype.hasOwnProperty.call(q,W))return!1;return!0}function Sr(q,W){if(q===W)return!0;const H=Object.keys(q),K=Object.keys(W);for(const Z of H){if(!K.includes(Z))return!1;const Fe=q[Z],Ze=W[Z];if(Ar(Fe)&&Ar(Ze)){if(!Sr(Fe,Ze))return!1}else if(Fe!==Ze)return!1}for(const Z of K)if(!H.includes(Z))return!1;return!0}function Ar(q){return null!==q&&"object"==typeof q}function bi(q){const W=[];for(const[H,K]of Object.entries(q))Array.isArray(K)?K.forEach(Z=>{W.push(encodeURIComponent(H)+"="+encodeURIComponent(Z))}):W.push(encodeURIComponent(H)+"="+encodeURIComponent(K));return W.length?"&"+W.join("&"):""}function Li(q){const W={};return q.replace(/^\?/,"").split("&").forEach(K=>{if(K){const[Z,Fe]=K.split("=");W[decodeURIComponent(Z)]=decodeURIComponent(Fe)}}),W}function Jr(q){const W=q.indexOf("?");if(!W)return"";const H=q.indexOf("#",W);return q.substring(W,H>0?H:void 0)}function mt(q,W){const H=new xr(q,W);return H.subscribe.bind(H)}class xr{constructor(W,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{W(this)}).catch(K=>{this.error(K)})}next(W){this.forEachObserver(H=>{H.next(W)})}error(W){this.forEachObserver(H=>{H.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,H,K){let Z;if(void 0===W&&void 0===H&&void 0===K)throw new Error("Missing Observer.");Z=function Tn(q,W){if("object"!=typeof q||null===q)return!1;for(const H of W)if(H in q&&"function"==typeof q[H])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:H,complete:K},void 0===Z.next&&(Z.next=Di),void 0===Z.error&&(Z.error=Di),void 0===Z.complete&&(Z.complete=Di);const Fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Z.error(this.finalError):Z.complete()}catch{}}),this.observers.push(Z),Fe}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,W)}sendOne(W,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{H(this.observers[W])}catch(K){typeof console<"u"&&console.error&&console.error(K)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Di(){}function Jn(q,W=1e3,H=2){const K=W*Math.pow(H,q),Z=Math.round(.5*K*(Math.random()-.5)*2);return Math.min(144e5,K+Z)}function di(q){return q&&q._delegate?q._delegate:q}},3759:(ct,De,L)=>{"use strict";var C=L(6895),d=L(4650);class V extends C.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ue extends V{static makeCurrent(){(0,C.\u0275setRootDomAdapter)(new ue)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function he(){return re=re||document.querySelector("base"),re?re.getAttribute("href"):null}();return null==t?null:function pe(n){ye=ye||document.createElement("a"),ye.setAttribute("href",n);const e=ye.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){re=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,C.\u0275parseCookieValue)(document.cookie,e)}}let ye,re=null;const _e=new d.InjectionToken("TRANSITION_ID"),G=[{provide:d.APP_INITIALIZER,useFactory:function $(n,e,t){return()=>{t.get(d.ApplicationInitStatus).donePromise.then(()=>{const r=(0,C.\u0275getDOM)(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[_e,C.DOCUMENT,d.Injector],multi:!0}];let Ue=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const Ie=new d.InjectionToken("EventManagerPlugins");let se=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275inject(Ie),d.\u0275\u0275inject(d.NgZone))},n.\u0275prov=d.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class je{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=(0,C.\u0275getDOM)().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let de=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),ce=(()=>{class n extends de{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ge),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ge))}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275inject(C.DOCUMENT))},n.\u0275prov=d.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function Ge(n){(0,C.\u0275getDOM)().remove(n)}const Xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Oe=/%COMP%/g;function ee(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?ee(n,o,t):(o=o.replace(Oe,n),t.push(o))}return t}function le(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let be=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new ge(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ViewEncapsulation.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Bt(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case d.ViewEncapsulation.ShadowDom:return new Je(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=ee(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275inject(se),d.\u0275\u0275inject(ce),d.\u0275\u0275inject(d.APP_ID))},n.\u0275prov=d.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class ge{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Xe[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Gt(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Gt(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=Xe[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Xe[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(d.RendererStyleFlags2.DashCase|d.RendererStyleFlags2.Important)?e.style.setProperty(t,r,o&d.RendererStyleFlags2.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,le(r)):this.eventManager.addEventListener(e,t,le(r))}}function Gt(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Bt extends ge{constructor(e,t,r,o){super(e),this.component=r;const l=ee(o+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function z(n){return"_ngcontent-%COMP%".replace(Oe,n)}(o+"-"+r.id),this.hostAttr=function Se(n){return"_nghost-%COMP%".replace(Oe,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Je extends ge{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=ee(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const m=document.createElement("style");m.textContent=l[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let sn=(()=>{class n extends je{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275inject(C.DOCUMENT))},n.\u0275prov=d.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const Nn=["alt","control","meta","shift"],Wt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Kt={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Lt=(()=>{class n extends je{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,C.\u0275getDOM)().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let h="";if(Nn.forEach(E=>{const S=r.indexOf(E);S>-1&&(r.splice(S,1),h+=E+".")}),h+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=o,m.fullKey=h,m}static getEventFullKey(t){let r="",o=function Fi(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&fr.hasOwnProperty(e)&&(e=fr[e]))}return Wt[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Nn.forEach(l=>{l!=o&&(0,Kt[l])(t)&&(r+=l+".")}),r+=o,r}static eventCallback(t,r,o){return l=>{n.getEventFullKey(l)===t&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275inject(C.DOCUMENT))},n.\u0275prov=d.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const mt=(0,d.createPlatformFactory)(d.platformCore,"browser",[{provide:d.PLATFORM_ID,useValue:C.\u0275PLATFORM_BROWSER_ID},{provide:d.PLATFORM_INITIALIZER,useValue:function bi(){ue.makeCurrent()},multi:!0},{provide:C.DOCUMENT,useFactory:function Jr(){return(0,d.\u0275setDocument)(document),document},deps:[]}]),xr=new d.InjectionToken(""),$n=[{provide:d.\u0275TESTABILITY_GETTER,useClass:class J{addToWindow(e){d.\u0275global.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},d.\u0275global.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.\u0275global.getAllAngularRootElements=()=>e.getAllRootElements(),d.\u0275global.frameworkStabilizers||(d.\u0275global.frameworkStabilizers=[]),d.\u0275global.frameworkStabilizers.push(r=>{const o=d.\u0275global.getAllAngularTestabilities();let l=o.length,h=!1;const m=function(E){h=h||E,l--,0==l&&r(h)};o.forEach(function(E){E.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?(0,C.\u0275getDOM)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.\u0275TESTABILITY,useClass:d.Testability,deps:[d.NgZone,d.TestabilityRegistry,d.\u0275TESTABILITY_GETTER]},{provide:d.Testability,useClass:d.Testability,deps:[d.NgZone,d.TestabilityRegistry,d.\u0275TESTABILITY_GETTER]}],Tn=[{provide:d.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:d.ErrorHandler,useFactory:function Li(){return new d.ErrorHandler},deps:[]},{provide:Ie,useClass:sn,multi:!0,deps:[C.DOCUMENT,d.NgZone,d.PLATFORM_ID]},{provide:Ie,useClass:Lt,multi:!0,deps:[C.DOCUMENT]},{provide:be,useClass:be,deps:[se,ce,d.APP_ID]},{provide:d.RendererFactory2,useExisting:be},{provide:de,useExisting:ce},{provide:ce,useClass:ce,deps:[C.DOCUMENT]},{provide:se,useClass:se,deps:[Ie,d.NgZone]},{provide:C.XhrFactory,useClass:Ue,deps:[]},[]];let Di=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.APP_ID,useValue:t.appId},{provide:_e,useExisting:d.APP_ID},G]}}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275inject(xr,12))},n.\u0275mod=d.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=d.\u0275\u0275defineInjector({providers:[...Tn,...$n],imports:[C.CommonModule,d.ApplicationModule]}),n})(),ms=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275inject(C.DOCUMENT))},n.\u0275prov=d.\u0275\u0275defineInjectable({token:n,factory:function(t){let r=null;return r=t?new t:function hn(){return new ms((0,d.\u0275\u0275inject)(C.DOCUMENT))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var yt=L(8996),pn=L(7669);function ut(...n){const e=(0,pn.yG)(n);return(0,yt.D)(n,e)}var ln=L(7579);class ar extends ln.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Xt=L(9751);const{isArray:Lo}=Array,{getPrototypeOf:Ti,prototype:Nt,keys:Vo}=Object;function bn(n){if(1===n.length){const e=n[0];if(Lo(e))return{args:e,keys:null};if(function uo(n){return n&&"object"==typeof n&&Ti(n)===Nt}(e)){const t=Vo(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Si=L(4671),it=L(4004);const{isArray:lo}=Array;function _r(n){return(0,it.U)(e=>function is(n,e){return lo(e)?n(...e):n(e)}(n,e))}function ti(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var Qt=L(5403),cn=L(9672);function Ja(...n){const e=(0,pn.yG)(n),t=(0,pn.jO)(n),{args:r,keys:o}=bn(n);if(0===r.length)return(0,yt.D)([],e);const l=new Xt.y(function va(n,e,t=Si.y){return r=>{ks(e,()=>{const{length:o}=n,l=new Array(o);let h=o,m=o;for(let E=0;E<o;E++)ks(e,()=>{const S=(0,yt.D)(n[E],e);let N=!1;S.subscribe((0,Qt.x)(r,U=>{l[E]=U,N||(N=!0,m--),m||r.next(t(l.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,o?h=>ti(o,h):Si.y));return t?l.pipe(_r(t)):l}function ks(n,e,t){n?(0,cn.f)(t,n,e):e()}var Vi=L(8189);function vs(...n){return function ys(){return(0,Vi.J)(1)}()((0,yt.D)(n,(0,pn.yG)(n)))}var Ur=L(8421);function kn(n){return new Xt.y(e=>{(0,Ur.Xf)(n()).subscribe(e)})}var Ql=L(9635),Xn=L(576);function ur(n,e){const t=(0,Xn.m)(n)?n:()=>n,r=o=>o.error(t());return new Xt.y(e?o=>e.schedule(r,0,o):r)}const Ui=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var jr=L(515),hi=L(727),Hn=L(4482);function wd(){return(0,Hn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Qt.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,l=t;t=null,o&&(!l||o===l)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class co extends Xt.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Hn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new hi.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Qt.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=hi.w0.EMPTY)}return e}refCount(){return wd()(this)}}function er(n,e){return(0,Hn.e)((t,r)=>{let o=null,l=0,h=!1;const m=()=>h&&!o&&r.complete();t.subscribe((0,Qt.x)(r,E=>{o?.unsubscribe();let S=0;const N=l++;(0,Ur.Xf)(n(E,N)).subscribe(o=(0,Qt.x)(r,U=>r.next(e?e(E,U,N,S++):U),()=>{o=null,m()}))},()=>{h=!0,m()}))})}function Fs(n){return n<=0?()=>jr.E:(0,Hn.e)((e,t)=>{let r=0;e.subscribe((0,Qt.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function _s(...n){const e=(0,pn.yG)(n);return(0,Hn.e)((t,r)=>{(e?vs(n,t,e):vs(n,t)).subscribe(r)})}function pr(n,e){return(0,Hn.e)((t,r)=>{let o=0;t.subscribe((0,Qt.x)(r,l=>n.call(e,l,o++)&&r.next(l)))})}var _n=L(5577);function Xa(n){return(0,Hn.e)((e,t)=>{let r=!1;e.subscribe((0,Qt.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function ji(n=Cd){return(0,Hn.e)((e,t)=>{let r=!1;e.subscribe((0,Qt.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Cd(){return new Ui}function Bi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?pr((o,l)=>n(o,l,r)):Si.y,Fs(1),t?Xa(e):ji(()=>new Ui))}function $i(n,e){return(0,Xn.m)(e)?(0,_n.z)(n,e,1):(0,_n.z)(n,1)}var Dn=L(8505);function Ls(n){return(0,Hn.e)((e,t)=>{let l,r=null,o=!1;r=e.subscribe((0,Qt.x)(t,void 0,void 0,h=>{l=(0,Ur.Xf)(n(h,Ls(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,l.subscribe(t))})}function eu(n,e,t,r,o){return(l,h)=>{let m=t,E=e,S=0;l.subscribe((0,Qt.x)(h,N=>{const U=S++;E=m?n(E,N,U):(m=!0,N),r&&h.next(E)},o&&(()=>{m&&h.next(E),h.complete()})))}}function jo(n,e){return(0,Hn.e)(eu(n,e,arguments.length>=2,!0))}function tu(n){return n<=0?()=>jr.E:(0,Hn.e)((e,t)=>{let r=[];e.subscribe((0,Qt.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function ho(n,e){const t=arguments.length>=2;return r=>r.pipe(n?pr((o,l)=>n(o,l,r)):Si.y,tu(1),t?Xa(e):ji(()=>new Ui))}function Bo(n){return(0,Hn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Rt="primary";class Is{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Hi(n){return new Is(n)}function fi(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const h=r[l],m=n[l];if(h.startsWith(":"))o[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Ir(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!$o(n[o],e[o]))return!1;return!0}function $o(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,l)=>r[l]===o)}return n===e}function fo(n){return Array.prototype.concat.apply([],n)}function po(n){return n.length>0?n[n.length-1]:null}function Fn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Br(n){return(0,d.\u0275isObservable)(n)?n:(0,d.\u0275isPromise)(n)?(0,yt.D)(Promise.resolve(n)):ut(n)}const Go={exact:function Sn(n,e,t){if(!D(n.segments,e.segments)||!Ln(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Sn(n.children[r],e.children[r],t))return!1;return!0},subset:_a},Vs={exact:function Jl(n,e){return Ir(n,e)},subset:function nu(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>$o(n[t],e[t]))},ignored:()=>!0};function $r(n,e,t){return Go[t.paths](n.root,e.root,t.matrixParams)&&Vs[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function _a(n,e,t){return go(n,e,e.segments,t)}function go(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!D(o,t)||e.hasChildren()||!Ln(o,t,r))}if(n.segments.length===t.length){if(!D(n.segments,t)||!Ln(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!_a(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(D(n.segments,o)&&Ln(n.segments,o,r)&&n.children[Rt])&&go(n.children[Rt],e,l,r)}}function Ln(n,e,t){return e.every((r,o)=>Vs[t](n[o].parameters,r.parameters))}class Gi{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hi(this.queryParams)),this._queryParamMap}toString(){return Q.serialize(this)}}class Tt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Fn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ce(this)}}class ni{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Hi(this.parameters)),this._parameterMap}toString(){return un(this)}}function D(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class T{}class F{parse(e){const t=new Wi(e);return new Gi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ie(e.root,!0)}`,r=function Me(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${on(t)}=${on(o)}`).join("&"):`${on(t)}=${on(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function En(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Q=new F;function Ce(n){return n.segments.map(e=>un(e)).join("/")}function ie(n,e){if(!n.hasChildren())return Ce(n);if(e){const t=n.children[Rt]?ie(n.children[Rt],!1):"",r=[];return Fn(n.children,(o,l)=>{l!==Rt&&r.push(`${l}:${ie(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function P(n,e){let t=[];return Fn(n.children,(r,o)=>{o===Rt&&(t=t.concat(e(r,o)))}),Fn(n.children,(r,o)=>{o!==Rt&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Rt?[ie(n.children[Rt],!1)]:[`${o}:${ie(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Rt]?`${Ce(n)}/${t[0]}`:`${Ce(n)}/(${t.join("//")})`}}function lt(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function on(n){return lt(n).replace(/%3B/gi,";")}function an(n){return lt(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vt(n){return decodeURIComponent(n)}function zn(n){return Vt(n.replace(/\+/g,"%20"))}function un(n){return`${an(n.path)}${function lr(n){return Object.keys(n).map(e=>`;${an(e)}=${an(n[e])}`).join("")}(n.parameters)}`}const St=/^[^\/()?;=#]+/;function qi(n){const e=n.match(St);return e?e[0]:""}const zi=/^[^=?&#]+/,Us=/^[^&#]+/;class Wi{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tt([],{}):new Tt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Rt]=new Tt(e,t)),r}parseSegment(){const e=qi(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.\u0275RuntimeError(4009,!1);return this.capture(e),new ni(Vt(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=qi(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=qi(this.remaining);o&&(r=o,this.capture(r))}e[Vt(t)]=Vt(r)}parseQueryParam(e){const t=function Vn(n){const e=n.match(zi);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function Es(n){const e=n.match(Us);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=zn(t),l=zn(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=qi(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new d.\u0275RuntimeError(4010,!1);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Rt);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[Rt]:new Tt([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.\u0275RuntimeError(4011,!1)}}function qo(n){return n.segments.length>0?new Tt([],{[Rt]:n}):n}function js(n){const e={};for(const r of Object.keys(n.children)){const l=js(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function Xl(n){if(1===n.numberOfChildren&&n.children[Rt]){const e=n.children[Rt];return new Tt(n.segments.concat(e.segments),e.children)}return n}(new Tt(n.segments,e))}function Bs(n){return n instanceof Gi}function Dd(n,e,t,r,o){if(0===t.length)return zo(e.root,e.root,e.root,r,o);const l=function Td(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ia(!0,0,n);let e=0,t=!1;const r=n.reduce((o,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Fn(l.outlets,(E,S)=>{m[S]="string"==typeof E?E.split("/"):E}),[...o,{outlets:m}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===h?(l.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,l]},[]);return new Ia(t,e,r)}(t);return l.toRoot()?zo(e.root,e.root,new Tt([],{}),r,o):function h(E){const S=function $u(n,e,t,r){if(n.isAbsolute)return new us(e.root,!0,0);if(-1===r)return new us(t,t===e.root,0);return function Ea(n,e,t){let r=n,o=e,l=t;for(;l>o;){if(l-=o,r=r.parent,!r)throw new d.\u0275RuntimeError(4005,!1);o=r.segments.length}return new us(r,!1,o-l)}(t,r+(ws(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,e,n.snapshot?._urlSegment,E),N=S.processChildren?Cs(S.segmentGroup,S.index,l.commands):wa(S.segmentGroup,S.index,l.commands);return zo(e.root,S.segmentGroup,N,r,o)}(n.snapshot?._lastPathIndex)}function ws(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ri(n){return"object"==typeof n&&null!=n&&n.outlets}function zo(n,e,t,r,o){let h,l={};r&&Fn(r,(E,S)=>{l[S]=Array.isArray(E)?E.map(N=>`${N}`):`${E}`}),h=n===e?t:ec(n,e,t);const m=qo(js(h));return new Gi(m,l,o)}function ec(n,e,t){const r={};return Fn(n.children,(o,l)=>{r[l]=o===e?t:ec(o,e,t)}),new Tt(n.segments,r)}class Ia{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ws(r[0]))throw new d.\u0275RuntimeError(4003,!1);const o=r.find(ri);if(o&&o!==po(r))throw new d.\u0275RuntimeError(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class us{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function wa(n,e,t){if(n||(n=new Tt([],{})),0===n.segments.length&&n.hasChildren())return Cs(n,e,t);const r=function Hu(n,e,t){let r=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return l;const h=n.segments[o],m=t[r];if(ri(m))break;const E=`${m}`,S=r<t.length-1?t[r+1]:null;if(o>0&&void 0===E)break;if(E&&S&&"object"==typeof S&&void 0===S.outlets){if(!qu(E,S,h))return l;r+=2}else{if(!qu(E,{},h))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Tt(n.segments.slice(0,r.pathIndex),{});return l.children[Rt]=new Tt(n.segments.slice(r.pathIndex),n.children),Cs(l,0,o)}return r.match&&0===o.length?new Tt(n.segments,{}):r.match&&!n.hasChildren()?Ca(n,e,t):r.match?Cs(n,0,o):Ca(n,e,t)}function Cs(n,e,t){if(0===t.length)return new Tt(n.segments,{});{const r=function tc(n){return ri(n[0])?n[0].outlets:{[Rt]:n}}(t),o={};return Fn(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[h]=wa(n.children[h],e,l))}),Fn(n.children,(l,h)=>{void 0===r[h]&&(o[h]=l)}),new Tt(n.segments,o)}}function Ca(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if(ri(l)){const E=Gu(l.outlets);return new Tt(r,E)}if(0===o&&ws(t[0])){r.push(new ni(n.segments[e].path,su(t[0]))),o++;continue}const h=ri(l)?l.outlets[Rt]:`${l}`,m=o<t.length-1?t[o+1]:null;h&&m&&ws(m)?(r.push(new ni(h,su(m))),o+=2):(r.push(new ni(h,{})),o++)}return new Tt(r,{})}function Gu(n){const e={};return Fn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Ca(new Tt([],{}),0,t))}),e}function su(n){const e={};return Fn(n,(t,r)=>e[r]=`${t}`),e}function qu(n,e,t){return n==t.path&&Ir(e,t.parameters)}class ls{constructor(e,t){this.id=e,this.url=t}}class ou extends ls{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Un extends ls{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cs extends ls{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wn extends ls{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nc extends ls{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rc extends ls{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zu extends ls{constructor(e,t,r,o,l){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tf extends ls{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ic extends ls{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nf{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Sd{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ad{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class au{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rf{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cg{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wu{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class uu{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=lu(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=lu(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=$s(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return $s(e,this._root).map(t=>t.value)}}function lu(n,e){if(n===e.value)return e;for(const t of e.children){const r=lu(n,t);if(r)return r}return null}function $s(n,e){if(n===e.value)return[e];for(const t of e.children){const r=$s(n,t);if(r.length)return r.unshift(e),r}return[]}class Gr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function jn(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class sc extends uu{constructor(e,t){super(e),this.snapshot=t,Ku(this,e)}toString(){return this.snapshot.toString()}}function xd(n,e){const t=function dg(n,e){const h=new bs([],{},{},"",{},Rt,e,null,n.root,-1,{});return new ba("",new Gr(h,[]))}(n,e),r=new ar([new ni("",{})]),o=new ar({}),l=new ar({}),h=new ar({}),m=new ar(""),E=new Hs(r,o,h,m,l,Rt,e,t.root);return E.snapshot=t.root,new sc(new Gr(E,[]),t)}class Hs{constructor(e,t,r,o,l,h,m,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(e=>Hi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(e=>Hi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gs(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],l=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function Md(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class bs{constructor(e,t,r,o,l,h,m,E,S,N,U,te){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this.routeConfig=E,this._urlSegment=S,this._lastPathIndex=N,this._correctedLastPathIndex=te??N,this._resolve=U}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ba extends uu{constructor(e,t){super(t),this.url=e,Ku(this,t)}toString(){return oc(this._root)}}function Ku(n,e){e.value._routerState=n,e.children.forEach(t=>Ku(n,t))}function oc(n){const e=n.children.length>0?` { ${n.children.map(oc).join(", ")} } `:"";return`${n.value}${e}`}function mo(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ir(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ir(e.params,t.params)||n.params.next(t.params),function os(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ir(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ir(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function pi(n,e){const t=Ir(n.params,e.params)&&function gr(n,e){return D(n,e)&&n.every((t,r)=>Ir(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||pi(n.parent,e.parent))}function Da(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function ds(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Da(n,r,o);return Da(n,r)})}(n,e,t);return new Gr(r,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(m=>Da(n,m)),h}}const r=function sf(n){return new Hs(new ar(n.url),new ar(n.params),new ar(n.queryParams),new ar(n.fragment),new ar(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>Da(n,l));return new Gr(r,o)}}const Zu="ngNavigationCancelingError";function Ko(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Bs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=Qu(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function Qu(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Zu]=!0,r.cancellationCode=e,t&&(r.url=t),r}function gn(n){return Yu(n)&&Bs(n.url)}function Yu(n){return n&&n[Zu]}class yo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new zs,this.attachRef=null}}class zs{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new yo,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}const vo=!1;let Ta=(()=>{class n{constructor(t,r,o,l,h){this.parentContexts=t,this.location=r,this.changeDetector=l,this.environmentInjector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.EventEmitter,this.deactivateEvents=new d.EventEmitter,this.attachEvents=new d.EventEmitter,this.detachEvents=new d.EventEmitter,this.name=o||Rt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.\u0275RuntimeError(4012,vo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.\u0275RuntimeError(4012,vo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.\u0275RuntimeError(4012,vo);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new d.\u0275RuntimeError(4013,vo);this._activatedRoute=t;const o=this.location,h=t._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,E=new Ju(t,m,o.injector);if(r&&function Xu(n){return!!n.resolveComponentFactory}(r)){const S=r.resolveComponentFactory(h);this.activated=o.createComponent(S,o.length,E)}else this.activated=o.createComponent(h,{index:o.length,injector:E,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275directiveInject(zs),d.\u0275\u0275directiveInject(d.ViewContainerRef),d.\u0275\u0275injectAttribute("name"),d.\u0275\u0275directiveInject(d.ChangeDetectorRef),d.\u0275\u0275directiveInject(d.EnvironmentInjector))},n.\u0275dir=d.\u0275\u0275defineDirective({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Ju{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Hs?this.route:e===zs?this.childContexts:this.parent.get(e,t)}}let ac=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&d.\u0275\u0275element(0,"router-outlet")},dependencies:[Ta],encapsulation:2}),n})();function _o(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.createEnvironmentInjector)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ki(n){const e=n.children&&n.children.map(Ki),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Rt&&(t.component=ac),t}function gi(n){return n.outlet||Rt}function rl(n,e){const t=n.filter(r=>gi(r)===e);return t.push(...n.filter(r=>gi(r)!==e)),t}function il(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Qo{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),mo(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=jn(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,o[h],r),delete o[h]}),Fn(o,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=jn(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);if(r&&r.outlet){const h=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=jn(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=jn(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new cg(l.value.snapshot))}),e.children.length&&this.forwardEvent(new au(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(mo(o),o===l)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),mo(m.route.value),this.activateChildRoutes(e,null,h.children)}else{const m=il(o.snapshot),E=m?.get(d.ComponentFactoryResolver)??null;h.attachRef=null,h.route=o,h.resolver=E,h.injector=m,h.outlet&&h.outlet.activateWith(o,h.injector),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class Sa{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ks{constructor(e,t){this.component=e,this.route=t}}function mi(n,e,t){const r=n._root;return hs(r,e?e._root:null,t,[r.value])}function Ds(n,e,t){return(il(e)??t).get(n)}function hs(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=jn(e);return n.children.forEach(h=>{(function Io(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const E=function Qs(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!D(n.url,e.url);case"pathParamsOrQueryParamsChange":return!D(n.url,e.url)||!Ir(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pi(n,e)||!Ir(n.queryParams,e.queryParams);default:return!pi(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new Sa(r)):(l.data=h.data,l._resolvedData=h._resolvedData),hs(n,e,l.component?m?m.children:null:t,r,o),E&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Ks(m.outlet.component,h))}else h&&yi(e,m,o),o.canActivateChecks.push(new Sa(r)),hs(n,null,l.component?m?m.children:null:t,r,o)})(h,l[h.value.outlet],t,r.concat([h.value]),o),delete l[h.value.outlet]}),Fn(l,(h,m)=>yi(h,t.getContext(m),o)),o}function yi(n,e,t){const r=jn(n),o=n.value;Fn(r,(l,h)=>{yi(l,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new Ks(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function qt(n){return"function"==typeof n}const Fd=Symbol("INITIAL_VALUE");function hu(){return er(n=>Ja(n.map(e=>e.pipe(Fs(1),_s(Fd)))).pipe((0,it.U)(e=>{for(const t of e)if(!0!==t){if(t===Fd)return Fd;if(!1===t||t instanceof Gi)return t}return!0}),pr(e=>e!==Fd),Fs(1)))}function Eo(n){return(0,Ql.z)((0,Dn.b)(e=>{if(Bs(e))throw Ko(0,e)}),(0,it.U)(e=>!0===e))}const gu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cf(n,e,t,r,o){const l=al(n,e,t);return l.matched?function pu(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?ut(o.map(h=>{const m=n.get(h),E=function uf(n){return n&&qt(n.canMatch)}(m)?m.canMatch(e,t):m(e,t);return Br(E)})).pipe(hu(),Eo()):ut(!0)}(r=_o(e,r),e,t).pipe((0,it.U)(h=>!0===h?l:{...gu})):ut(l)}function al(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...gu}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||fi)(t,n,e);if(!o)return{...gu};const l={};Fn(o.posParams,(m,E)=>{l[E]=m.path});const h=o.consumed.length>0?{...l,...o.consumed[o.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:h,positionalParamSegments:o.posParams??{}}}function Yo(n,e,t,r,o="corrected"){if(t.length>0&&function cc(n,e,t){return t.some(r=>mu(n,e,r)&&gi(r)!==Rt)}(n,t,r)){const h=new Tt(e,function ii(n,e,t,r){const o={};o[Rt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&gi(l)!==Rt){const h=new Tt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[gi(l)]=h}return o}(n,e,r,new Tt(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function Co(n,e,t){return t.some(r=>mu(n,e,r))}(n,t,r)){const h=new Tt(n.segments,function wo(n,e,t,r,o,l){const h={};for(const m of r)if(mu(n,t,m)&&!o[gi(m)]){const E=new Tt([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===l?n.segments.length:e.length,h[gi(m)]=E}return{...o,...h}}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const l=new Tt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function mu(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Jo(n,e,t,r){return!!(gi(n)===r||r!==Rt&&mu(e,t,n))&&("**"===n.path||al(e,n,t).matched)}function yu(n,e,t){return 0===e.length&&!n.children[t]}const Aa=!1;class xa{constructor(e){this.segmentGroup=e||null}}class Ma{constructor(e){this.urlTree=e}}function ul(n){return ur(new xa(n))}function ll(n){return ur(new Ma(n))}class Ai{constructor(e,t,r,o,l){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0}apply(){const e=Yo(this.urlTree.root,[],[],this.config).segmentGroup,t=new Tt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Rt).pipe((0,it.U)(l=>this.createUrlTree(js(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ls(l=>{if(l instanceof Ma)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof xa?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Rt).pipe((0,it.U)(o=>this.createUrlTree(js(o),e.queryParams,e.fragment))).pipe(Ls(o=>{throw o instanceof xa?this.noMatchError(o):o}))}noMatchError(e){return new d.\u0275RuntimeError(4002,Aa)}createUrlTree(e,t,r){const o=qo(e);return new Gi(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,it.U)(l=>new Tt([],l))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,yt.D)(o).pipe($i(l=>{const h=r.children[l],m=rl(t,l);return this.expandSegmentGroup(e,m,h,l).pipe((0,it.U)(E=>({segment:E,outlet:l})))}),jo((l,h)=>(l[h.outlet]=h.segment,l),{}),ho())}expandSegment(e,t,r,o,l,h){return(0,yt.D)(r).pipe($i(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,l,h).pipe(Ls(S=>{if(S instanceof xa)return ut(null);throw S}))),Bi(m=>!!m),Ls((m,E)=>{if(m instanceof Ui||"EmptyError"===m.name)return yu(t,o,l)?ut(new Tt([],{})):ul(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,l,h,m){return Jo(o,t,l,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,l,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h):ul(t):ul(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ll(l):this.lineralizeSegments(r,l).pipe((0,_n.z)(h=>{const m=new Tt(h,{});return this.expandSegment(e,m,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){const{matched:m,consumedSegments:E,remainingSegments:S,positionalParamSegments:N}=al(t,o,l);if(!m)return ul(t);const U=this.applyRedirectCommands(E,o.redirectTo,N);return o.redirectTo.startsWith("/")?ll(U):this.lineralizeSegments(o,U).pipe((0,_n.z)(te=>this.expandSegment(e,t,r,te.concat(S),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,l){return"**"===r.path?(e=_o(r,e),r.loadChildren?(r._loadedRoutes?ut({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,it.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new Tt(o,{})))):ut(new Tt(o,{}))):cf(t,r,o,e).pipe(er(({matched:h,consumedSegments:m,remainingSegments:E})=>h?this.getChildConfig(e=r._injector??e,r,o).pipe((0,_n.z)(N=>{const U=N.injector??e,te=N.routes,{segmentGroup:we,slicedSegments:Ne}=Yo(t,m,E,te),Ye=new Tt(we.segments,we.children);if(0===Ne.length&&Ye.hasChildren())return this.expandChildren(U,te,Ye).pipe((0,it.U)(Cn=>new Tt(m,Cn)));if(0===te.length&&0===Ne.length)return ut(new Tt(m,{}));const rt=gi(r)===l;return this.expandSegment(U,Ye,te,Ne,rt?Rt:l,!0).pipe((0,it.U)(yn=>new Tt(m.concat(yn.segments),yn.children)))})):ul(t)))}getChildConfig(e,t,r){return t.children?ut({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ut({routes:t._loadedRoutes,injector:t._loadedInjector}):function ol(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?ut(!0):ut(o.map(h=>{const m=n.get(h),E=function Od(n){return n&&qt(n.canLoad)}(m)?m.canLoad(e,t):m(e,t);return Br(E)})).pipe(hu(),Eo())}(e,t,r).pipe((0,_n.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,Dn.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function Ra(n){return ur(Qu(Aa,3))}())):ut({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return ut(r);if(o.numberOfChildren>1||!o.children[Rt])return ur(new d.\u0275RuntimeError(4e3,Aa));o=o.children[Rt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const l=this.createSegmentGroup(e,t.root,r,o);return new Gi(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Fn(e,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[l]=t[m]}else r[l]=o}),r}createSegmentGroup(e,t,r,o){const l=this.createSegments(e,t.segments,r,o);let h={};return Fn(t.children,(m,E)=>{h[E]=this.createSegmentGroup(e,m,r,o)}),new Tt(l,h)}createSegments(e,t,r,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new d.\u0275RuntimeError(4001,Aa);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class df{}class Ts{constructor(e,t,r,o,l,h,m,E){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=l,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=m,this.urlSerializer=E}recognize(){const e=Yo(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Rt).pipe((0,it.U)(t=>{if(null===t)return null;const r=new bs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Rt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Gr(r,t),l=new ba(this.url,o);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(e){const t=e.value,r=Gs(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return(0,yt.D)(Object.keys(r.children)).pipe($i(o=>{const l=r.children[o],h=rl(t,o);return this.processSegmentGroup(e,h,l,o)}),jo((o,l)=>o&&l?(o.push(...l),o):null),function ss(n,e=!1){return(0,Hn.e)((t,r)=>{let o=0;t.subscribe((0,Qt.x)(r,l=>{const h=n(l,o++);(h||e)&&r.next(l),!h&&r.complete()}))})}(o=>null!==o),Xa(null),ho(),(0,it.U)(o=>{if(null===o)return null;const l=Wn(o);return function cl(n){n.sort((e,t)=>e.value.outlet===Rt?-1:t.value.outlet===Rt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(e,t,r,o,l){return(0,yt.D)(t).pipe($i(h=>this.processSegmentAgainstRoute(h._injector??e,h,r,o,l)),Bi(h=>!!h),Ls(h=>{if(h instanceof Ui)return yu(r,o,l)?ut([]):ut(null);throw h}))}processSegmentAgainstRoute(e,t,r,o,l){if(t.redirectTo||!Jo(t,r,o,l))return ut(null);let h;if("**"===t.path){const m=o.length>0?po(o).parameters:{},E=b(r)+o.length;h=ut({snapshot:new bs(o,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,R(t),gi(t),t.component??t._loadedComponent??null,t,jd(r),E,B(t),E),consumedSegments:[],remainingSegments:[]})}else h=cf(r,t,o,e).pipe((0,it.U)(({matched:m,consumedSegments:E,remainingSegments:S,parameters:N})=>{if(!m)return null;const U=b(r)+E.length;return{snapshot:new bs(E,N,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,R(t),gi(t),t.component??t._loadedComponent??null,t,jd(r),U,B(t),U),consumedSegments:E,remainingSegments:S}}));return h.pipe(er(m=>{if(null===m)return ut(null);const{snapshot:E,consumedSegments:S,remainingSegments:N}=m;e=t._injector??e;const U=t._loadedInjector??e,te=function Do(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:we,slicedSegments:Ne}=Yo(r,S,N,te.filter(rt=>void 0===rt.redirectTo),this.relativeLinkResolution);if(0===Ne.length&&we.hasChildren())return this.processChildren(U,te,we).pipe((0,it.U)(rt=>null===rt?null:[new Gr(E,rt)]));if(0===te.length&&0===Ne.length)return ut([new Gr(E,[])]);const Ye=gi(t)===l;return this.processSegment(U,te,we,Ne,Ye?Rt:l).pipe((0,it.U)(rt=>null===rt?null:[new Gr(E,rt)]))}))}}function hc(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Wn(n){const e=[],t=new Set;for(const r of n){if(!hc(r)){e.push(r);continue}const o=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Wn(r.children);e.push(new Gr(r.value,o))}return e.filter(r=>!t.has(r))}function jd(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function b(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function R(n){return n.data||{}}function B(n){return n.resolve||{}}const fe=Symbol("RouteTitle");function gt(n){return"string"==typeof n.title||null===n.title}function Gn(n){return er(e=>{const t=n(e);return t?(0,yt.D)(t).pipe((0,it.U)(()=>e)):ut(e)})}class ea extends class vu{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ta=new d.InjectionToken("ROUTES");let Na=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ut(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Br(t.loadComponent()).pipe((0,Dn.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),Bo(()=>{this.componentLoaders.delete(t)})),o=new co(r,()=>new ln.x).pipe(wd());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ut({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,it.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let E,S,N=!1;Array.isArray(m)?S=m:(E=m.create(t).injector,S=fo(E.get(ta,[],d.InjectFlags.Self|d.InjectFlags.Optional)));return{routes:S.map(Ki),injector:E}}),Bo(()=>{this.childrenLoaders.delete(r)})),h=new co(l,()=>new ln.x).pipe(wd());return this.childrenLoaders.set(r,h),h}loadModuleFactoryOrRoutes(t){return Br(t()).pipe((0,_n.z)(r=>r instanceof d.NgModuleFactory||Array.isArray(r)?ut(r):(0,yt.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275inject(d.Injector),d.\u0275\u0275inject(d.Compiler))},n.\u0275prov=d.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class To{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function hf(n){throw n}function ff(n,e,t){return e.parse("/")}const zy={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wy={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let An=(()=>{class n{constructor(t,r,o,l,h,m,E){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=l,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ln.x,this.errorHandler=hf,this.malformedUriErrorHandler=ff,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ut(void 0),this.urlHandlingStrategy=new To,this.routeReuseStrategy=new ea,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=h.get(Na),this.configLoader.onLoadEndListener=te=>this.triggerEvent(new Sd(te)),this.configLoader.onLoadStartListener=te=>this.triggerEvent(new nf(te)),this.ngModule=h.get(d.NgModuleRef),this.console=h.get(d.\u0275Console);const U=h.get(d.NgZone);this.isNgZoneEnabled=U instanceof d.NgZone&&d.NgZone.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function Ho(){return new Gi(new Tt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xd(this.currentUrlTree,this.rootComponentType),this.transitions=new ar({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(pr(o=>0!==o.id),(0,it.U)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),er(o=>{let l=!1,h=!1;return ut(o).pipe((0,Dn.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),er(m=>{const E=this.browserUrlTree.toString(),S=!this.navigated||m.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return pc(m.source)&&(this.browserUrlTree=m.extractedUrl),ut(m).pipe(er(U=>{const te=this.transitions.getValue();return r.next(new ou(U.id,this.serializeUrl(U.extractedUrl),U.source,U.restoredState)),te!==this.transitions.getValue()?jr.E:Promise.resolve(U)}),function bo(n,e,t,r){return er(o=>function Ud(n,e,t,r,o){return new Ai(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,it.U)(l=>({...o,urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Dn.b)(U=>{this.currentNavigation={...this.currentNavigation,finalUrl:U.urlAfterRedirects},o.urlAfterRedirects=U.urlAfterRedirects}),function ne(n,e,t,r,o,l){return(0,_n.z)(h=>function dc(n,e,t,r,o,l,h="emptyOnly",m="legacy"){return new Ts(n,e,t,r,o,h,m,l).recognize().pipe(er(E=>null===E?function Js(n){return new Xt.y(e=>e.error(n))}(new df):ut(E)))}(n,e,t,h.urlAfterRedirects,r.serialize(h.urlAfterRedirects),r,o,l).pipe((0,it.U)(m=>({...h,targetSnapshot:m}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Dn.b)(U=>{if(o.targetSnapshot=U.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!U.extras.skipLocationChange){const we=this.urlHandlingStrategy.merge(U.urlAfterRedirects,U.rawUrl);this.setBrowserUrl(we,U)}this.browserUrlTree=U.urlAfterRedirects}const te=new nc(U.id,this.serializeUrl(U.extractedUrl),this.serializeUrl(U.urlAfterRedirects),U.targetSnapshot);r.next(te)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:te,extractedUrl:we,source:Ne,restoredState:Ye,extras:rt}=m,en=new ou(te,this.serializeUrl(we),Ne,Ye);r.next(en);const yn=xd(we,this.rootComponentType).snapshot;return ut(o={...m,targetSnapshot:yn,urlAfterRedirects:we,extras:{...rt,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),jr.E}),(0,Dn.b)(m=>{const E=new rc(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(E)}),(0,it.U)(m=>o={...m,guards:mi(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),function wr(n,e){return(0,_n.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?ut({...t,guardsResult:!0}):function lc(n,e,t,r){return(0,yt.D)(n).pipe((0,_n.z)(o=>function sl(n,e,t,r,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?ut(l.map(m=>{const E=Ds(m,e,o);return Br(function af(n){return n&&qt(n.canDeactivate)}(E)?E.canDeactivate(n,e,t,r):E(n,e,t,r)).pipe(Bi())})).pipe(hu()):ut(!0)}(o.component,o.route,t,e,r)),Bi(o=>!0!==o,!0))}(h,r,o,n).pipe((0,_n.z)(m=>m&&function hg(n){return"boolean"==typeof n}(m)?function fu(n,e,t,r){return(0,yt.D)(e).pipe($i(o=>vs(function Ld(n,e){return null!==n&&e&&e(new Ad(n)),ut(!0)}(o.route.parent,r),function lf(n,e){return null!==n&&e&&e(new rf(n)),ut(!0)}(o.route,r),function Ys(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function Zs(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>kn(()=>ut(h.guards.map(E=>{const S=Ds(E,h.node,t);return Br(function Pd(n){return n&&qt(n.canActivateChild)}(S)?S.canActivateChild(r,n):S(r,n)).pipe(Bi())})).pipe(hu())));return ut(l).pipe(hu())}(n,o.path,t),function qr(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ut(!0);const o=r.map(l=>kn(()=>{const h=Ds(l,e,t);return Br(function du(n){return n&&qt(n.canActivate)}(h)?h.canActivate(e,n):h(e,n)).pipe(Bi())}));return ut(o).pipe(hu())}(n,o.route,t))),Bi(o=>!0!==o,!0))}(r,l,n,e):ut(m)),(0,it.U)(m=>({...t,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Dn.b)(m=>{if(o.guardsResult=m.guardsResult,Bs(m.guardsResult))throw Ko(0,m.guardsResult);const E=new zu(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(E)}),pr(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",3),!1)),Gn(m=>{if(m.guards.canActivateChecks.length)return ut(m).pipe((0,Dn.b)(E=>{const S=new tf(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(S)}),er(E=>{let S=!1;return ut(E).pipe(function ke(n,e){return(0,_n.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return ut(t);let l=0;return(0,yt.D)(o).pipe($i(h=>function Qe(n,e,t,r){const o=n.routeConfig,l=n._resolve;return void 0!==o?.title&&!gt(o)&&(l[fe]=o.title),function pt(n,e,t,r){const o=function At(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return ut({});const l={};return(0,yt.D)(o).pipe((0,_n.z)(h=>function kt(n,e,t,r){const o=Ds(n,e,r);return Br(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe(Bi(),(0,Dn.b)(m=>{l[h]=m}))),tu(1),function bd(n){return(0,it.U)(()=>n)}(l),Ls(h=>h instanceof Ui?jr.E:ur(h)))}(l,n,e,r).pipe((0,it.U)(h=>(n._resolvedData=h,n.data=Gs(n,t).resolve,o&&gt(o)&&(n.data[fe]=o.title),null)))}(h.route,r,n,e)),(0,Dn.b)(()=>l++),tu(1),(0,_n.z)(h=>l===o.length?ut(t):jr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Dn.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(E),this.cancelNavigationTransition(E,"",2))}}))}),(0,Dn.b)(E=>{const S=new ic(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(S)}))}),Gn(m=>{const E=S=>{const N=[];S.routeConfig?.loadComponent&&!S.routeConfig._loadedComponent&&N.push(this.configLoader.loadComponent(S.routeConfig).pipe((0,Dn.b)(U=>{S.component=U}),(0,it.U)(()=>{})));for(const U of S.children)N.push(...E(U));return N};return Ja(E(m.targetSnapshot.root)).pipe(Xa(),Fs(1))}),Gn(()=>this.afterPreactivation()),(0,it.U)(m=>{const E=function qs(n,e,t){const r=Da(n,e._root,t?t._root:void 0);return new sc(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return o={...m,targetRouterState:E}}),(0,Dn.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,it.U)(r=>(new Qo(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Dn.b)({next(){l=!0},complete(){l=!0}}),Bo(()=>{l||h||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ls(m=>{if(h=!0,Yu(m)){gn(m)||(this.navigated=!0,this.restoreHistory(o,!0));const E=new cs(o.id,this.serializeUrl(o.extractedUrl),m.message,m.cancellationCode);if(r.next(E),gn(m)){const S=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),N={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pc(o.source)};this.scheduleNavigation(S,"imperative",null,N,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const E=new wn(o.id,this.serializeUrl(o.extractedUrl),m,o.targetSnapshot??void 0);r.next(E);try{o.resolve(this.errorHandler(m))}catch(S){o.reject(S)}}return jr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},l=t.state?.navigationId?t.state:null;if(l){const m={...l};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,r,l,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Ki),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:m,preserveFragment:E}=r,S=o||this.routerState.root,N=E?this.currentUrlTree.fragment:h;let U=null;switch(m){case"merge":U={...this.currentUrlTree.queryParams,...l};break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=l||null}return null!==U&&(U=this.removeEmptyProps(U)),Dd(S,this.currentUrlTree,t,U,N??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Bs(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function fg(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new d.\u0275RuntimeError(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...zy}:!1===r?{...Wy}:r,Bs(t))return $r(this.currentUrlTree,t,o);const l=this.parseUrl(t);return $r(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const l=t[o];return null!=l&&(r[o]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Un(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,l,h){if(this.disposed)return Promise.resolve(!1);let m,E,S;h?(m=h.resolve,E=h.reject,S=h.promise):S=new Promise((te,we)=>{m=te,E=we});const N=++this.navigationId;let U;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),U=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):U=0,this.setTransition({id:N,targetPageId:U,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:m,reject:E,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(te=>Promise.reject(te))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),l={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,o){const l=new cs(t.id,this.serializeUrl(t.extractedUrl),r,o);this.triggerEvent(l),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){d.\u0275\u0275invalidFactory()},n.\u0275prov=d.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function pc(n){return"imperative"!==n}let dl=(()=>{class n{constructor(t,r,o,l,h){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=l,this.el=h,this.commands=null,this.onChanges=new ln.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==t?r.setAttribute(o,"tabindex",t):r.removeAttribute(o,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:(0,d.\u0275coerceToBoolean)(this.skipLocationChange),replaceUrl:(0,d.\u0275coerceToBoolean)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,d.\u0275coerceToBoolean)(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275directiveInject(An),d.\u0275\u0275directiveInject(Hs),d.\u0275\u0275injectAttribute("tabindex"),d.\u0275\u0275directiveInject(d.Renderer2),d.\u0275\u0275directiveInject(d.ElementRef))},n.\u0275dir=d.\u0275\u0275defineDirective({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&d.\u0275\u0275listener("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[d.\u0275\u0275NgOnChangesFeature]}),n})(),As=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new ln.x,this.subscription=t.events.subscribe(l=>{l instanceof Un&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,l,h){if(0!==t||r||o||l||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const m={skipLocationChange:(0,d.\u0275coerceToBoolean)(this.skipLocationChange),replaceUrl:(0,d.\u0275coerceToBoolean)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,d.\u0275coerceToBoolean)(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275directiveInject(An),d.\u0275\u0275directiveInject(Hs),d.\u0275\u0275directiveInject(C.LocationStrategy))},n.\u0275dir=d.\u0275\u0275defineDirective({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&d.\u0275\u0275listener("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&d.\u0275\u0275attribute("target",r.target)("href",r.href,d.\u0275\u0275sanitizeUrl)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[d.\u0275\u0275NgOnChangesFeature]}),n})(),Bd=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(l=>l.outlet===Rt);return r}getResolvedTitleForRoute(t){return t.data[fe]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.\u0275\u0275defineInjectable({token:n,factory:function(){return(0,d.inject)(Zy)},providedIn:"root"}),n})(),Zy=(()=>{class n extends Bd{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275inject(ms))},n.\u0275prov=d.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class pf{}let _u=(()=>{class n{constructor(t,r,o,l,h){this.router=t,this.injector=o,this.preloadingStrategy=l,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(pr(t=>t instanceof Un),$i(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,d.createEnvironmentInjector)(l.providers,t,`Route: ${l.path}`));const h=l._injector??t,m=l._loadedInjector??h;l.loadChildren&&!l._loadedRoutes||l.loadComponent&&!l._loadedComponent?o.push(this.preloadConfig(h,l)):(l.children||l._loadedRoutes)&&o.push(this.processRoutes(m,l.children??l._loadedRoutes))}return(0,yt.D)(o).pipe((0,Vi.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ut(null);const l=o.pipe((0,_n.z)(h=>null===h?ut(void 0):(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,this.processRoutes(h.injector??t,h.routes))));if(r.loadComponent&&!r._loadedComponent){const h=this.loader.loadComponent(r);return(0,yt.D)([l,h]).pipe((0,Vi.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275inject(An),d.\u0275\u0275inject(d.Compiler),d.\u0275\u0275inject(d.EnvironmentInjector),d.\u0275\u0275inject(pf),d.\u0275\u0275inject(Na))},n.\u0275prov=d.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const gg=new d.InjectionToken("");let Qy=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ou?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Un&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Wu&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Wu(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){d.\u0275\u0275invalidFactory()},n.\u0275prov=d.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const hl=new d.InjectionToken("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),yf=new d.InjectionToken("ROUTER_FORROOT_GUARD"),vf=new d.InjectionToken(""),mg=[C.Location,{provide:T,useClass:F},{provide:An,useFactory:function ka(n,e,t,r,o,l,h,m={},E,S){const N=new An(null,n,e,t,r,o,fo(l));return E&&(N.urlHandlingStrategy=E),S&&(N.routeReuseStrategy=S),N.titleStrategy=h,function vg(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(m,N),N},deps:[T,zs,C.Location,d.Injector,d.Compiler,ta,Bd,hl,[class Oa{},new d.Optional],[class vi{},new d.Optional]]},zs,{provide:Hs,useFactory:function _g(n){return n.routerState.root},deps:[An]},Na];function Iu(){return new d.NgProbeToken("Router",An)}let Hd=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[mg,[],So(t),{provide:yf,useFactory:yg,deps:[[An,new d.Optional,new d.SkipSelf]]},{provide:hl,useValue:r||{}},r?.useHash?{provide:C.LocationStrategy,useClass:C.HashLocationStrategy}:{provide:C.LocationStrategy,useClass:C.PathLocationStrategy},{provide:gg,useFactory:()=>{const n=(0,d.inject)(An),e=(0,d.inject)(C.ViewportScroller),t=(0,d.inject)(hl);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Qy(n,e,t)}},r?.preloadingStrategy?SI(r.preloadingStrategy):[],{provide:d.NgProbeToken,multi:!0,useFactory:Iu},r?.initialNavigation?Xy(r):[],[{provide:Eg,useFactory:Ig},{provide:d.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Eg}]]}}static forChild(t){return{ngModule:n,providers:[So(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275inject(yf,8),d.\u0275\u0275inject(An,8))},n.\u0275mod=d.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=d.\u0275\u0275defineInjector({}),n})();function yg(n){return"guarded"}function So(n){return[{provide:d.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:n},{provide:ta,multi:!0,useValue:n}]}function Ig(){const n=(0,d.inject)(d.Injector);return e=>{const t=n.get(d.ApplicationRef);if(e!==t.components[0])return;const r=n.get(An),o=n.get(wg);null===n.get(If,null,d.InjectFlags.Optional)&&r.initialNavigation(),n.get(vf,null,d.InjectFlags.Optional)?.setUpPreloading(),n.get(gg,null,d.InjectFlags.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.next(),o.complete()}}const Eg=new d.InjectionToken("");function Xy(n){return["disabled"===n.initialNavigation?[{provide:d.APP_INITIALIZER,multi:!0,useFactory:()=>{const n=(0,d.inject)(An);return()=>{n.setUpLocationChangeListener()}}},{provide:If,useValue:"disabled"}]:[],"enabledBlocking"===n.initialNavigation?[{provide:If,useValue:"enabledBlocking"},{provide:d.APP_INITIALIZER,multi:!0,deps:[d.Injector],useFactory:n=>{const e=n.get(C.LOCATION_INITIALIZED,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(o=>{const l=n.get(An),h=n.get(wg);(function r(o){n.get(An).events.pipe(pr(h=>h instanceof Un||h instanceof cs||h instanceof wn),(0,it.U)(h=>h instanceof Un||h instanceof cs&&(0===h.code||1===h.code)&&null),pr(h=>null!==h),Fs(1)).subscribe(()=>{o()})})(()=>{o(!0),t=!0}),l.afterPreactivation=()=>(o(!0),t||h.closed?ut(void 0):h),l.initialNavigation()}))}}]:[]]}const wg=new d.InjectionToken("",{factory:()=>new ln.x}),If=new d.InjectionToken("");function SI(n){return[_u,{provide:vf,useExisting:_u},{provide:pf,useExisting:n}]}var gc=L(4986),Rr=L(5813);function Zi(){return(0,Hn.e)((n,e)=>{let t,r=!1;n.subscribe((0,Qt.x)(e,o=>{const l=t;t=o,r&&e.next([l,o]),r=!0}))})}function bg(n,e){return n===e}var st,Qi=L(2011),AI=(L(1451),L(3942)),Ae=L(5861),fl=L(9681),pl=L(4859),Xs=L(1877),Ut=L(2090),xI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fa={},yc=yc||{},Ot=xI||self;function Gd(){}function gl(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ml(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var zd="closure_uid_"+(1e9*Math.random()>>>0),Wd=0;function rv(n,e,t){return n.call.apply(n.bind,arguments)}function mr(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function zr(n,e,t){return(zr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rv:mr).apply(null,arguments)}function vc(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function tr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return e.prototype[o].apply(r,h)}}function Ao(){this.s=this.s,this.o=this.o}var Dg={};Ao.prototype.s=!1,Ao.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function qd(n){return Object.prototype.hasOwnProperty.call(n,zd)&&n[zd]||(n[zd]=++Wd)}(this);delete Dg[n]}},Ao.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Cf=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Tg=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in o&&e.call(t,o[l],l,n)};function Ag(n){return Array.prototype.concat.apply([],arguments)}function Kd(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function xo(n){return/^[\s\xa0]*$/.test(n)}var _i,_c=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function si(n,e){return-1!=n.indexOf(e)}function yl(n,e){return n<e?-1:n>e?1:0}e:{var Mi=Ot.navigator;if(Mi){var wu=Mi.userAgent;if(wu){_i=wu;break e}}_i=""}function Ic(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Zd(n){const e={};for(const t in n)e[t]=n[t];return e}var bf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qd(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<bf.length;l++)t=bf[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ec(n){return Ec[" "](n),n}Ec[" "]=Gd;var Cr,n,xg=si(_i,"Opera"),Nr=si(_i,"Trident")||si(_i,"MSIE"),Tf=si(_i,"Edge"),wc=Tf||Nr,Cc=si(_i,"Gecko")&&!(si(_i.toLowerCase(),"webkit")&&!si(_i,"Edge"))&&!(si(_i,"Trident")||si(_i,"MSIE"))&&!si(_i,"Edge"),iv=si(_i.toLowerCase(),"webkit")&&!si(_i,"Edge");function bc(){var n=Ot.document;return n?n.documentMode:void 0}e:{var eo="",vl=(n=_i,Cc?/rv:([^\);]+)(\)|;)/.exec(n):Tf?/Edge\/([\d\.]+)/.exec(n):Nr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):iv?/WebKit\/(\S+)/.exec(n):xg?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(vl&&(eo=vl?vl[1]:""),Nr){var Dc=bc();if(null!=Dc&&Dc>parseFloat(eo)){Cr=String(Dc);break e}}Cr=eo}var na={};var sv=Ot.document&&Nr&&(bc()||parseInt(Cr,10))||void 0,Sf=function(){if(!Ot.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ot.addEventListener("test",Gd,e),Ot.removeEventListener("test",Gd,e)}catch{}return n}();function Ii(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Ac(n,e){if(Ii.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Cc){e:{try{Ec(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Af[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ac.Z.h.call(this)}}Ii.prototype.h=function(){this.defaultPrevented=!0},tr(Ac,Ii);var Af={2:"touch",3:"pen",4:"mouse"};Ac.prototype.h=function(){Ac.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var _l="closure_listenable_"+(1e6*Math.random()|0),y=0;function f(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++y,this.ca=this.fa=!1}function g(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function _(n){this.src=n,this.g={},this.h=0}function M(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=Cf(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(g(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function k(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return o}return-1}_.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=k(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new f(e,this.src,l,!!r,o)).fa=t,n.push(e)),e};var X="closure_lm_"+(1e6*Math.random()|0),me={};function He(n,e,t,r,o){if(r&&r.once)return vt(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)He(n,e[l],t,r,o);return null}return t=xc(t),n&&n[_l]?n.N(e,t,ml(r)?!!r.capture:!!r,o):ot(n,e,t,!1,r,o)}function ot(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var h=ml(o)?!!o.capture:!!o,m=El(n);if(m||(n[X]=m=new _(n)),(t=m.add(e,t,r,h,l)).proxy)return t;if(r=function wt(){var e=xf;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Sf||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(Il(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function vt(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)vt(n,e[l],t,r,o);return null}return t=xc(t),n&&n[_l]?n.O(e,t,ml(r)?!!r.capture:!!r,o):ot(n,e,t,!0,r,o)}function br(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)br(n,e[l],t,r,o);else r=ml(r)?!!r.capture:!!r,t=xc(t),n&&n[_l]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=k(l=n.g[e],t,r,o))&&(g(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=El(n))&&(e=n.g[e.toString()],n=-1,e&&(n=k(e,t,r,o)),(t=-1<n?e[n]:null)&&fs(t))}function fs(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[_l])M(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Il(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=El(e))?(M(t,n),0==t.h&&(t.src=null,e[X]=null)):g(n)}}}function Il(n){return n in me?me[n]:me[n]="on"+n}function xf(n,e){if(n.ca)n=!0;else{e=new Ac(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&fs(n),n=t.call(r,e)}return n}function El(n){return(n=n[X])instanceof _?n:null}var Cu="__closure_events_fn_"+(1e9*Math.random()>>>0);function xc(n){return"function"==typeof n?n:(n[Cu]||(n[Cu]=function(e){return n.handleEvent(e)}),n[Cu])}function yr(){Ao.call(this),this.i=new _(this),this.P=this,this.I=null}function Dr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ii(e,n);else if(e instanceof Ii)e.target=e.target||n;else{var o=e;Qd(e=new Ii(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];o=Mc(h,r,!0,e)&&o}if(o=Mc(h=e.g=n,r,!0,e)&&o,o=Mc(h,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=Mc(h=e.g=t[l],r,!1,e)&&o}function Mc(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ca&&h.capture==t){var m=h.listener,E=h.ia||h.src;h.fa&&M(n.i,h),o=!1!==m.call(E,r)&&o}}return o&&!r.defaultPrevented}tr(yr,Ao),yr.prototype[_l]=!0,yr.prototype.removeEventListener=function(n,e,t,r){br(this,n,e,t,r)},yr.prototype.M=function(){if(yr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)g(t[r]);delete n.g[e],n.h--}}this.I=null},yr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},yr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Rc=Ot.JSON.stringify;function Yd(){var n=uv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var av,Jd=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new MI,n=>n.reset());class MI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function VT(n){Ot.setTimeout(()=>{throw n},0)}function RI(n,e){av||function NI(){var n=Ot.Promise.resolve(void 0);av=function(){n.then(db)}}(),Mf||(av(),Mf=!0),uv.add(n,e)}var Mf=!1,uv=new class ov{constructor(){this.h=this.g=null}add(e,t){const r=Jd.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function db(){for(var n;n=Yd();){try{n.h.call(n.g)}catch(t){VT(t)}var e=Jd;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Mf=!1}function Rf(n,e){yr.call(this),this.h=n||1,this.g=e||Ot,this.j=zr(this.kb,this),this.l=Date.now()}function Nf(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function lv(n,e,t){if("function"==typeof n)t&&(n=zr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=zr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ot.setTimeout(n,e||0)}function Mg(n){n.g=lv(()=>{n.g=null,n.i&&(n.i=!1,Mg(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}tr(Rf,yr),(st=Rf.prototype).da=!1,st.S=null,st.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Dr(this,"tick"),this.da&&(Nf(this),this.start()))}},st.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},st.M=function(){Rf.Z.M.call(this),Nf(this),delete this.g};class Of extends Ao{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Mg(this)}M(){super.M(),this.g&&(Ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pf(n){Ao.call(this),this.h=n,this.g={}}tr(Pf,Ao);var OI=[];function PI(n,e,t,r){Array.isArray(t)||(t&&(OI[0]=t.toString()),t=OI);for(var o=0;o<t.length;o++){var l=He(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function cv(n){Ic(n.g,function(e,t){this.g.hasOwnProperty(t)&&fs(e)},n),n.g={}}function Rg(){this.g=!0}function Xd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pb(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<o.length;h++)o[h]=""}}}return Rc(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Pf.prototype.M=function(){Pf.Z.M.call(this),cv(this)},Pf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rg.prototype.Aa=function(){this.g=!1},Rg.prototype.info=function(){};var Nc={},kI=null;function kf(){return kI=kI||new yr}function FI(n){Ii.call(this,Nc.Ma,n)}function eh(n){const e=kf();Dr(e,new FI(e,n))}function Ri(n,e){Ii.call(this,Nc.STAT_EVENT,n),this.stat=e}function Ni(n){const e=kf();Dr(e,new Ri(e,n))}function hv(n,e){Ii.call(this,Nc.Na,n),this.size=e}function Oc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ot.setTimeout(function(){n()},e)}Nc.Ma="serverreachability",tr(FI,Ii),Nc.STAT_EVENT="statevent",tr(Ri,Ii),Nc.Na="timingevent",tr(hv,Ii);var oi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},th={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ff(){}function VI(){}Ff.prototype.h=null;var pv,nh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function fv(){Ii.call(this,"d")}function Ng(){Ii.call(this,"c")}function Lf(){}function Vf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Pf(this),this.P=gb,this.W=new Rf(n=wc?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new UI}function UI(){this.i=null,this.g="",this.h=!1}tr(fv,Ii),tr(Ng,Ii),tr(Lf,Ff),Lf.prototype.g=function(){return new XMLHttpRequest},Lf.prototype.i=function(){return{}},pv=new Lf;var gb=45e3,Og={},Uf={};function Pg(n,e,t){n.K=1,n.v=Vg(ia(e)),n.s=t,n.U=!0,Pc(n,null)}function Pc(n,e){n.F=Date.now(),kg(n),n.A=ia(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),wv(t.h,"t",r),n.C=0,t=n.l.H,n.h=new UI,n.g=Qg(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Of(zr(n.Ia,n,n.g),n.O)),PI(n.V,n.g,"readystatechange",n.gb),e=n.H?Zd(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),eh(1),function hb(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var h="",m=l.split("&"),E=0;E<m.length;E++){var S=m[E].split("=");if(1<S.length){var N=S[0];S=S[1];var U=N.split("_");h=2<=U.length&&"type"==U[1]?h+(N+"=")+S+"&":h+(N+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Va(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function jI(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=mb(n,t),o==Uf){4==e&&(n.o=4,Ni(14),r=!1),Xd(n.j,n.m,null,"[Incomplete Response]");break}if(o==Og){n.o=4,Ni(15),Xd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Xd(n.j,n.m,o,null),Bf(n,o)}Va(n)&&o!=Uf&&o!=Og&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ni(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Wg(e),e.L=!0,Ni(11))):(Xd(n.j,n.m,t,"[Invalid Chunked Response]"),Yi(n),Fg(n))}function mb(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Uf:(t=Number(e.substring(t,r)),isNaN(t)?Og:(r+=1)+t>e.length?Uf:(e=e.substr(r,t),n.C=r+t,e))}function kg(n){n.Y=Date.now()+n.P,yb(n,n.P)}function yb(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Oc(zr(n.eb,n),e)}function jf(n){n.B&&(Ot.clearTimeout(n.B),n.B=null)}function Fg(n){0==n.l.G||n.I||lE(n.l,n)}function Yi(n){jf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Nf(n.W),cv(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Bf(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Ug(t.i,n)))if(t.I=n.N,!n.J&&Ug(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Kg(t),zg(t)}Mv(t),Ni(18)}}else t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Oc(zr(t.ab,t),6e3));if(1>=QI(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else Cl(t,11)}else if((n.J||t.g==n)&&Kg(t),!xo(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let S=o[e];if(t.U=S[0],S=S[1],2==t.G)if("c"==S[0]){t.J=S[1],t.la=S[2];const N=S[3];null!=N&&(t.ma=N,t.h.info("VER="+t.ma));const U=S[4];null!=U&&(t.za=U,t.h.info("SVER="+t.za));const te=S[5];null!=te&&"number"==typeof te&&0<te&&(t.K=r=1.5*te,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const we=n.g;if(we){const Ne=we.g?we.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ne){var l=r.i;!l.g&&(si(Ne,"spdy")||si(Ne,"quic")||si(Ne,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(jg(l,l.h),l.h=null))}if(r.D){const Ye=we.g?we.g.getResponseHeader("X-HTTP-Session-Id"):null;Ye&&(r.sa=Ye,nr(r.F,r.D,Ye))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=cE(r,r.H?r.la:null,r.W),h.J){Cv(r.i,h);var m=h,E=r.K;E&&m.setTimeout(E),m.B&&(jf(m),kg(m)),r.g=h}else xv(r);0<t.l.length&&Kf(t)}else"stop"!=S[0]&&"close"!=S[0]||Cl(t,7);else 3==t.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?Cl(t,7):Sv(t):"noop"!=S[0]&&t.j&&t.j.wa(S),t.A=0)}eh(4)}catch{}}function mv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(gl(n)||"string"==typeof n)Tg(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(gl(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function gv(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(gl(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}}function kc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof kc)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function yv(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];ra(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)ra(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function ra(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(st=Vf.prototype).setTimeout=function(n){this.P=n},st.gb=function(n){n=n.target;const e=this.L;e&&3==Ua(n)?e.l():this.Ia(n)},st.Ia=function(n){try{if(n==this.g)e:{const N=Ua(this.g);var e=this.g.Da();const U=this.g.ba();if(!(3>N)&&(3!=N||wc||this.g&&(this.h.h||this.g.ga()||iE(this.g)))){this.I||4!=N||7==e||eh(8==e||0>=U?3:2),jf(this);var t=this.g.ba();this.N=t;t:if(Va(this)){var r=iE(this.g);n="";var o=r.length,l=4==Ua(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Yi(this),Fg(this);var h="";break t}this.h.i=new Ot.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function fb(n,e,t,r,o,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,N,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,E=this.g;if((m=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xo(m)){var S=m;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,Ni(12),Yi(this),Fg(this);break e}Xd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bf(this,t)}this.U?(jI(this,N,h),wc&&this.i&&3==N&&(PI(this.V,this.W,"tick",this.fb),this.W.start())):(Xd(this.j,this.m,h,null),Bf(this,h)),4==N&&Yi(this),this.i&&!this.I&&(4==N?lE(this.l,this):(this.i=!1,kg(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,Ni(12)):(this.o=0,Ni(13)),Yi(this),Fg(this)}}}catch{}},st.fb=function(){if(this.g){var n=Ua(this.g),e=this.g.ga();this.C<e.length&&(jf(this),jI(this,n,e),this.i&&4!=n&&kg(this))}},st.cancel=function(){this.I=!0,Yi(this)},st.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function dv(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(eh(3),Ni(17)),Yi(this),this.o=2,Fg(this)):yb(this,this.Y-n)},(st=kc.prototype).R=function(){yv(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},st.T=function(){return yv(this),this.g.concat()},st.get=function(n,e){return ra(this.h,n)?this.h[n]:e},st.set=function(n,e){ra(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},st.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],l=this.get(o);n.call(e,l,o,this)}};var BI=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bu(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof bu){this.g=void 0!==e?e:n.g,$f(this,n.j),this.s=n.s,vv(this,n.i),Du(this,n.m),this.l=n.l,e=n.h;var t=new Fc;t.i=e.i,e.g&&(t.g=new kc(e.g),t.h=e.h),Lg(this,t),this.o=n.o}else n&&(t=String(n).match(BI))?(this.g=!!e,$f(this,t[1]||"",!0),this.s=Hf(t[2]||""),vv(this,t[3]||"",!0),Du(this,t[4]),this.l=Hf(t[5]||"",!0),Lg(this,t[6]||"",!0),this.o=Hf(t[7]||"")):(this.g=!!e,this.h=new Fc(null,this.g))}function ia(n){return new bu(n)}function $f(n,e,t){n.j=t?Hf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function vv(n,e,t){n.i=t?Hf(e,!0):e}function Du(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Lg(n,e,t){e instanceof Fc?(n.h=e,function WI(n,e){e&&!n.j&&(wl(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(zI(this,r),wv(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Gf(e,Iv)),n.h=new Fc(e,n.g))}function nr(n,e,t){n.h.set(e,t)}function Vg(n){return nr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Hf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Gf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,_b),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function _b(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}bu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Gf(e,HI,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Gf(e,HI,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Gf(t,"/"==t.charAt(0)?GI:Ib,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Gf(t,qI)),n.join("")};var HI=/[#\/\?@]/g,Ib=/[#\?:]/g,GI=/[#\?]/g,Iv=/[#\?@]/g,qI=/#/g;function Fc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function wl(n){n.g||(n.g=new kc,n.h=0,n.i&&function $I(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function zI(n,e){wl(n),e=Mo(n,e),ra(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,ra((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&yv(n)))}function Ev(n,e){return wl(n),e=Mo(n,e),ra(n.g.h,e)}function wv(n,e,t){zI(n,e),0<t.length&&(n.i=null,n.g.set(Mo(n,e),Kd(t)),n.h+=t.length)}function Mo(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ZI(n){this.l=n||UT,n=Ot.PerformanceNavigationTiming?0<(n=Ot.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ot.g&&Ot.g.Ea&&Ot.g.Ea()&&Ot.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(st=Fc.prototype).add=function(n,e){wl(this),this.i=null,n=Mo(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},st.forEach=function(n,e){wl(this),this.g.forEach(function(t,r){Tg(t,function(o){n.call(e,o,r,this)},this)},this)},st.T=function(){wl(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],l=0;l<o.length;l++)t.push(e[r]);return t},st.R=function(n){wl(this);var e=[];if("string"==typeof n)Ev(this,n)&&(e=Ag(e,this.g.get(Mo(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Ag(e,n[t])}return e},st.set=function(n,e){return wl(this),this.i=null,Ev(this,n=Mo(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},st.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},st.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=o;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var UT=10;function qf(n){return!!n.h||!!n.g&&n.g.size>=n.j}function QI(n){return n.h?1:n.g?n.g.size:0}function Ug(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function jg(n,e){n.g?n.g.add(e):n.h=e}function Cv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Bg(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Kd(n.i)}function $g(){}function Hg(){this.g=new $g}function Gg(n,e,t){const r=t||"";try{mv(n,function(o,l){let h=o;ml(o)&&(h=Rc(o)),e.push(r+l+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function rh(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function ih(n){this.l=n.$b||null,this.j=n.ib||!1}function sh(n,e){yr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Lc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ZI.prototype.cancel=function(){if(this.i=Bg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},$g.prototype.stringify=function(n){return Ot.JSON.stringify(n,void 0)},$g.prototype.parse=function(n){return Ot.JSON.parse(n,void 0)},tr(ih,Ff),ih.prototype.g=function(){return new sh(this.l,this.j)},ih.prototype.i=function(n){return function(){return n}}({}),tr(sh,yr);var Lc=0;function JI(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function oh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,zf(n)}function zf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(st=sh.prototype).open=function(n,e){if(this.readyState!=Lc)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,zf(this)},st.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ot).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},st.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,oh(this)),this.readyState=Lc},st.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,zf(this)),this.g&&(this.readyState=3,zf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Ot.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;JI(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},st.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?oh(this):zf(this),3==this.readyState&&JI(this)}},st.Ua=function(n){this.g&&(this.response=this.responseText=n,oh(this))},st.Ta=function(n){this.g&&(this.response=n,oh(this))},st.ha=function(){this.g&&oh(this)},st.setRequestHeader=function(n,e){this.v.append(n,e)},st.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},st.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(sh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Eb=Ot.JSON.parse;function Or(n){yr.call(this),this.headers=new kc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qg,this.K=this.L=!1}tr(Or,yr);var qg="",XI=/^https?$/i,jT=["POST","PUT"];function wb(n){return"content-type"==n.toLowerCase()}function bv(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,tE(n),xs(n)}function tE(n){n.D||(n.D=!0,Dr(n,"complete"),Dr(n,"error"))}function nE(n){if(n.h&&typeof yc<"u"&&(!n.C[1]||4!=Ua(n)||2!=n.ba()))if(n.v&&4==Ua(n))lv(n.Fa,0,n);else if(Dr(n,"readystatechange"),4==Ua(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(BI)[1]||null;if(!o&&Ot.self&&Ot.self.location){var l=Ot.self.location.protocol;o=l.substr(0,l.length-1)}r=!XI.test(o?o.toLowerCase():"")}t=r}if(t)Dr(n,"complete"),Dr(n,"success");else{n.m=6;try{var h=2<Ua(n)?n.g.statusText:""}catch{h=""}n.j=h+" ["+n.ba()+"]",tE(n)}}finally{xs(n)}}}function xs(n,e){if(n.g){rE(n);const t=n.g,r=n.C[0]?Gd:null;n.g=null,n.C=null,e||Dr(n,"ready");try{t.onreadystatechange=r}catch{}}}function rE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ot.clearTimeout(n.A),n.A=null)}function Ua(n){return n.g?n.g.readyState:0}function iE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case qg:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Dv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function Cb(n){let e="";return Ic(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):nr(n,e,t))}function Wf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Tv(n){this.za=0,this.l=[],this.h=new Rg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Wf("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Wf("baseRetryDelayMs",5e3,n),this.$a=Wf("retryDelaySeedMs",1e4,n),this.Ya=Wf("forwardChannelMaxRetries",2,n),this.ra=Wf("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new ZI(n&&n.concurrentRequestLimit),this.Ca=new Hg,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Sv(n){if(sE(n),3==n.G){var e=n.V++,t=ia(n.F);nr(t,"SID",n.J),nr(t,"RID",e),nr(t,"TYPE","terminate"),Zf(n,t),(e=new Vf(n,n.h,e,void 0)).K=2,e.v=Vg(ia(t)),t=!1,Ot.navigator&&Ot.navigator.sendBeacon&&(t=Ot.navigator.sendBeacon(e.v.toString(),"")),!t&&Ot.Image&&((new Image).src=e.v,t=!0),t||(e.g=Qg(e.l,null),e.g.ea(e.v)),e.F=Date.now(),kg(e)}Tu(n)}function zg(n){n.g&&(Wg(n),n.g.cancel(),n.g=null)}function sE(n){zg(n),n.u&&(Ot.clearTimeout(n.u),n.u=null),Kg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ot.clearTimeout(n.m),n.m=null)}function Pt(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Kf(n)}function Kf(n){qf(n.i)||n.m||(n.m=!0,RI(n.Ha,n),n.C=0)}function Av(n,e){var t;t=e?e.m:n.V++;const r=ia(n.F);nr(r,"SID",n.J),nr(r,"RID",t),nr(r,"AID",n.U),Zf(n,r),n.o&&n.s&&Dv(r,n.o,n.s),t=new Vf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=aE(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),jg(n.i,t),Pg(t,r,e)}function Zf(n,e){n.j&&mv({},function(t,r){nr(e,r,t)})}function aE(n,e,t){t=Math.min(n.l.length,t);var r=n.j?zr(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=o[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let m=!0;for(let E=0;E<t;E++){let S=o[E].h;const N=o[E].g;if(S-=l,0>S)l=Math.max(0,o[E].h-100),m=!1;else try{Gg(N,h,"req"+S+"_")}catch{r&&r(N)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function xv(n){n.g||n.u||(n.Y=1,RI(n.Ga,n),n.A=0)}function Mv(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Oc(zr(n.Ga,n),Zg(n,n.A)),n.A++,0))}function Wg(n){null!=n.B&&(Ot.clearTimeout(n.B),n.B=null)}function uE(n){n.g=new Vf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ia(n.oa);nr(e,"RID","rpc"),nr(e,"SID",n.J),nr(e,"CI",n.N?"0":"1"),nr(e,"AID",n.U),Zf(n,e),nr(e,"TYPE","xmlhttp"),n.o&&n.s&&Dv(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Vg(ia(e)),t.s=null,t.U=!0,Pc(t,n)}function Kg(n){null!=n.v&&(Ot.clearTimeout(n.v),n.v=null)}function lE(n,e){var t=null;if(n.g==e){Kg(n),Wg(n),n.g=null;var r=2}else{if(!Ug(n.i,e))return;t=e.D,Cv(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Dr(r=kf(),new hv(r,t,e,o)),Kf(n)}else xv(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function oE(n,e){return!(QI(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Oc(zr(n.Ha,n,e),Zg(n,n.C)),n.C++,0)))}(n,e)||2==r&&Mv(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Cl(n,5);break;case 4:Cl(n,10);break;case 3:Cl(n,6);break;default:Cl(n,2)}}function Zg(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Cl(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=zr(n.jb,n);t||(t=new bu("//www.google.com/images/cleardot.gif"),Ot.location&&"http"==Ot.location.protocol||$f(t,"https"),Vg(t)),function YI(n,e){const t=new Rg;if(Ot.Image){const r=new Image;r.onload=vc(rh,t,r,"TestLoadImage: loaded",!0,e),r.onerror=vc(rh,t,r,"TestLoadImage: error",!1,e),r.onabort=vc(rh,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=vc(rh,t,r,"TestLoadImage: timeout",!1,e),Ot.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ni(2);n.G=0,n.j&&n.j.va(e),Tu(n),sE(n)}function Tu(n){n.G=0,n.I=-1,n.j&&((0!=Bg(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Kd(n.l),n.l.length=0),n.j.ua())}function cE(n,e,t){let r=function _v(n){return n instanceof bu?ia(n):new bu(n,void 0)}(t);if(""!=r.i)e&&vv(r,e+"."+r.i),Du(r,r.m);else{const o=Ot.location;r=function vb(n,e,t,r){var o=new bu(null,void 0);return n&&$f(o,n),e&&vv(o,e),t&&Du(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&Ic(n.aa,function(o,l){nr(r,l,o)}),t=n.sa,(e=n.D)&&t&&nr(r,e,t),nr(r,"VER",n.ma),Zf(n,r),r}function Qg(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Or(t&&n.Ba&&!n.qa?new ih({ib:!0}):n.qa)).L=n.H,e}function Yg(){}function Jg(){if(Nr&&!(10<=Number(sv)))throw Error("Environmental error: no available transport.")}function to(n,e){yr.call(this),this.g=new Tv(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!xo(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xo(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ah(this)}function dE(n){fv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function hE(){Ng.call(this),this.status=1}function ah(n){this.g=n}(st=Or.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pv.g(),this.C=function LI(n){return n.h||(n.h=n.i())}(this.u?this.u:pv),this.g.onreadystatechange=zr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void bv(this,l)}n=t||"";const o=new kc(this.headers);r&&mv(r,function(l,h){o.set(h,l)}),r=function Sg(n){e:{var e=wb;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Ot.FormData&&n instanceof Ot.FormData,!(0<=Cf(jT,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{rE(this),0<this.B&&((this.K=function eE(n){return Nr&&function Tc(){return function Df(n){var e=na;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=_c(String(Cr)).split("."),t=_c("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",l=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=yl(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||yl(0==o[2].length,0==l[2].length)||yl(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zr(this.pa,this)):this.A=lv(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){bv(this,l)}},st.pa=function(){typeof yc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dr(this,"timeout"),this.abort(8))},st.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Dr(this,"complete"),Dr(this,"abort"),xs(this))},st.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xs(this,!0)),Or.Z.M.call(this)},st.Fa=function(){this.s||(this.F||this.v||this.l?nE(this):this.cb())},st.cb=function(){nE(this)},st.ba=function(){try{return 2<Ua(this)?this.g.status:-1}catch{return-1}},st.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},st.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Eb(e)}},st.Da=function(){return this.m},st.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(st=Tv.prototype).ma=8,st.G=1,st.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},st.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Vf(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=Zd(l),Qd(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=aE(this,o,e),nr(t=ia(this.F),"RID",n),nr(t,"CVER",22),this.D&&nr(t,"X-HTTP-Session-Id",this.D),Zf(this,t),this.o&&l&&Dv(t,this.o,l),jg(this.i,o),this.Ra&&nr(t,"TYPE","init"),this.ja?(nr(t,"$req",e),nr(t,"SID","null"),o.$=!0,Pg(o,t,null)):Pg(o,t,e),this.G=2}}else 3==this.G&&(n?Av(this,n):0==this.l.length||qf(this.i)||Av(this))},st.Ga=function(){if(this.u=null,uE(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Oc(zr(this.bb,this),n)}},st.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ni(10),zg(this),uE(this))},st.ab=function(){null!=this.v&&(this.v=null,zg(this),Mv(this),Ni(19))},st.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ni(2)):(this.h.info("Failed to ping google.com"),Ni(1))},(st=Yg.prototype).xa=function(){},st.wa=function(){},st.va=function(){},st.ua=function(){},st.Oa=function(){},Jg.prototype.g=function(n,e){return new to(n,e)},tr(to,yr),to.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),RI(zr(n.hb,n,e))),Ni(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=cE(n,null,n.W),Kf(n)},to.prototype.close=function(){Sv(this.g)},to.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Pt(this.g,e)}else this.v?((e={}).__data__=Rc(n),Pt(this.g,e)):Pt(this.g,n)},to.prototype.M=function(){this.g.j=null,delete this.j,Sv(this.g),delete this.g,to.Z.M.call(this)},tr(dE,fv),tr(hE,Ng),tr(ah,Yg),ah.prototype.xa=function(){Dr(this.g,"a")},ah.prototype.wa=function(n){Dr(this.g,new dE(n))},ah.prototype.va=function(n){Dr(this.g,new hE(n))},ah.prototype.ua=function(){Dr(this.g,"b")},Jg.prototype.createWebChannel=Jg.prototype.g,to.prototype.send=to.prototype.u,to.prototype.open=to.prototype.m,to.prototype.close=to.prototype.close,oi.NO_ERROR=0,oi.TIMEOUT=8,oi.HTTP_ERROR=6,th.COMPLETE="complete",VI.EventType=nh,nh.OPEN="a",nh.CLOSE="b",nh.ERROR="c",nh.MESSAGE="d",yr.prototype.listen=yr.prototype.N,Or.prototype.listenOnce=Or.prototype.O,Or.prototype.getLastError=Or.prototype.La,Or.prototype.getLastErrorCode=Or.prototype.Da,Or.prototype.getStatus=Or.prototype.ba,Or.prototype.getResponseJson=Or.prototype.Qa,Or.prototype.getResponseText=Or.prototype.ga,Or.prototype.send=Or.prototype.ea;var fE=Fa.createWebChannelTransport=function(){return new Jg},bb=Fa.getStatEventTarget=function(){return kf()},Rv=Fa.ErrorCode=oi,Su=Fa.EventType=th,Db=Fa.Event=Nc,Nv=Fa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Xg=Fa.FetchXmlHttpFactory=ih,em=Fa.WebChannel=VI,pE=Fa.XhrIo=Or;const Ov="@firebase/firestore";class Ei{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ei.UNAUTHENTICATED=new Ei(null),Ei.GOOGLE_CREDENTIALS=new Ei("google-credentials-uid"),Ei.FIRST_PARTY=new Ei("first-party-uid"),Ei.MOCK_USER=new Ei("mock-user");let uh="9.9.1";const bl=new Xs.Yd("@firebase/firestore");function Pv(){return bl.logLevel}function Be(n,...e){if(bl.logLevel<=Xs.in.DEBUG){const t=e.map(Qf);bl.debug(`Firestore (${uh}): ${n}`,...t)}}function Pr(n,...e){if(bl.logLevel<=Xs.in.ERROR){const t=e.map(Qf);bl.error(`Firestore (${uh}): ${n}`,...t)}}function lh(n,...e){if(bl.logLevel<=Xs.in.WARN){const t=e.map(Qf);bl.warn(`Firestore (${uh}): ${n}`,...t)}}function Qf(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function at(n="Unexpected state"){const e=`FIRESTORE (${uh}) INTERNAL ASSERTION FAILED: `+n;throw Pr(e),new Error(e)}function Et(n,e){n||at()}function nt(n,e){return n}const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends Ut.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ai{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Yf{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ei.UNAUTHENTICATED))}shutdown(){}}class mE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Sb{constructor(e){this.t=e,this.currentUser=Ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=S=>this.i!==o?(o=this.i,t(S)):Promise.resolve();let h=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ai,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const S=h;e.enqueueRetryable((0,Ae.Z)(function*(){yield S.promise,yield l(r.currentUser)}))},E=S=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(S=>E(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?E(S):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ai)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et("string"==typeof r.accessToken),new Yf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Et(null===e||"string"==typeof e),new Ei(e)}}class kv{constructor(e,t,r){this.type="FirstParty",this.user=Ei.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Au{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new kv(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ei.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yE{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.p;return this.p=l.token,Be("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?o(l):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Et("string"==typeof t.token),this.p=t.token,new tm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function BT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Fv{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=BT(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function Ht(n,e){return n<e?-1:n>e?1:0}function xu(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function Jf(n){return n+"\0"}class Kn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Le(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Le(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Le(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kn.fromMillis(Date.now())}static fromDate(e){return Kn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Kn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new Kn(0,0))}static max(){return new Dt(new Kn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Vc{constructor(e,t,r){void 0===t?t=0:t>e.length&&at(),void 0===r?r=e.length-t:r>e.length-t&&at(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Vc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vc?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class mn extends Vc{construct(e,t,r){return new mn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(Ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new mn(t)}static emptyPath(){return new mn([])}}const Ab=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kr extends Vc{construct(e,t,r){return new kr(e,t,r)}static isValidIdentifier(e){return Ab.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new kr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new Le(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Le(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Le(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else"`"===m?(h=!h,o++):"."!==m||h?(r+=m,o++):(l(),o++)}if(l(),h)throw new Le(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kr(t)}static emptyPath(){return new kr([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(mn.fromString(e))}static fromName(e){return new et(mn.fromString(e).popFirst(5))}static empty(){return new et(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===mn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new mn(e.slice()))}}class nm{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function rm(n){return n.fields.find(e=>2===e.kind)}function ch(n){return n.fields.filter(e=>2!==e.kind)}nm.UNKNOWN_ID=-1;class im{constructor(e,t){this.fieldPath=e,this.kind=t}}class sm{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new sm(0,no.min())}}function Lv(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Dt.fromTimestamp(1e9===r?new Kn(t+1,0):new Kn(t,r));return new no(o,et.empty(),e)}function Vv(n){return new no(n.readTime,n.key,-1)}class no{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new no(Dt.min(),et.empty(),-1)}static max(){return new no(Dt.max(),et.empty(),-1)}}function Xf(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=et.comparator(n.documentKey,e.documentKey),0!==t?t:Ht(n.largestBatchId,e.largestBatchId))}const xb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Uc(n){return _E.apply(this,arguments)}function _E(){return _E=(0,Ae.Z)(function*(n){if(n.code!==Ee.FAILED_PRECONDITION||n.message!==xb)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),_E.apply(this,arguments)}class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ve((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ve?t:ve.resolve(t)}catch(t){return ve.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ve.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ve.reject(t)}static resolve(e){return new ve((t,r)=>{t(e)})}static reject(e){return new ve((t,r)=>{r(e)})}static waitFor(e){return new ve((t,r)=>{let o=0,l=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++l,h&&l===o&&t()},E=>r(E))}),h=!0,l===o&&t()})}static or(e){let t=ve.resolve(!1);for(const r of e)t=t.next(o=>o?ve.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}static mapArray(e,t){return new ve((r,o)=>{const l=e.length,h=new Array(l);let m=0;for(let E=0;E<l;E++){const S=E;t(e[S]).next(N=>{h[S]=N,++m,m===l&&r(h)},N=>o(N))}})}static doWhile(e,t){return new ve((r,o)=>{const l=()=>{!0===e()?t().next(()=>{l()},o):r()};l()})}}class Uv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new ai,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new om(e,t.error)):this.T.resolve()},this.transaction.onerror=r=>{const o=am(r.target.error);this.T.reject(new om(e,o))}}static open(e,t,r,o){try{return new Uv(t,e.transaction(o,r))}catch(l){throw new om(t,l)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Dl(t)}}class ja{constructor(e,t,r){this.name=e,this.version=t,this.P=r,12.2===ja.v((0,Ut.z$)())&&Pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Be("SimpleDb","Removing database:",e),Mu(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,Ut.hl)())return!1;if(ja.S())return!0;const e=(0,Ut.z$)(),t=ja.v(e),r=0<t&&t<10,o=ja.D(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(e){var t=this;return(0,Ae.Z)(function*(){return t.db||(Be("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{o(new om(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const m=h.target.error;o("VersionError"===m.name?new Le(Ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Le(Ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new om(e,m))},l.onupgradeneeded=h=>{Be("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.P.O(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{Be("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=r=>t.M(r)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,Ae.Z)(function*(){const h="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.k(e);const E=Uv.open(l.db,e,h?"readonly":"readwrite",r),S=o(E).next(N=>(E.R(),N)).catch(N=>(E.abort(N),ve.reject(N))).toPromise();return S.catch(()=>{}),yield E.A,S}catch(E){const S=E,N="FirebaseError"!==S.name&&m<3;if(Be("SimpleDb","Transaction failed with error:",S.message,"Retrying:",N),l.close(),!N)return Promise.reject(S)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class $T{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Mu(this.$.delete())}}class om extends Le{constructor(e,t){super(Ee.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function jc(n){return"IndexedDbTransactionError"===n.name}class Dl{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Be("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Mu(r)}add(e){return Be("SimpleDb","ADD",this.store.name,e,e),Mu(this.store.add(e))}get(e){return Mu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Be("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Be("SimpleDb","DELETE",this.store.name,e),Mu(this.store.delete(e))}count(){return Be("SimpleDb","COUNT",this.store.name),Mu(this.store.count())}K(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),l=[];return this.G(o,(h,m)=>{l.push(m)}).next(()=>l)}{const o=this.store.getAll(r.range);return new ve((l,h)=>{o.onerror=m=>{h(m.target.error)},o.onsuccess=m=>{l(m.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ve((o,l)=>{r.onerror=h=>{l(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}W(e,t){Be("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const o=this.cursor(r);return this.G(o,(l,h,m)=>m.delete())}J(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.G(o,t)}Y(e){const t=this.cursor({});return new ve((r,o)=>{t.onerror=l=>{const h=am(l.target.error);o(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}G(e,t){const r=[];return new ve((o,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const m=h.target.result;if(!m)return void o();const E=new $T(m),S=t(m.primaryKey,m.value,E);if(S instanceof ve){const N=S.catch(U=>(E.done(),ve.reject(U)));r.push(N)}E.isDone?o():null===E.U?m.continue():m.continue(E.U)}}).next(()=>ve.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Mu(n){return new ve((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=am(r.target.error);t(o)}})}let IE=!1;function am(n){const e=ja.v((0,Ut.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return IE||(IE=!0,setTimeout(()=>{throw r},0)),r}}return n}class jv{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;Be("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ae.Z)(function*(){t.task=null;try{Be("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(r){jc(r)?Be("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Uc(r)}yield t.Z(1)}))}}class EE{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,Ae.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.et(r,e))})()}et(e,t){const r=new Set;let o=t,l=!0;return ve.doWhile(()=>!0===l&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(h=>{if(null!==h&&!r.has(h))return Be("IndexBackiller",`Processing collection: ${h}`),this.nt(e,h,o).next(m=>{o-=m,r.add(h)});l=!1})).next(()=>t-o)}nt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(l=>{const h=l.changes;return this.localStore.indexManager.updateIndexEntries(e,h).next(()=>this.st(o,l)).next(m=>(Be("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>h.size)}))}st(e,t){let r=e;return t.changes.forEach((o,l)=>{const h=Vv(l);Xf(h,r)>0&&(r=h)}),new no(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ji{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function wE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ms(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Bv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Ji.ot=-1;class Tr{constructor(e,t){this.comparator=e,this.root=t||Oi.EMPTY}insert(e,t){return new Tr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Oi.BLACK,null,null))}remove(e){return new Tr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dh(this.root,e,this.comparator,!0)}}class dh{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Oi{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=r??Oi.RED,this.left=o??Oi.EMPTY,this.right=l??Oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new Oi(e??this.key,t??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Oi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Oi.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}}Oi.EMPTY=null,Oi.RED=!0,Oi.BLACK=!1,Oi.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Oi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xn{constructor(e){this.comparator=e,this.data=new Tr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new CE(this.data.getIterator())}getIteratorFrom(e){return new CE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xn(this.comparator);return t.data=e,t}}class CE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function hh(n){return n.hasNext()?n.getNext():void 0}class Xi{constructor(e){this.fields=e,e.sort(kr.comparator)}static empty(){return new Xi([])}unionWith(e){let t=new xn(kr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Xi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Fr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Fr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new Fr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fr.EMPTY_BYTE_STRING=new Fr("");const ph=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(n){if(Et(!!n),"string"==typeof n){let e=0;const t=ph.exec(n);if(Et(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zn(n.seconds),nanos:Zn(n.nanos)}}function Zn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Bc(n){return"string"==typeof n?Fr.fromBase64String(n):Fr.fromUint8Array(n)}function um(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function $v(n){const e=n.mapValue.fields.__previous_value__;return um(e)?$v(e):e}function $c(n){const e=oa(n.mapValue.fields.__local_write_time__.timestampValue);return new Kn(e.seconds,e.nanos)}class Hv{constructor(e,t,r,o,l,h,m,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=E}}class Ba{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ba("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ba&&e.projectId===this.projectId&&e.database===this.database}}function Hc(n){return null==n}function ep(n){return 0===n&&1/n==-1/0}function Rb(n){return"number"==typeof n&&Number.isInteger(n)&&!ep(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Tl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},tp={nullValue:"NULL_VALUE"};function Gc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?um(n)?4:Wv(n)?9007199254740991:10:at()}function aa(n,e){if(n===e)return!0;const t=Gc(n);if(t!==Gc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $c(n).isEqual($c(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=oa(r.timestampValue),h=oa(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Bc(n.bytesValue).isEqual(Bc(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Zn(r.geoPointValue.latitude)===Zn(o.geoPointValue.latitude)&&Zn(r.geoPointValue.longitude)===Zn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Zn(r.integerValue)===Zn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Zn(r.doubleValue),h=Zn(o.doubleValue);return l===h?ep(l)===ep(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return xu(n.arrayValue.values||[],e.arrayValue.values||[],aa);case 10:return function(r,o){const l=r.mapValue.fields||{},h=o.mapValue.fields||{};if(wE(l)!==wE(h))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===h[m]||!aa(l[m],h[m])))return!1;return!0}(n,e);default:return at()}var o}function gh(n,e){return void 0!==(n.values||[]).find(t=>aa(t,e))}function Sl(n,e){if(n===e)return 0;const t=Gc(n),r=Gc(e);if(t!==r)return Ht(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(o,l){const h=Zn(o.integerValue||o.doubleValue),m=Zn(l.integerValue||l.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return Rs(n.timestampValue,e.timestampValue);case 4:return Rs($c(n),$c(e));case 5:return Ht(n.stringValue,e.stringValue);case 6:return function(o,l){const h=Bc(o),m=Bc(l);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const h=o.split("/"),m=l.split("/");for(let E=0;E<h.length&&E<m.length;E++){const S=Ht(h[E],m[E]);if(0!==S)return S}return Ht(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const h=Ht(Zn(o.latitude),Zn(l.latitude));return 0!==h?h:Ht(Zn(o.longitude),Zn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const h=o.values||[],m=l.values||[];for(let E=0;E<h.length&&E<m.length;++E){const S=Sl(h[E],m[E]);if(S)return S}return Ht(h.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){if(o===Tl.mapValue&&l===Tl.mapValue)return 0;if(o===Tl.mapValue)return 1;if(l===Tl.mapValue)return-1;const h=o.fields||{},m=Object.keys(h),E=l.fields||{},S=Object.keys(E);m.sort(),S.sort();for(let N=0;N<m.length&&N<S.length;++N){const U=Ht(m[N],S[N]);if(0!==U)return U;const te=Sl(h[m[N]],E[S[N]]);if(0!==te)return te}return Ht(m.length,S.length)}(n.mapValue,e.mapValue);default:throw at()}}function Rs(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ht(n,e);const t=oa(n),r=oa(e),o=Ht(t.seconds,r.seconds);return 0!==o?o:Ht(t.nanos,r.nanos)}function qc(n){return Gv(n)}function Gv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=oa(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Bc(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const h of r.values||[])l?l=!1:o+=",",o+=Gv(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const m of o)h?h=!1:l+=",",l+=`${m}:${Gv(r.fields[m])}`;return l+"}"}(n.mapValue):at();var e}function mh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function qv(n){return!!n&&"integerValue"in n}function zc(n){return!!n&&"arrayValue"in n}function zv(n){return!!n&&"nullValue"in n}function bE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lm(n){return!!n&&"mapValue"in n}function np(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ms(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=np(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=np(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Wv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Nb(n){return"nullValue"in n?tp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?mh(Ba.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:at()}function DE(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?mh(Ba.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Tl:at()}function TE(n,e){const t=Sl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function SE(n,e){const t=Sl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class wi{constructor(e){this.value=e}static empty(){return new wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!lm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=np(t)}setAll(e){let t=kr.emptyPath(),r={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const E=this.getFieldsMap(t);this.applyChanges(E,r,o),r={},o=[],t=m.popLast()}h?r[m.lastSegment()]=np(h):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());lm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return aa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];lm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Ms(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new wi(np(this.value))}}function Kv(n){const e=[];return Ms(n.fields,(t,r)=>{const o=new kr([t]);if(lm(r)){const l=Kv(r.mapValue).fields;if(0===l.length)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new Xi(e)}class Qn{constructor(e,t,r,o,l,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Qn(e,0,Dt.min(),Dt.min(),wi.empty(),0)}static newFoundDocument(e,t,r){return new Qn(e,1,t,Dt.min(),r,0)}static newNoDocument(e,t){return new Qn(e,2,t,Dt.min(),wi.empty(),0)}static newUnknownDocument(e,t){return new Qn(e,3,t,Dt.min(),wi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $a{constructor(e,t=null,r=[],o=[],l=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=h,this.endAt=m,this.ut=null}}function cm(n,e=null,t=[],r=[],o=null,l=null,h=null){return new $a(n,e,t,r,o,l,h)}function Wc(n){const e=nt(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+qc(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Hc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>qc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>qc(r)).join(",")),e.ut=t}return e.ut}function dm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!Qv(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!aa(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!NE(n.startAt,e.startAt)&&NE(n.endAt,e.endAt)}function rp(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function hm(n,e){return n.filters.filter(t=>t instanceof ui&&t.field.isEqual(e))}function AE(n,e,t){let r=tp,o=!0;for(const l of hm(n,e)){let h=tp,m=!0;switch(l.op){case"<":case"<=":h=Nb(l.value);break;case"==":case"in":case">=":h=l.value;break;case">":h=l.value,m=!1;break;case"!=":case"not-in":h=tp}TE({value:r,inclusive:o},{value:h,inclusive:m})<0&&(r=h,o=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const h=t.position[l];TE({value:r,inclusive:o},{value:h,inclusive:t.inclusive})<0&&(r=h,o=t.inclusive);break}return{value:r,inclusive:o}}function xE(n,e,t){let r=Tl,o=!0;for(const l of hm(n,e)){let h=Tl,m=!0;switch(l.op){case">=":case">":h=DE(l.value),m=!1;break;case"==":case"in":case"<=":h=l.value;break;case"<":h=l.value,m=!1;break;case"!=":case"not-in":h=Tl}SE({value:r,inclusive:o},{value:h,inclusive:m})>0&&(r=h,o=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const h=t.position[l];SE({value:r,inclusive:o},{value:h,inclusive:t.inclusive})>0&&(r=h,o=t.inclusive);break}return{value:r,inclusive:o}}class ui extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new Pb(e,t,r):"array-contains"===t?new Fb(e,r):"in"===t?new ME(e,r):"not-in"===t?new Zv(e,r):"array-contains-any"===t?new RE(e,r):new ui(e,t,r)}static ct(e,t,r){return"in"===t?new kb(e,r):new fm(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Sl(t,this.value)):null!==t&&Gc(this.value)===Gc(t)&&this.at(Sl(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return at()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Pb extends ui{constructor(e,t,r){super(e,t,r),this.key=et.fromName(r.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.at(t)}}class kb extends ui{constructor(e,t){super(e,"in",t),this.keys=pm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fm extends ui{constructor(e,t){super(e,"not-in",t),this.keys=pm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pm(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>et.fromName(r.referenceValue))}class Fb extends ui{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zc(t)&&gh(t.arrayValue,this.value)}}class ME extends ui{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&gh(this.value.arrayValue,t)}}class Zv extends ui{constructor(e,t){super(e,"not-in",t)}matches(e){if(gh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!gh(this.value.arrayValue,t)}}class RE extends ui{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>gh(this.value.arrayValue,r))}}class Kc{constructor(e,t){this.position=e,this.inclusive=t}}class ip{constructor(e,t="asc"){this.field=e,this.dir=t}}function Qv(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Lb(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(r=l.field.isKeyField()?et.comparator(et.fromName(h.referenceValue),t.key):Sl(h,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function NE(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!aa(n.position[t],e.position[t]))return!1;return!0}class Ha{constructor(e,t=null,r=[],o=[],l=null,h="F",m=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=E,this.lt=null,this.ft=null}}function Yv(n,e,t,r,o,l,h,m){return new Ha(n,e,t,r,o,l,h,m)}function Zc(n){return new Ha(n)}function sp(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function ua(n){for(const e of n.filters)if(e.ht())return e.field;return null}function yh(n){return null!==n.collectionGroup}function Ru(n){const e=nt(n);if(null===e.lt){e.lt=[];const t=ua(e),r=sp(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new ip(t)),e.lt.push(new ip(kr.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.lt.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new ip(kr.keyField(),l))}}}return e.lt}function Pi(n){const e=nt(n);if(!e.ft)if("F"===e.limitType)e.ft=cm(e.path,e.collectionGroup,Ru(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Ru(e))t.push(new ip(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Kc(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Kc(e.startAt.position,e.startAt.inclusive):null;e.ft=cm(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.ft}function PE(n,e,t){return new Ha(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qc(n,e){return dm(Pi(n),Pi(e))&&n.limitType===e.limitType}function Jv(n){return`${Wc(Pi(n))}|lt:${n.limitType}`}function Xv(n){return`Query(target=${function Ob(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${qc(r.value)}`;var r}).join(", ")}]`),Hc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>qc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>qc(t)).join(",")),`Target(${e})`}(Pi(n))}; limitType=${n.limitType})`}function e_(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):et.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,l,h){const m=Lb(o,l,h);return o.inclusive?m<=0:m<0}(t.startAt,Ru(t),r)||t.endAt&&!function(o,l,h){const m=Lb(o,l,h);return o.inclusive?m>=0:m>0}(t.endAt,Ru(t),r)));var t,r}function Yc(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kE(n){return(e,t)=>{let r=!1;for(const o of Ru(n)){const l=HT(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function HT(n,e,t){const r=n.field.isKeyField()?et.comparator(e.key,t.key):function(o,l,h){const m=l.data.field(o),E=h.data.field(o);return null!==m&&null!==E?Sl(m,E):at()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return at()}}function t_(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ep(e)?"-0":e}}function Vb(n){return{integerValue:""+n}}function FE(n,e){return Rb(e)?Vb(e):t_(n,e)}class gm{constructor(){this._=void 0}}function Ub(n,e,t){return n instanceof Jc?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof Nu?UE(n,e):n instanceof Ou?jE(n,e):function(r,o){const l=VE(r,o),h=BE(l)+BE(r._t);return qv(l)&&qv(r._t)?Vb(h):t_(r.wt,h)}(n,e)}function LE(n,e,t){return n instanceof Nu?UE(n,e):n instanceof Ou?jE(n,e):t}function VE(n,e){return n instanceof vh?qv(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Jc extends gm{}class Nu extends gm{constructor(e){super(),this.elements=e}}function UE(n,e){const t=$E(e);for(const r of n.elements)t.some(o=>aa(o,r))||t.push(r);return{arrayValue:{values:t}}}class Ou extends gm{constructor(e){super(),this.elements=e}}function jE(n,e){let t=$E(e);for(const r of n.elements)t=t.filter(o=>!aa(o,r));return{arrayValue:{values:t}}}class vh extends gm{constructor(e,t){super(),this.wt=e,this._t=t}}function BE(n){return Zn(n.integerValue||n.doubleValue)}function $E(n){return zc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class op{constructor(e,t){this.field=e,this.transform=t}}class mm{constructor(e,t){this.version=e,this.transformResults=t}}class Mn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function n_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Al{}function GE(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ml(n.key,Mn.none()):new Ga(n.key,n.data,Mn.none());{const t=n.data,r=wi.empty();let o=new xn(kr.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);null===h&&l.length>1&&(l=l.popLast(),h=t.field(l)),null===h?r.delete(l):r.set(l,h),o=o.add(l)}return new cr(n.key,r,new Xi(o.toArray()),Mn.none())}}function jb(n,e,t){n instanceof Ga?function(r,o,l){const h=r.value.clone(),m=ap(r.fieldTransforms,o,l.transformResults);h.setAll(m),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof cr?function(r,o,l){if(!n_(r.precondition,o))return void o.convertToUnknownDocument(l.version);const h=ap(r.fieldTransforms,o,l.transformResults),m=o.data;m.setAll(xl(r)),m.setAll(h),o.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Xc(n,e,t,r){return n instanceof Ga?function(o,l,h,m){if(!n_(o.precondition,l))return h;const E=o.value.clone(),S=ro(o.fieldTransforms,m,l);return E.setAll(S),l.convertToFoundDocument(l.version,E).setHasLocalMutations(),null}(n,e,t,r):n instanceof cr?function(o,l,h,m){if(!n_(o.precondition,l))return h;const E=ro(o.fieldTransforms,m,l),S=l.data;return S.setAll(xl(o)),S.setAll(E),l.convertToFoundDocument(l.version,S).setHasLocalMutations(),null===h?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(N=>N.field))}(n,e,t,r):(h=t,n_(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h);var l,h}function qE(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=VE(r.transform,o||null);null!=l&&(null===t&&(t=wi.empty()),t.set(r.field,l))}return t||null}function la(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&xu(t,r,(o,l)=>function HE(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Nu&&r instanceof Nu||t instanceof Ou&&r instanceof Ou?xu(t.elements,r.elements,aa):t instanceof vh&&r instanceof vh?aa(t._t,r._t):t instanceof Jc&&r instanceof Jc);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Ga extends Al{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cr extends Al{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function xl(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function ap(n,e,t){const r=new Map;Et(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,m=e.data.field(l.field);r.set(l.field,LE(h,m,t[o]))}return r}function ro(n,e,t){const r=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);r.set(o.field,Ub(l,h,e))}return r}class Ml extends Al{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rl extends Al{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _h{constructor(e){this.count=e}}var rr,zt;function ed(n){switch(n){default:return at();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0}}function td(n){if(void 0===n)return Pr("GRPC error has no .code"),Ee.UNKNOWN;switch(n){case rr.OK:return Ee.OK;case rr.CANCELLED:return Ee.CANCELLED;case rr.UNKNOWN:return Ee.UNKNOWN;case rr.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case rr.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case rr.INTERNAL:return Ee.INTERNAL;case rr.UNAVAILABLE:return Ee.UNAVAILABLE;case rr.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case rr.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case rr.NOT_FOUND:return Ee.NOT_FOUND;case rr.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case rr.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case rr.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case rr.ABORTED:return Ee.ABORTED;case rr.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case rr.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case rr.DATA_LOSS:return Ee.DATA_LOSS;default:return at()}}(zt=rr||(rr={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";class io{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return Bv(this.inner)}size(){return this.innerSize}}const Ih=new Tr(et.comparator);function li(){return Ih}const ym=new Tr(et.comparator);function nd(...n){let e=ym;for(const t of n)e=e.insert(t.key,t);return e}function vm(n){let e=ym;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ro(){return rd()}function _m(){return rd()}function rd(){return new io(n=>n.toString(),(n,e)=>n.isEqual(e))}const r_=new Tr(et.comparator),i_=new xn(et.comparator);function jt(...n){let e=i_;for(const t of n)e=e.add(t);return e}const zE=new xn(Ht);function up(){return zE}class lp{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Eh.createSynthesizedTargetChangeForCurrentChange(e,t)),new lp(Dt.min(),r,up(),li(),jt())}}class Eh{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Eh(Fr.EMPTY_BYTE_STRING,t,jt(),jt(),jt())}}class cp{constructor(e,t,r,o){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=o}}class s_{constructor(e,t){this.targetId=e,this.It=t}}class Im{constructor(e,t,r=Fr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Em{constructor(){this.Tt=0,this.Et=hp(),this.At=Fr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=jt(),t=jt(),r=jt();return this.Et.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:at()}}),new Eh(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=hp()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class Bb{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=li(),this.Bt=dp(),this.Lt=new xn(Ht)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:at()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,o)=>{this.jt(o)&&t(o)})}zt(e){const t=e.targetId,r=e.It.count,o=this.Ht(t);if(o){const l=o.target;if(rp(l))if(0===r){const h=new et(l.path);this.Kt(t,h,Qn.newNoDocument(h,Dt.min()))}else Et(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((l,h)=>{const m=this.Ht(h);if(m){if(l.current&&rp(m.target)){const E=new et(m.target.path);null!==this.$t.get(E)||this.Xt(h,E)||this.Kt(h,E,Qn.newNoDocument(E,e))}l.vt&&(t.set(h,l.St()),l.Dt())}});let r=jt();this.Bt.forEach((l,h)=>{let m=!0;h.forEachWhile(E=>{const S=this.Ht(E);return!S||2===S.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.$t.forEach((l,h)=>h.setReadTime(e));const o=new lp(e,t,this.Lt,this.$t,r);return this.$t=li(),this.Bt=dp(),this.Lt=new xn(Ht),o}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const o=this.Qt(e);this.Xt(e,t)?o.Ct(t,1):o.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new Em,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new xn(Ht),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Be("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new Em),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function dp(){return new Tr(et.comparator)}function hp(){return new Tr(et.comparator)}const o_={asc:"ASCENDING",desc:"DESCENDING"},$b={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class wm{constructor(e,t){this.databaseId=e,this.dt=t}}function Nl(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cm(n,e){return n.dt?e.toBase64():e.toUint8Array()}function WE(n,e){return Nl(n,e.toTimestamp())}function Wr(n){return Et(!!n),Dt.fromTimestamp(function(e){const t=oa(e);return new Kn(t.seconds,t.nanos)}(n))}function bm(n,e){return(t=n,new mn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function a_(n){const e=mn.fromString(n);return Et(Kr(e)),e}function id(n,e){return bm(n.databaseId,e.path)}function No(n,e){const t=a_(e);if(t.get(1)!==n.databaseId.projectId)throw new Le(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Le(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(c_(t))}function u_(n,e){return bm(n.databaseId,e)}function l_(n){const e=a_(n);return 4===e.length?mn.emptyPath():c_(e)}function wh(n){return new mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function c_(n){return Et(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function d_(n,e,t){return{name:id(n,e),fields:t.value.mapValue.fields}}function KE(n,e,t){const r=No(n,e.name),o=Wr(e.updateTime),l=new wi({mapValue:{fields:e.fields}}),h=Qn.newFoundDocument(r,o,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function sd(n,e){let t;if(e instanceof Ga)t={update:d_(n,e.key,e.value)};else if(e instanceof Ml)t={delete:id(n,e.key)};else if(e instanceof cr)t={update:d_(n,e.key,e.data),updateMask:Gb(e.fieldMask)};else{if(!(e instanceof Rl))return at();t={verify:id(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const h=l.transform;if(h instanceof Jc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Nu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ou)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof vh)return{fieldPath:l.field.canonicalString(),increment:h._t};throw at()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:WE(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:at()),t;var o}function Ch(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Mn.updateTime(Wr(o.updateTime)):void 0!==o.exists?Mn.exists(o.exists):Mn.none():Mn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,h){let m=null;"setToServerValue"in h?(Et("REQUEST_TIME"===h.setToServerValue),m=new Jc):"appendMissingElements"in h?m=new Nu(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new Ou(h.removeAllFromArray.values||[]):"increment"in h?m=new vh(l,h.increment):at();const E=kr.fromServerFormat(h.fieldPath);return new op(E,m)}(n,o)):[];var o;if(e.update){const o=No(n,e.update.name),l=new wi({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new Xi((e.updateMask.fieldPaths||[]).map(S=>kr.fromServerFormat(S)));return new cr(o,l,h,t,r)}return new Ga(o,l,t,r)}if(e.delete){const o=No(n,e.delete);return new Ml(o,t)}if(e.verify){const o=No(n,e.verify);return new Rl(o,t)}return at()}function Dm(n,e){return{documents:[u_(n,e.path)]}}function Tm(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=u_(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=u_(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(E){if(0===E.length)return;const S=E.map(N=>function(U){if("=="===U.op){if(bE(U.value))return{unaryFilter:{field:fp(U.field),op:"IS_NAN"}};if(zv(U.value))return{unaryFilter:{field:fp(U.field),op:"IS_NULL"}}}else if("!="===U.op){if(bE(U.value))return{unaryFilter:{field:fp(U.field),op:"IS_NOT_NAN"}};if(zv(U.value))return{unaryFilter:{field:fp(U.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fp(U.field),op:g_(U.op),value:U.value}}}(N));return 1===S.length?S[0]:{compositeFilter:{op:"AND",filters:S}}}(e.filters);o&&(t.structuredQuery.where=o);const l=function(E){if(0!==E.length)return E.map(S=>{return{field:fp((N=S).field),direction:p_(N.dir)};var N})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(S=e.limit,n.dt||Hc(S)?S:{value:S});var S,m,E;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function Sm(n){let e=l_(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Et(1===r);const N=t.from[0];N.allDescendants?o=N.collectionId:e=e.child(N.collectionId)}let l=[];t.where&&(l=Am(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(N=>{return new ip(bh((U=N).field),function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction));var U}));let m=null;t.limit&&(m=function(N){let U;return U="object"==typeof N?N.value:N,Hc(U)?null:U}(t.limit));let E=null;var N;t.startAt&&(E=new Kc((N=t.startAt).values||[],!!N.before));let S=null;return t.endAt&&(S=function(N){return new Kc(N.values||[],!N.before)}(t.endAt)),Yv(e,o,h,l,m,"F",E,S)}function Am(n){return n?void 0!==n.unaryFilter?[YE(n)]:void 0!==n.fieldFilter?[Hb(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Am(e)).reduce((e,t)=>e.concat(t)):at():[]}function p_(n){return o_[n]}function g_(n){return $b[n]}function fp(n){return{fieldPath:n.canonicalString()}}function bh(n){return kr.fromServerFormat(n.fieldPath)}function Hb(n){return ui.create(bh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(n.fieldFilter.op),n.fieldFilter.value)}function YE(n){switch(n.unaryFilter.op){case"IS_NAN":const e=bh(n.unaryFilter.field);return ui.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=bh(n.unaryFilter.field);return ui.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=bh(n.unaryFilter.field);return ui.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=bh(n.unaryFilter.field);return ui.create(o,"!=",{nullValue:"NULL_VALUE"});default:return at()}}function Gb(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Kr(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function es(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=JE(e)),e=qb(n.get(t),e);return JE(e)}function qb(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function JE(n){return n+"\x01\x01"}function ca(n){const e=n.length;if(Et(e>=2),2===e)return Et("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),mn.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const h=n.indexOf("\x01",l);switch((h<0||h>t)&&at(),n.charAt(h+1)){case"\x01":const m=n.substring(l,h);let E;0===o.length?E=m:(o+=m,E=o,o=""),r.push(E);break;case"\x10":o+=n.substring(l,h),o+="\0";break;case"\x11":o+=n.substring(l,h+1);break;default:at()}l=h+2}return new mn(r)}const XE=["userId","batchId"];function pp(n,e){return[n,es(e)]}function m_(n,e,t){return[n,es(e),t]}const Dh={},zb=["prefixPath","collectionGroup","readTime","documentId"],Wb=["prefixPath","collectionGroup","documentId"],ew=["collectionGroup","readTime","prefixPath","documentId"],Kb=["canonicalId","targetId"],tw=["targetId","path"],GT=["path","targetId"],y_=["collectionId","parent"],v_=["indexId","uid"],da=["uid","sequenceNumber"],Zb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],nw=["indexId","uid","orderedDocumentKey"],qa=["userId","collectionPath","documentId"],ha=["userId","collectionPath","largestBatchId"],fa=["userId","collectionGroup","largestBatchId"],__=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],rw=[...__,"documentOverlays"],iw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sw=iw,Qb=[...sw,"indexConfiguration","indexState","indexEntries"];class I_ extends Mb{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Zr(n,e){const t=nt(n);return ja.N(t.ee,e)}class od{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&jb(l,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Xc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Xc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=_m();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let m=this.applyToLocalView(h,l.mutatedFields);m=t.has(o.key)?null:m;const E=GE(h,m);null!==E&&r.set(o.key,E),h.isValidDocument()||h.convertToNoDocument(Dt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),jt())}isEqual(e){return this.batchId===e.batchId&&xu(this.mutations,e.mutations,(t,r)=>la(t,r))&&xu(this.baseMutations,e.baseMutations,(t,r)=>la(t,r))}}class E_{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Et(e.mutations.length===r.length);let o=r_;const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,r[h].version);return new E_(e,t,r,o)}}class xm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ol{constructor(e,t,r,o,l=Dt.min(),h=Dt.min(),m=Fr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(e){return new Ol(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ol(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ol(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class w_{constructor(e){this.ne=e}}function gp(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Mm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:id(o=n.ne,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Nl(o,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Pl(e.version)};else{if(!e.isUnknownDocument())return at();r.unknownDocument={path:t.path.toArray(),version:Pl(e.version)}}var o,l;return r}function Mm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Pl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function kl(n){const e=new Kn(n.seconds,n.nanoseconds);return Dt.fromTimestamp(e)}function Pu(n,e){const t=(e.baseMutations||[]).map(l=>Ch(n.ne,l));for(let l=0;l<e.mutations.length-1;++l){const h=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(h.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>Ch(n.ne,l)),o=Kn.fromMillis(e.localWriteTimeMs);return new od(e.batchId,o,t,r)}function Fl(n){const e=kl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?kl(n.lastLimboFreeSnapshotVersion):Dt.min();let r;var o;return void 0!==n.query.documents?(Et(1===(o=n.query).documents.length),r=Pi(Zc(l_(o.documents[0])))):r=Pi(Sm(n.query)),new Ol(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Fr.fromBase64String(n.resumeToken))}function Rm(n,e){const t=Pl(e.snapshotVersion),r=Pl(e.lastLimboFreeSnapshotVersion);let o;o=rp(e.target)?Dm(n.ne,e.target):Tm(n.ne,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Wc(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function mp(n){const e=Sm({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?PE(e,e.limit,"L"):e}function yp(n,e){return new xm(e.largestBatchId,Ch(n.ne,e.overlayMutation))}function Nm(n,e){const t=e.path.lastSegment();return[n,es(e.path.popLast()),t]}function Om(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Pl(r.readTime),documentKey:es(r.documentKey.path),largestBatchId:r.largestBatchId}}class C_{getBundleMetadata(e,t){return Pm(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:kl(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return Pm(e).put({bundleId:(r=t).id,createTime:Pl(Wr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return km(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:mp(o.bundledQuery),readTime:kl(o.readTime)};var o})}saveNamedQuery(e,t){return km(e).put({name:(r=t).name,readTime:Pl(Wr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Pm(n){return Zr(n,"bundles")}function km(n){return Zr(n,"namedQueries")}class vp{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new vp(e,t.uid||"")}getOverlay(e,t){return Th(e).get(Nm(this.userId,t)).next(r=>r?yp(this.wt,r):null)}getOverlays(e,t){const r=Ro();return ve.forEach(t,o=>this.getOverlay(e,o).next(l=>{null!==l&&r.set(o,l)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((l,h)=>{const m=new xm(t,h);o.push(this.ie(e,m))}),ve.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(h=>o.add(es(h.getCollectionPath())));const l=[];return o.forEach(h=>{const m=IDBKeyRange.bound([this.userId,h,r],[this.userId,h,r+1],!1,!0);l.push(Th(e).W("collectionPathOverlayIndex",m))}),ve.waitFor(l)}getOverlaysForCollection(e,t,r){const o=Ro(),l=es(t),h=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Th(e).K("collectionPathOverlayIndex",h).next(m=>{for(const E of m){const S=yp(this.wt,E);o.set(S.getKey(),S)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const l=Ro();let h;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Th(e).J({index:"collectionGroupOverlayIndex",range:m},(E,S,N)=>{const U=yp(this.wt,S);l.size()<o||U.largestBatchId===h?(l.set(U.getKey(),U),h=U.largestBatchId):N.done()}).next(()=>l)}ie(e,t){return Th(e).put(function(r,o,l){const[h,m,E]=Nm(o,l.mutation.key);return{userId:o,collectionPath:m,documentId:E,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:sd(r.ne,l.mutation)}}(this.wt,this.userId,t))}}function Th(n){return Zr(n,"documentOverlays")}class Ll{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Zn(e.integerValue));else if("doubleValue"in e){const r=Zn(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),ep(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Bc(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?Wv(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):at()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const o of Object.keys(r))this.le(o,t),this.oe(r[o],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const o of r)this.oe(o,t)}_e(e,t){this.ce(t,37),et.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function aw(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function b_(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const l=aw(255&t[o]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Ll.ye=new Ll;class uw{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ie(r.value),r=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const o=t.codePointAt(0);this.Ie(240|o>>>18),this.Ie(128|63&o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o)}}this.Te()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const o=t.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}this.Re()}ve(e){const t=this.Ve(e),r=b_(t);this.Se(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}De(e){const t=this.Ve(e),r=b_(t);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class lw{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class cw{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class Sh{constructor(){this.Me=new uw,this.Fe=new lw(this.Me),this.$e=new cw(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class Vl{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Vl(this.indexId,this.documentKey,this.arrayValue,r)}}function Ul(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=D_(n.arrayValue,e.arrayValue),0!==t?t:(t=D_(n.directionalValue,e.directionalValue),0!==t?t:et.comparator(n.documentKey,e.documentKey)))}function D_(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class dw{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const r=t;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const t=rm(e);if(void 0!==t&&!this.Qe(t))return!1;const r=ch(e);let o=0,l=0;for(;o<r.length&&this.Qe(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Ke){const h=r[o];if(!this.je(this.Ke,h)||!this.We(this.Ue[l++],h))return!1;++o}for(;o<r.length;++o){const h=r[o];if(l>=this.Ue.length||!this.We(this.Ue[l++],h))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class hw{constructor(){this.ze=new Fm}addToCollectionParentIndex(e,t){return this.ze.add(t),ve.resolve()}getCollectionParents(e,t){return ve.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return ve.resolve()}deleteFieldIndex(e,t){return ve.resolve()}getDocumentsMatchingTarget(e,t){return ve.resolve(null)}getIndexType(e,t){return ve.resolve(0)}getFieldIndexes(e,t){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,t){return ve.resolve(no.min())}getMinOffsetFromCollectionGroup(e,t){return ve.resolve(no.min())}updateCollectionGroup(e,t,r){return ve.resolve()}updateIndexEntries(e,t){return ve.resolve()}}class Fm{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new xn(mn.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new xn(mn.comparator)).toArray()}}const _p=new Uint8Array(0);class fw{constructor(e,t){this.user=e,this.databaseId=t,this.He=new Fm,this.Je=new io(r=>Wc(r),(r,o)=>dm(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const l={collectionId:r,parent:es(o)};return T_(e).put(l)}return ve.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[Jf(t),""],!1,!0);return T_(e).K(o).next(l=>{for(const h of l){if(h.collectionId!==t)break;r.push(ca(h.parent))}return r})}addFieldIndex(e,t){const r=Ah(e),o={indexId:(h=t).indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var h;delete o.indexId;const l=r.add(o);if(t.indexState){const h=ud(e);return l.next(m=>{h.put(Om(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=Ah(e),o=ud(e),l=ad(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=ad(e);let o=!0;const l=new Map;return ve.forEach(this.Ye(t),h=>this.Xe(e,h).next(m=>{o&&(o=!!m),l.set(h,m)})).next(()=>{if(o){let h=jt();const m=[];return ve.forEach(l,(E,S)=>{var N;Be("IndexedDbIndexManager",`Using index ${N=E,`id=${N.indexId}|cg=${N.collectionGroup}|f=${N.fields.map(Cn=>`${Cn.fieldPath}:${Cn.kind}`).join(",")}`} to execute ${Wc(t)}`);const U=function(Cn,tn){const vn=rm(tn);if(void 0===vn)return null;for(const Rn of hm(Cn,vn.fieldPath))switch(Rn.op){case"array-contains-any":return Rn.value.arrayValue.values||[];case"array-contains":return[Rn.value]}return null}(S,E),te=function(Cn,tn){const vn=new Map;for(const Rn of ch(tn))for(const Ps of hm(Cn,Rn.fieldPath))switch(Ps.op){case"==":case"in":vn.set(Rn.fieldPath.canonicalString(),Ps.value);break;case"not-in":case"!=":return vn.set(Rn.fieldPath.canonicalString(),Ps.value),Array.from(vn.values())}return null}(S,E),we=function(Cn,tn){const vn=[];let Rn=!0;for(const Ps of ch(tn)){const TI=0===Ps.kind?AE(Cn,Ps.fieldPath,Cn.startAt):xE(Cn,Ps.fieldPath,Cn.startAt);vn.push(TI.value),Rn&&(Rn=TI.inclusive)}return new Kc(vn,Rn)}(S,E),Ne=function(Cn,tn){const vn=[];let Rn=!0;for(const Ps of ch(tn)){const TI=0===Ps.kind?xE(Cn,Ps.fieldPath,Cn.endAt):AE(Cn,Ps.fieldPath,Cn.endAt);vn.push(TI.value),Rn&&(Rn=TI.inclusive)}return new Kc(vn,Rn)}(S,E),Ye=this.Ze(E,S,we),rt=this.Ze(E,S,Ne),en=this.tn(E,S,te),yn=this.en(E.indexId,U,Ye,we.inclusive,rt,Ne.inclusive,en);return ve.forEach(yn,Cn=>r.j(Cn,t.limit).next(tn=>{tn.forEach(vn=>{const Rn=et.fromSegments(vn.documentKey);h.has(Rn)||(h=h.add(Rn),m.push(Rn))})}))}).next(()=>m)}return ve.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,r,o,l,h,m){const E=(null!=t?t.length:1)*Math.max(r.length,l.length),S=E/(null!=t?t.length:1),N=[];for(let U=0;U<E;++U){const te=t?this.nn(t[U/S]):_p,we=this.sn(e,te,r[U%S],o),Ne=this.rn(e,te,l[U%S],h),Ye=m.map(rt=>this.sn(e,te,rt,!0));N.push(...this.createRange(we,Ne,Ye))}return N}sn(e,t,r,o){const l=new Vl(e,et.empty(),t,r);return o?l:l.Le()}rn(e,t,r,o){const l=new Vl(e,et.empty(),t,r);return o?l.Le():l}Xe(e,t){const r=new dw(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(l=>{let h=null;for(const m of l)r.Ge(m)&&(!h||m.fields.length>h.fields.length)&&(h=m);return h})}getIndexType(e,t){let r=2;return ve.forEach(this.Ye(t),o=>this.Xe(e,o).next(l=>{l?0!==r&&l.fields.length<function(h){let m=new xn(kr.comparator),E=!1;for(const S of h.filters){const N=S;N.field.isKeyField()||("array-contains"===N.op||"array-contains-any"===N.op?E=!0:m=m.add(N.field))}for(const S of h.orderBy)S.field.isKeyField()||(m=m.add(S.field));return m.size+(E?1:0)}(o)&&(r=1):r=0})).next(()=>r)}on(e,t){const r=new Sh;for(const o of ch(e)){const l=t.data.field(o.fieldPath);if(null==l)return null;const h=r.Be(o.kind);Ll.ye.re(l,h)}return r.Oe()}nn(e){const t=new Sh;return Ll.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const r=new Sh;return Ll.ye.re(mh(this.databaseId,t),r.Be(function(o){const l=ch(o);return 0===l.length?0:l[l.length-1].kind}(e))),r.Oe()}tn(e,t,r){if(null===r)return[];let o=[];o.push(new Sh);let l=0;for(const h of ch(e)){const m=r[l++];for(const E of o)if(this.cn(t,h.fieldPath)&&zc(m))o=this.an(o,h,m);else{const S=E.Be(h.kind);Ll.ye.re(m,S)}}return this.hn(o)}Ze(e,t,r){return this.tn(e,t,r.position)}hn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Oe();return t}an(e,t,r){const o=[...e],l=[];for(const h of r.arrayValue.values||[])for(const m of o){const E=new Sh;E.seed(m.Oe()),Ll.ye.re(h,E.Be(t.kind)),l.push(E)}return l}cn(e,t){return!!e.filters.find(r=>r instanceof ui&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Ah(e),o=ud(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(l=>{const h=[];return ve.forEach(l,m=>o.get([m.indexId,this.uid]).next(E=>{h.push(function(S,N){const U=N?new sm(N.sequenceNumber,new no(kl(N.readTime),new et(ca(N.documentKey)),N.largestBatchId)):sm.empty(),te=S.fields.map(([we,Ne])=>new im(kr.fromServerFormat(we),Ne));return new nm(S.indexId,S.collectionGroup,te,U)}(m,E))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const l=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==l?l:Ht(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Ah(e),l=ud(e);return this.ln(e).next(h=>o.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>ve.forEach(m,E=>l.put(Om(E.indexId,this.user,h,r)))))}updateIndexEntries(e,t){const r=new Map;return ve.forEach(t,(o,l)=>{const h=r.get(o.collectionGroup);return(h?ve.resolve(h):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),ve.forEach(m,E=>this.fn(e,o,E).next(S=>{const N=this.dn(l,E);return S.isEqual(N)?ve.resolve():this._n(e,l,E,S,N)}))))})}wn(e,t,r,o){return ad(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.un(r,t.key),documentKey:t.key.path.toArray()})}mn(e,t,r,o){return ad(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.un(r,t.key),t.key.path.toArray()])}fn(e,t,r){const o=ad(e);let l=new xn(Ul);return o.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,t)])},(h,m)=>{l=l.add(new Vl(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}dn(e,t){let r=new xn(Ul);const o=this.on(t,e);if(null==o)return r;const l=rm(t);if(null!=l){const h=e.data.field(l.fieldPath);if(zc(h))for(const m of h.arrayValue.values||[])r=r.add(new Vl(t.indexId,e.key,this.nn(m),o))}else r=r.add(new Vl(t.indexId,e.key,_p,o));return r}_n(e,t,r,o,l){Be("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const h=[];return function(m,E,S,N,U){const te=m.getIterator(),we=E.getIterator();let Ne=hh(te),Ye=hh(we);for(;Ne||Ye;){let rt=!1,en=!1;if(Ne&&Ye){const yn=S(Ne,Ye);yn<0?en=!0:yn>0&&(rt=!0)}else null!=Ne?en=!0:rt=!0;rt?(N(Ye),Ye=hh(we)):en?(U(Ne),Ne=hh(te)):(Ne=hh(te),Ye=hh(we))}}(o,l,Ul,m=>{h.push(this.wn(e,t,r,m))},m=>{h.push(this.mn(e,t,r,m))}),ve.waitFor(h)}ln(e){let t=1;return ud(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,l)=>{l.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((h,m)=>Ul(h,m)).filter((h,m,E)=>!m||0!==Ul(h,E[m-1]));const o=[];o.push(e);for(const h of r){const m=Ul(h,e),E=Ul(h,t);if(0===m)o[0]=e.Le();else if(m>0&&E<0)o.push(h),o.push(h.Le());else if(E>0)break}o.push(t);const l=[];for(let h=0;h<o.length;h+=2)l.push(IDBKeyRange.bound([o[h].indexId,this.uid,o[h].arrayValue,o[h].directionalValue,_p,[]],[o[h+1].indexId,this.uid,o[h+1].arrayValue,o[h+1].directionalValue,_p,[]]));return l}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Lm)}getMinOffset(e,t){return ve.mapArray(this.Ye(t),r=>this.Xe(e,r).next(o=>o||at())).next(Lm)}}function T_(n){return Zr(n,"collectionParents")}function ad(n){return Zr(n,"indexEntries")}function Ah(n){return Zr(n,"indexConfiguration")}function ud(n){return Zr(n,"indexState")}function Lm(n){Et(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;Xf(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new no(e.readTime,e.documentKey,t)}const Vm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ts{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ts(e,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Um(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),l=[],h=IDBKeyRange.only(t.batchId);let m=0;const E=r.J({range:h},(N,U,te)=>(m++,te.delete()));l.push(E.next(()=>{Et(1===m)}));const S=[];for(const N of t.mutations){const U=m_(e,N.key.path,t.batchId);l.push(o.delete(U)),S.push(N.key)}return ve.waitFor(l).next(()=>S)}function xh(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw at();e=n.noDocument}return JSON.stringify(e).length}ts.DEFAULT_COLLECTION_PERCENTILE=10,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ts.DEFAULT=new ts(41943040,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ts.DISABLED=new ts(-1,0,0);class Mh{constructor(e,t,r,o){this.userId=e,this.wt=t,this.indexManager=r,this.referenceDelegate=o,this.gn={}}static se(e,t,r,o){Et(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Mh(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return za(e).J({index:"userMutationsIndex",range:r},(o,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=Oo(e),h=za(e);return h.add({}).next(m=>{Et("number"==typeof m);const E=new od(m,t,r,o),S=function(te,we,Ne){const Ye=Ne.baseMutations.map(en=>sd(te.ne,en)),rt=Ne.mutations.map(en=>sd(te.ne,en));return{userId:we,batchId:Ne.batchId,localWriteTimeMs:Ne.localWriteTime.toMillis(),baseMutations:Ye,mutations:rt}}(this.wt,this.userId,E),N=[];let U=new xn((te,we)=>Ht(te.canonicalString(),we.canonicalString()));for(const te of o){const we=m_(this.userId,te.key.path,m);U=U.add(te.key.path.popLast()),N.push(h.put(S)),N.push(l.put(we,Dh))}return U.forEach(te=>{N.push(this.indexManager.addToCollectionParentIndex(e,te))}),e.addOnCommittedListener(()=>{this.gn[m]=E.keys()}),ve.waitFor(N).next(()=>E)})}lookupMutationBatch(e,t){return za(e).get(t).next(r=>r?(Et(r.userId===this.userId),Pu(this.wt,r)):null)}yn(e,t){return this.gn[t]?ve.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.gn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return za(e).J({index:"userMutationsIndex",range:o},(h,m,E)=>{m.userId===this.userId&&(Et(m.batchId>=r),l=Pu(this.wt,m)),E.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return za(e).J({index:"userMutationsIndex",range:t,reverse:!0},(o,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return za(e).K("userMutationsIndex",t).next(r=>r.map(o=>Pu(this.wt,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=pp(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return Oo(e).J({range:o},(h,m,E)=>{const[S,N,U]=h,te=ca(N);if(S===this.userId&&t.path.isEqual(te))return za(e).get(U).next(we=>{if(!we)throw at();Et(we.userId===this.userId),l.push(Pu(this.wt,we))});E.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new xn(Ht);const o=[];return t.forEach(l=>{const h=pp(this.userId,l.path),m=IDBKeyRange.lowerBound(h),E=Oo(e).J({range:m},(S,N,U)=>{const[te,we,Ne]=S,Ye=ca(we);te===this.userId&&l.path.isEqual(Ye)?r=r.add(Ne):U.done()});o.push(E)}),ve.waitFor(o).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=pp(this.userId,r),h=IDBKeyRange.lowerBound(l);let m=new xn(Ht);return Oo(e).J({range:h},(E,S,N)=>{const[U,te,we]=E,Ne=ca(te);U===this.userId&&r.isPrefixOf(Ne)?Ne.length===o&&(m=m.add(we)):N.done()}).next(()=>this.pn(e,m))}pn(e,t){const r=[],o=[];return t.forEach(l=>{o.push(za(e).get(l).next(h=>{if(null===h)throw at();Et(h.userId===this.userId),r.push(Pu(this.wt,h))}))}),ve.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Um(e.ee,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),ve.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ve.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Oo(e).J({range:r},(l,h,m)=>{if(l[0]===this.userId){const E=ca(l[1]);o.push(E)}else m.done()}).next(()=>{Et(0===o.length)})})}containsKey(e,t){return jm(e,this.userId,t)}Tn(e){return pw(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function jm(n,e,t){const r=pp(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return Oo(n).J({range:l,H:!0},(m,E,S)=>{const[N,U,te]=m;N===e&&U===o&&(h=!0),S.done()}).next(()=>h)}function za(n){return Zr(n,"mutations")}function Oo(n){return Zr(n,"documentMutations")}function pw(n){return Zr(n,"mutationQueues")}class ld{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new ld(0)}static Rn(){return new ld(-1)}}class Rh{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const r=new ld(t.highestTargetId);return t.highestTargetId=r.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>Dt.fromTimestamp(new Kn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.bn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Pn(e,o)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(t,r),this.Pn(e,r))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Nh(e).delete(t.targetId)).next(()=>this.bn(e)).next(r=>(Et(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return Nh(e).J((h,m)=>{const E=Fl(m);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(o++,l.push(this.removeTargetData(e,E)))}).next(()=>ve.waitFor(l)).next(()=>o)}forEachTarget(e,t){return Nh(e).J((r,o)=>{const l=Fl(o);t(l)})}bn(e){return Bm(e).get("targetGlobalKey").next(t=>(Et(null!==t),t))}Pn(e,t){return Bm(e).put("targetGlobalKey",t)}vn(e,t){return Nh(e).put(Rm(this.wt,t))}Vn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Wc(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Nh(e).J({range:o,index:"queryTargetsIndex"},(h,m,E)=>{const S=Fl(m);dm(t,S.target)&&(l=S,E.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=jl(e);return t.forEach(h=>{const m=es(h.path);o.push(l.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,h))}),ve.waitFor(o)}removeMatchingKeys(e,t,r){const o=jl(e);return ve.forEach(t,l=>{const h=es(l.path);return ve.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=jl(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=jl(e);let l=jt();return o.J({range:r,H:!0},(h,m,E)=>{const S=ca(h[1]),N=new et(S);l=l.add(N)}).next(()=>l)}containsKey(e,t){const r=es(t.path),o=IDBKeyRange.bound([r],[Jf(r)],!1,!0);let l=0;return jl(e).J({index:"documentTargetsIndex",H:!0,range:o},([h,m],E,S)=>{0!==h&&(l++,S.done())}).next(()=>l>0)}te(e,t){return Nh(e).get(t).next(r=>r?Fl(r):null)}}function Nh(n){return Zr(n,"targets")}function Bm(n){return Zr(n,"targetGlobal")}function jl(n){return Zr(n,"targetDocuments")}function S_([n,e],[t,r]){const o=Ht(n,t);return 0===o?Ht(e,r):o}class gw{constructor(e){this.Sn=e,this.buffer=new xn(S_),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();S_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Yb{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;Be("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ae.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){jc(r)?Be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Uc(r)}yield t.kn(3e5)}))}}class Ct{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ve.resolve(Ji.ot);const r=new gw(t);return this.On.forEachTarget(e,o=>r.xn(o.sequenceNumber)).next(()=>this.On.Fn(e,o=>r.xn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.On.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(Vm)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vm):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let r,o,l,h,m,E,S;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(U=>(U>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${U}`),o=this.params.maximumSequenceNumbersToCollect):o=U,h=Date.now(),this.nthSequenceNumber(e,o))).next(U=>(r=U,m=Date.now(),this.removeTargets(e,r,t))).next(U=>(l=U,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(U=>(S=Date.now(),Pv()<=Xs.in.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-N}ms\n\tDetermined least recently used ${o} in `+(m-h)+`ms\n\tRemoved ${l} targets in `+(E-m)+`ms\n\tRemoved ${U} documents in `+(S-E)+`ms\nTotal Duration: ${S-N}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:U})))}}class Jb{constructor(e,t){this.db=e,this.garbageCollector=new Ct(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Bn(e){let t=0;return this.Fn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(r,o)=>t(o))}addReference(e,t,r){return $m(e,r)}removeReference(e,t,r){return $m(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return $m(e,t)}Un(e,t){return function(r,o){let l=!1;return pw(r).Y(h=>jm(r,h,o).next(m=>(m&&(l=!0),ve.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.Ln(e,(h,m)=>{if(m<=t){const E=this.Un(e,h).next(S=>{if(!S)return l++,r.getEntry(e,h).next(()=>(r.removeEntry(h,Dt.min()),jl(e).delete([0,es(h.path)])))});o.push(E)}}).next(()=>ve.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return $m(e,t)}Ln(e,t){const r=jl(e);let o,l=Ji.ot;return r.J({index:"documentTargetsIndex"},([h,m],{path:E,sequenceNumber:S})=>{0===h?(l!==Ji.ot&&t(new et(ca(o)),l),l=S,o=E):l=Ji.ot}).next(()=>{l!==Ji.ot&&t(new et(ca(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $m(n,e){return jl(n).put((r=n.currentSequenceNumber,{targetId:0,path:es(e.path),sequenceNumber:r}));var r}class mw{constructor(){this.changes=new io(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ve.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cd{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Bn(e).put(r)}removeEntry(e,t,r){return Bn(e).delete(function(o,l){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Mm(l),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.qn(e,r)))}getEntry(e,t){let r=Qn.newInvalidDocument(t);return Bn(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Gm(t))},(o,l)=>{r=this.Kn(t,l)}).next(()=>r)}Gn(e,t){let r={size:0,document:Qn.newInvalidDocument(t)};return Bn(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Gm(t))},(o,l)=>{r={document:this.Kn(t,l),size:xh(l)}}).next(()=>r)}getEntries(e,t){let r=li();return this.Qn(e,t,(o,l)=>{const h=this.Kn(o,l);r=r.insert(o,h)}).next(()=>r)}jn(e,t){let r=li(),o=new Tr(et.comparator);return this.Qn(e,t,(l,h)=>{const m=this.Kn(l,h);r=r.insert(l,m),o=o.insert(l,xh(h))}).next(()=>({documents:r,Wn:o}))}Qn(e,t,r){if(t.isEmpty())return ve.resolve();let o=new xn(qm);t.forEach(E=>o=o.add(E));const l=IDBKeyRange.bound(Gm(o.first()),Gm(o.last())),h=o.getIterator();let m=h.getNext();return Bn(e).J({index:"documentKeyIndex",range:l},(E,S,N)=>{const U=et.fromSegments([...S.prefixPath,S.collectionGroup,S.documentId]);for(;m&&qm(m,U)<0;)r(m,null),m=h.getNext();m&&m.isEqual(U)&&(r(m,S),m=h.hasNext()?h.getNext():null),m?N.q(Gm(m)):N.done()}).next(()=>{for(;m;)r(m,null),m=h.hasNext()?h.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),Mm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bn(e).K(IDBKeyRange.bound(o,l,!0)).next(h=>{let m=li();for(const E of h){const S=this.Kn(et.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);m=m.insert(S.key,S)}return m})}getAllFromCollectionGroup(e,t,r,o){let l=li();const h=A_(t,r),m=A_(t,no.max());return Bn(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,m,!0)},(E,S,N)=>{const U=this.Kn(et.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);l=l.insert(U.key,U),l.size===o&&N.done()}).next(()=>l)}newChangeBuffer(e){return new Hm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Ip(e).get("remoteDocumentGlobalKey").next(t=>(Et(!!t),t))}qn(e,t){return Ip(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const r=function ow(n,e){let t;if(e.document)t=KE(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=et.fromSegments(e.noDocument.path),o=kl(e.noDocument.readTime);t=Qn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return at();{const r=et.fromSegments(e.unknownDocument.path),o=kl(e.unknownDocument.version);t=Qn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Kn(r[0],r[1]);return Dt.fromTimestamp(o)}(e.readTime)),t}(this.wt,t);if(!r.isNoDocument()||!r.version.isEqual(Dt.min()))return r}return Qn.newInvalidDocument(e)}}function yw(n){return new cd(n)}class Hm extends mw{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new io(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new xn((l,h)=>Ht(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const m=this.Hn.get(l);if(t.push(this.zn.removeEntry(e,l,m.readTime)),h.isValidDocument()){const E=gp(this.zn.wt,h);o=o.add(l.path.popLast()),r+=xh(E)-m.size,t.push(this.zn.addEntry(e,l,E))}else if(r-=m.size,this.trackRemovals){const E=gp(this.zn.wt,h.convertToNoDocument(Dt.min()));t.push(this.zn.addEntry(e,l,E))}}),o.forEach(l=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.zn.updateMetadata(e,r)),ve.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(r=>(this.Hn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:r,Wn:o})=>(o.forEach((l,h)=>{this.Hn.set(l,{size:h,readTime:r.get(l).readTime})}),r))}}function Ip(n){return Zr(n,"remoteDocumentGlobal")}function Bn(n){return Zr(n,"remoteDocumentsV14")}function Gm(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function A_(n,e){const t=e.documentKey.path.toArray();return[n,Mm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function qm(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(o=Ht(t[l],r[l]),o)return o;return o=Ht(t.length,r.length),o||(o=Ht(t[t.length-2],r[r.length-2]),o||Ht(t[t.length-1],r[r.length-1]))}class Xb{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class x_{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.getBaseDocument(e,t,r))).next(o=>(null!==r&&Xc(r.mutation,o,Xi.empty(),Kn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,jt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=jt()){const o=Ro();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(l=>{let h=nd();return l.forEach((m,E)=>{h=h.insert(m,E.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const r=Ro();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,jt()))}populateOverlays(e,t,r){const o=[];return r.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,r,o){let l=li();const h=rd(),m=rd();return t.forEach((E,S)=>{const N=r.get(S.key);o.has(S.key)&&(void 0===N||N.mutation instanceof cr)?l=l.insert(S.key,S):void 0!==N&&(h.set(S.key,N.mutation.getFieldMask()),Xc(N.mutation,S,N.mutation.getFieldMask(),Kn.now()))}),this.recalculateAndSaveOverlays(e,l).next(E=>(E.forEach((S,N)=>h.set(S,N)),t.forEach((S,N)=>{var U;return m.set(S,new Xb(N,null!==(U=h.get(S))&&void 0!==U?U:null))}),m))}recalculateAndSaveOverlays(e,t){const r=rd();let o=new Tr((h,m)=>h-m),l=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(E=>{const S=t.get(E);if(null===S)return;let N=r.get(E)||Xi.empty();N=m.applyToLocalView(S,N),r.set(E,N);const U=(o.get(m.batchId)||jt()).add(E);o=o.insert(m.batchId,U)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const E=m.getNext(),S=E.key,N=E.value,U=_m();N.forEach(te=>{if(!l.has(te)){const we=GE(t.get(te),r.get(te));null!==we&&U.set(te,we),l=l.add(te)}}),h.push(this.documentOverlayCache.saveOverlays(e,S,U))}return ve.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return et.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):yh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-l.size):ve.resolve(Ro());let m=-1,E=l;return h.next(S=>ve.forEach(S,(N,U)=>(m<U.largestBatchId&&(m=U.largestBatchId),l.get(N)?ve.resolve():this.getBaseDocument(e,N,U).next(te=>{E=E.insert(N,te)}))).next(()=>this.populateOverlays(e,S,l)).next(()=>this.computeViews(e,E,S,jt())).next(N=>({batchId:m,changes:vm(N)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next(r=>{let o=nd();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let l=nd();return this.indexManager.getCollectionParents(e,o).next(h=>ve.forEach(h,m=>{const E=(S=t,N=m.child(o),new Ha(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,N;return this.getDocumentsMatchingCollectionQuery(e,E,r).next(S=>{S.forEach((N,U)=>{l=l.insert(N,U)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(o=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((m,E)=>{const S=E.getKey();null===o.get(S)&&(o=o.insert(S,Qn.newInvalidDocument(S)))});let h=nd();return o.forEach((m,E)=>{const S=l.get(m);void 0!==S&&Xc(S.mutation,E,Xi.empty(),Kn.now()),e_(t,E)&&(h=h.insert(m,E))}),h})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ve.resolve(Qn.newInvalidDocument(t))}}class vw{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return ve.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:Wr(r.createTime)}),ve.resolve()}getNamedQuery(e,t){return ve.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:mp(r.bundledQuery),readTime:Wr(r.readTime)}),ve.resolve();var r}}class _w{constructor(){this.overlays=new Tr(et.comparator),this.Xn=new Map}getOverlay(e,t){return ve.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ro();return ve.forEach(t,o=>this.getOverlay(e,o).next(l=>{null!==l&&r.set(o,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,l)=>{this.ie(e,t,l)}),ve.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Xn.get(r);return void 0!==o&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Xn.delete(r)),ve.resolve()}getOverlaysForCollection(e,t,r){const o=Ro(),l=t.length+1,h=new et(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const E=m.getNext().value,S=E.getKey();if(!t.isPrefixOf(S.path))break;S.path.length===l&&E.largestBatchId>r&&o.set(E.getKey(),E)}return ve.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new Tr((S,N)=>S-N);const h=this.overlays.getIterator();for(;h.hasNext();){const S=h.getNext().value;if(S.getKey().getCollectionGroup()===t&&S.largestBatchId>r){let N=l.get(S.largestBatchId);null===N&&(N=Ro(),l=l.insert(S.largestBatchId,N)),N.set(S.getKey(),S)}}const m=Ro(),E=l.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((S,N)=>m.set(S,N)),!(m.size()>=o)););return ve.resolve(m)}ie(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const h=this.Xn.get(o.largestBatchId).delete(r.key);this.Xn.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new xm(t,r));let l=this.Xn.get(t);void 0===l&&(l=jt(),this.Xn.set(t,l)),this.Xn.set(t,l.add(r.key))}}class zm{constructor(){this.Zn=new xn(Ci.ts),this.es=new xn(Ci.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new Ci(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new Ci(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new et(new mn([])),r=new Ci(t,e),o=new Ci(t,e+1),l=[];return this.es.forEachInRange([r,o],h=>{this.rs(h),l.push(h.key)}),l}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new et(new mn([])),r=new Ci(t,e),o=new Ci(t,e+1);let l=jt();return this.es.forEachInRange([r,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Ci(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ci{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return et.comparator(e.key,t.key)||Ht(e.ls,t.ls)}static ns(e,t){return Ht(e.ls,t.ls)||et.comparator(e.key,t.key)}}class eD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new xn(Ci.ts)}checkEmpty(e){return ve.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const l=this.fs;this.fs++;const h=new od(l,t,r,o);this.mutationQueue.push(h);for(const m of o)this.ds=this.ds.add(new Ci(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ve.resolve(h)}lookupMutationBatch(e,t){return ve.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ws(t+1),l=o<0?0:o;return ve.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ci(t,0),o=new Ci(t,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([r,o],h=>{const m=this._s(h.ls);l.push(m)}),ve.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new xn(Ht);return t.forEach(o=>{const l=new Ci(o,0),h=new Ci(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,h],m=>{r=r.add(m.ls)})}),ve.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;et.isDocumentKey(l)||(l=l.child(""));const h=new Ci(new et(l),0);let m=new xn(Ht);return this.ds.forEachWhile(E=>{const S=E.key.path;return!!r.isPrefixOf(S)&&(S.length===o&&(m=m.add(E.ls)),!0)},h),ve.resolve(this.gs(m))}gs(e){const t=[];return e.forEach(r=>{const o=this._s(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Et(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return ve.forEach(t.mutations,o=>{const l=new Ci(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new Ci(t,0),o=this.ds.firstAfterOrEqual(r);return ve.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ve.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class tD{constructor(e){this.ps=e,this.docs=new Tr(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,h=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ve.resolve(r?r.document.mutableCopy():Qn.newInvalidDocument(t))}getEntries(e,t){let r=li();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Qn.newInvalidDocument(o))}),ve.resolve(r)}getAllFromCollection(e,t,r){let o=li();const l=new et(t.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:m,value:{document:E}}=h.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||Xf(Vv(E),r)<=0||(o=o.insert(E.key,E.mutableCopy()))}return ve.resolve(o)}getAllFromCollectionGroup(e,t,r,o){at()}Is(e,t){return ve.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Ep(this)}getSize(e){return ve.resolve(this.size)}}class Ep extends mw{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.zn.addEntry(e,o)):this.zn.removeEntry(r)}),ve.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class nD{constructor(e){this.persistence=e,this.Ts=new io(t=>Wc(t),dm),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Es=0,this.As=new zm,this.targetCount=0,this.Rs=ld.An()}forEachTarget(e,t){return this.Ts.forEach((r,o)=>t(o)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),ve.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new ld(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,ve.resolve()}updateTargetData(e,t){return this.vn(t),ve.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Ts.forEach((h,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Ts.delete(h),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ve.waitFor(l).next(()=>o)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return ve.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),ve.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),ve.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),ve.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return ve.resolve(r)}containsKey(e,t){return ve.resolve(this.As.containsKey(t))}}class Iw{constructor(e,t){this.bs={},this.overlays={},this.Ps=new Ji(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new nD(this),this.indexManager=new hw,this.remoteDocumentCache=new tD(r=>this.referenceDelegate.Ss(r)),this.wt=new w_(t),this.Ds=new vw(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _w,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new eD(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){Be("MemoryPersistence","Starting transaction:",e);const o=new rD(this.Ps.next());return this.referenceDelegate.Cs(),r(o).next(l=>this.referenceDelegate.xs(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ns(e,t){return ve.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class rD extends Mb{constructor(e){super(),this.currentSequenceNumber=e}}class dd{constructor(e){this.persistence=e,this.ks=new zm,this.Os=null}static Ms(e){return new dd(e)}get Fs(){if(this.Os)return this.Os;throw at()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),ve.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),ve.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(o=>this.Fs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.Fs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.Fs,r=>{const o=et.fromPath(r);return this.$s(e,o).next(l=>{l||t.removeEntry(o,Dt.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return ve.or([()=>ve.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class Ew{constructor(e){this.wt=e}O(e,t,r,o){const l=new Uv("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XE,{unique:!0}),m.createObjectStore("documentMutations"),M_(e),function(m){m.createObjectStore("remoteDocuments")}(e));let h=ve.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),M_(e)),h=h.next(()=>function(m){const E=m.store("targetGlobal"),S={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dt.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",S)}(l))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(m,E){return E.store("mutations").K().next(S=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XE,{unique:!0});const N=E.store("mutations"),U=S.map(te=>N.put(te));return ve.waitFor(U)})}(e,l))),h=h.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Bs(l))),r<6&&o>=6&&(h=h.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(l)))),r<7&&o>=7&&(h=h.next(()=>this.Us(l))),r<8&&o>=8&&(h=h.next(()=>this.qs(e,l))),r<9&&o>=9&&(h=h.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(h=h.next(()=>this.Ks(l))),r<11&&o>=11&&(h=h.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(h=h.next(()=>{!function(m){const E=m.createObjectStore("documentOverlays",{keyPath:qa});E.createIndex("collectionPathOverlayIndex",ha,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",fa,{unique:!1})}(e)})),r<13&&o>=13&&(h=h.next(()=>function(m){const E=m.createObjectStore("remoteDocumentsV14",{keyPath:zb});E.createIndex("documentKeyIndex",Wb),E.createIndex("collectionGroupIndex",ew)}(e)).next(()=>this.Gs(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(h=h.next(()=>this.Qs(e,l))),r<15&&o>=15&&(h=h.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:v_}).createIndex("sequenceNumberIndex",da,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:Zb}).createIndex("documentKeyIndex",nw,{unique:!1})}(e))),h}Ls(e){let t=0;return e.store("remoteDocuments").J((r,o)=>{t+=xh(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.K().next(o=>ve.forEach(o,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",h).next(m=>ve.forEach(m,E=>{Et(E.userId===l.userId);const S=Pu(this.wt,E);return Um(e,l.userId,S).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const l=[];return r.J((h,m)=>{const E=new mn(h),S=[0,es(E)];l.push(t.get(S).next(N=>N?ve.resolve():t.put({targetId:0,path:es(E),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ve.waitFor(l))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:y_});const r=t.store("collectionParents"),o=new Fm,l=h=>{if(o.add(h)){const m=h.lastSegment(),E=h.popLast();return r.put({collectionId:m,parent:es(E)})}};return t.store("remoteDocuments").J({H:!0},(h,m)=>{const E=new mn(h);return l(E.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([h,m,E],S)=>{const N=ca(m);return l(N.popLast())}))}Ks(e){const t=e.store("targets");return t.J((r,o)=>{const l=Fl(o),h=Rm(this.wt,l);return t.put(h)})}Gs(e,t){const r=t.store("remoteDocuments"),o=[];return r.J((l,h)=>{const m=t.store("remoteDocumentsV14"),E=(S=h,S.document?new et(mn.fromString(S.document.name).popFirst(5)):S.noDocument?et.fromSegments(S.noDocument.path):S.unknownDocument?et.fromSegments(S.unknownDocument.path):at()).path.toArray();var S;const N={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};o.push(m.put(N))}).next(()=>ve.waitFor(o))}Qs(e,t){const r=t.store("mutations"),o=yw(this.wt),l=new Iw(dd.Ms,this.wt.ne);return r.K().next(h=>{const m=new Map;return h.forEach(E=>{var S;let N=null!==(S=m.get(E.userId))&&void 0!==S?S:jt();Pu(this.wt,E).keys().forEach(U=>N=N.add(U)),m.set(E.userId,N)}),ve.forEach(m,(E,S)=>{const N=new Ei(S),U=vp.se(this.wt,N),te=l.getIndexManager(N),we=Mh.se(N,this.wt,te,l.referenceDelegate);return new x_(o,we,U,te).recalculateAndSaveOverlaysForDocumentKeys(new I_(t,Ji.ot),E).next()})})}}function M_(n){n.createObjectStore("targetDocuments",{keyPath:tw}).createIndex("documentTargetsIndex",GT,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Kb,{unique:!0}),n.createObjectStore("targetGlobal")}const Wm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class R_{constructor(e,t,r,o,l,h,m,E,S,N,U=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.js=l,this.window=h,this.document=m,this.Ws=S,this.zs=N,this.Hs=U,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=te=>Promise.resolve(),!R_.V())throw new Le(Ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jb(this,o),this.ei=t+"main",this.wt=new w_(E),this.ni=new ja(this.ei,this.Hs,new Ew(this.wt)),this.Vs=new Rh(this.referenceDelegate,this.wt),this.remoteDocumentCache=yw(this.wt),this.Ds=new C_,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===N&&Pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(Ee.FAILED_PRECONDITION,Wm);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new Ji(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var r=(0,Ae.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,Ae.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,Ae.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Bl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(jc(e))return Be("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return ku(e).get("owner").next(t=>ve.resolve(this.di(t)))}_i(e){return Bl(e).delete(this.clientId)}wi(){var e=this;return(0,Ae.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Zr(r,"clientMetadata");return o.K().next(l=>{const h=e.gi(l,18e5),m=l.filter(E=>-1===h.indexOf(E));return ve.forEach(m,E=>o.delete(E.clientId)).next(()=>m)})}).catch(()=>[]);if(e.si)for(const r of t)e.si.removeItem(e.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?ve.resolve(!0):ku(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Le(Ee.FAILED_PRECONDITION,Wm);return!1}}return!(!this.networkEnabled||!this.inForeground)||Bl(e).K().next(r=>void 0===this.gi(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Be("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ae.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new I_(t,Ji.ot);return e.li(r).next(()=>e._i(r))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(r=>this.mi(r.updateTimeMs,t)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>Bl(e).K().next(t=>this.gi(t,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return Mh.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new fw(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return vp.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,r){Be("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",l=15===(h=this.Hs)?Qb:14===h?sw:13===h?iw:12===h?rw:11===h?__:void at();var h;let m;return this.ni.runTransaction(e,o,l,E=>(m=new I_(E,this.Ps?this.Ps.next():Ji.ot),"readwrite-primary"===t?this.ai(m).next(S=>!!S||this.hi(m)).next(S=>{if(!S)throw Pr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Le(Ee.FAILED_PRECONDITION,xb);return r(m)}).next(S=>this.fi(m).next(()=>S)):this.bi(m).next(()=>r(m)))).then(E=>(m.raiseOnCommittedEvent(),E))}bi(e){return ku(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Le(Ee.FAILED_PRECONDITION,Wm)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ku(e).put("owner",t)}static V(){return ja.V()}li(e){const t=ku(e);return t.get("owner").next(r=>this.di(r)?(Be("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ve.resolve())}mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Pr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Ut.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const r=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Be("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Pr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Pr("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ku(n){return Zr(n,"owner")}function Bl(n){return Zr(n,"clientMetadata")}function N_(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class O_{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=o}static Vi(e,t){let r=jt(),o=jt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new O_(e,t.fromCache,r,o)}}class ww{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ci(e,t).next(l=>l||this.xi(e,t,o,r)).next(l=>l||this.Ni(e,t))}Ci(e,t){return ve.resolve(null)}xi(e,t,r,o){return function OE(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||o.isEqual(Dt.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(l=>{const h=this.ki(t,l);return this.Oi(t,h,r,o)?this.Ni(e,t):(Pv()<=Xs.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xv(t)),this.Mi(e,h,t,Lv(o,-1)))})}ki(e,t){let r=new xn(kE(e));return t.forEach((o,l)=>{e_(e,l)&&(r=r.add(l))}),r}Oi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ni(e,t){return Pv()<=Xs.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",Xv(t)),this.Di.getDocumentsMatchingQuery(e,t,no.min())}Mi(e,t,r,o){return this.Di.getDocumentsMatchingQuery(e,r,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}class Cw{constructor(e,t,r,o){this.persistence=e,this.Fi=t,this.wt=o,this.$i=new Tr(Ht),this.Bi=new io(l=>Wc(l),dm),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x_(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function P_(n,e,t,r){return new Cw(n,e,t,r)}function k_(n,e){return F_.apply(this,arguments)}function F_(){return F_=(0,Ae.Z)(function*(n,e){const t=nt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(l=>(o=l,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const h=[],m=[];let E=jt();for(const S of o){h.push(S.batchId);for(const N of S.mutations)E=E.add(N.key)}for(const S of l){m.push(S.batchId);for(const N of S.mutations)E=E.add(N.key)}return t.localDocuments.getDocuments(r,E).next(S=>({Ki:S,removedBatchIds:h,addedBatchIds:m}))})})}),F_.apply(this,arguments)}function bw(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.Ui.newChangeBuffer({trackRemovals:!0});return function(h,m,E,S){const N=E.batch,U=N.keys();let te=ve.resolve();return U.forEach(we=>{te=te.next(()=>S.getEntry(m,we)).next(Ne=>{const Ye=E.docVersions.get(we);Et(null!==Ye),Ne.version.compareTo(Ye)<0&&(N.applyToRemoteDocument(Ne,E),Ne.isValidDocument()&&(Ne.setReadTime(E.commitVersion),S.addEntry(Ne)))})}),te.next(()=>h.mutationQueue.removeMutationBatch(m,N))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let m=jt();for(let E=0;E<h.mutationResults.length;++E)h.mutationResults[E].transformResults.length>0&&(m=m.add(h.batch.mutations[E].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function Dw(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function iD(n,e){const t=nt(n),r=e.snapshotVersion;let o=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Ui.newChangeBuffer({trackRemovals:!0});o=t.$i;const m=[];e.targetChanges.forEach((N,U)=>{const te=o.get(U);if(!te)return;m.push(t.Vs.removeMatchingKeys(l,N.removedDocuments,U).next(()=>t.Vs.addMatchingKeys(l,N.addedDocuments,U)));let we=te.withSequenceNumber(l.currentSequenceNumber);var Ne,Ye,rt;e.targetMismatches.has(U)?we=we.withResumeToken(Fr.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):N.resumeToken.approximateByteSize()>0&&(we=we.withResumeToken(N.resumeToken,r)),o=o.insert(U,we),Ye=we,rt=N,(0===(Ne=te).resumeToken.approximateByteSize()||Ye.snapshotVersion.toMicroseconds()-Ne.snapshotVersion.toMicroseconds()>=3e8||rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0)&&m.push(t.Vs.updateTargetData(l,we))});let E=li(),S=jt();if(e.documentUpdates.forEach(N=>{e.resolvedLimboDocuments.has(N)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,N))}),m.push(sD(l,h,e.documentUpdates).next(N=>{E=N.Gi,S=N.Qi})),!r.isEqual(Dt.min())){const N=t.Vs.getLastRemoteSnapshotVersion(l).next(U=>t.Vs.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(N)}return ve.waitFor(m).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,E,S)).next(()=>E)}).then(l=>(t.$i=o,l))}function sD(n,e,t){let r=jt(),o=jt();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let h=li();return t.forEach((m,E)=>{const S=l.get(m);E.isFoundDocument()!==S.isFoundDocument()&&(o=o.add(m)),E.isNoDocument()&&E.version.isEqual(Dt.min())?(e.removeEntry(m,E.readTime),h=h.insert(m,E)):!S.isValidDocument()||E.version.compareTo(S.version)>0||0===E.version.compareTo(S.version)&&S.hasPendingWrites?(e.addEntry(E),h=h.insert(m,E)):Be("LocalStore","Ignoring outdated watch update for ",m,". Current version:",S.version," Watch version:",E.version)}),{Gi:h,Qi:o}})}function qT(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wp(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Vs.getTargetData(r,e).next(l=>l?(o=l,ve.resolve(o)):t.Vs.allocateTargetId(r).next(h=>(o=new Ol(e,h,0,r.currentSequenceNumber),t.Vs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.$i.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function Cp(n,e,t){return Km.apply(this,arguments)}function Km(){return Km=(0,Ae.Z)(function*(n,e,t){const r=nt(n),o=r.$i.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!jc(h))throw h;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.$i=r.$i.remove(e),r.Bi.delete(o.target)}),Km.apply(this,arguments)}function hd(n,e,t){const r=nt(n);let o=Dt.min(),l=jt();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,E,S){const N=nt(m),U=N.Bi.get(S);return void 0!==U?ve.resolve(N.$i.get(U)):N.Vs.getTargetData(E,S)}(r,h,Pi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(h,m.targetId).next(E=>{l=E})}).next(()=>r.Fi.getDocumentsMatchingQuery(h,e,t?o:Dt.min(),t?l:jt())).next(m=>(L_(r,Yc(e),m),{documents:m,ji:l})))}function Tw(n,e){const t=nt(n),r=nt(t.Vs),o=t.$i.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.te(l,e).next(h=>h?h.target:null))}function Sw(n,e){const t=nt(n),r=t.Li.get(e)||Dt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Ui.getAllFromCollectionGroup(o,e,Lv(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(L_(t,e,o),o))}function L_(n,e,t){let r=Dt.min();t.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Li.set(e,r)}function V_(){return V_=(0,Ae.Z)(function*(n,e,t,r){const o=nt(n);let l=jt(),h=li();for(const S of t){const N=e.Wi(S.metadata.name);S.document&&(l=l.add(N));const U=e.zi(S);U.setReadTime(e.Hi(S.metadata.readTime)),h=h.insert(N,U)}const m=o.Ui.newChangeBuffer({trackRemovals:!0}),E=yield wp(o,(S=r,Pi(Zc(mn.fromString(`__bundle__/docs/${S}`)))));var S;return o.persistence.runTransaction("Apply bundle documents","readwrite",S=>sD(S,m,h).next(N=>(m.apply(S),N)).next(N=>o.Vs.removeMatchingKeysForTargetId(S,E.targetId).next(()=>o.Vs.addMatchingKeys(S,l,E.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(S,N.Gi,N.Qi)).next(()=>N.Gi)))}),V_.apply(this,arguments)}function oD(n,e){return U_.apply(this,arguments)}function U_(){return U_=(0,Ae.Z)(function*(n,e,t=jt()){const r=yield wp(n,Pi(mp(e.bundledQuery))),o=nt(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const h=Wr(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.Ds.saveNamedQuery(l,e);const m=r.withResumeToken(Fr.EMPTY_BYTE_STRING,h);return o.$i=o.$i.insert(m.targetId,m),o.Vs.updateTargetData(l,m).next(()=>o.Vs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.Vs.addMatchingKeys(l,t,r.targetId)).next(()=>o.Ds.saveNamedQuery(l,e))})}),U_.apply(this,arguments)}function Aw(n,e){return`firestore_clients_${n}_${e}`}function xw(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Zm(n,e){return`firestore_targets_${n}_${e}`}class Qm{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Ji(e,t,r){const o=JSON.parse(r);let l,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new Le(o.error.code,o.error.message))),h?new Qm(e,t,o.state,l):(Pr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dp{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new Le(r.error.code,r.error.message))),l?new Dp(e,r.state,o):(Pr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Fu{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=up();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=Rb(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return o?new Fu(e,l):(Pr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class j_{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new j_(t.clientId,t.onlineState):(Pr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ym{constructor(){this.activeTargetIds=up()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B_{constructor(e,t,r,o,l){this.window=e,this.js=t,this.persistenceKey=r,this.tr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Tr(Ht),this.started=!1,this.ir=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=Aw(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new Ym),this.cr=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.syncEngine.Ri();for(const o of t){if(o===e.tr)continue;const l=e.getItem(Aw(e.persistenceKey,o));if(l){const h=Fu.Ji(o,l);h&&(e.sr=e.sr.insert(h.clientId,h))}}e._r();const r=e.storage.getItem(e.lr);if(r){const o=e.wr(r);o&&e.mr(o)}for(const o of e.ir)e.nr(o);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Zm(this.persistenceKey,e));if(r){const o=Dp.Ji(e,r);o&&(t=o.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Zm(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.pr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Be("SharedClientState","READ",e,t),t}setItem(e,t){Be("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Be("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Be("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void Pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Ae.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const o=t.Rr(r.key);return t.br(o,null)}{const o=t.Pr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.ar.test(r.key)){if(null!==r.newValue){const o=t.vr(r.key,r.newValue);if(o)return t.Vr(o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.Sr(r.key,r.newValue);if(o)return t.Dr(o)}}else if(r.key===t.lr){if(null!==r.newValue){const o=t.wr(r.newValue);if(o)return t.mr(o)}}else if(r.key===t.ur){const o=function(l){let h=Ji.ot;if(null!=l)try{const m=JSON.parse(l);Et("number"==typeof m),h=m}catch(m){Pr("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);o!==Ji.ot&&t.sequenceNumberHandler(o)}else if(r.key===t.dr){const o=t.Cr(r.newValue);yield Promise.all(o.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const o=new Qm(this.currentUser,e,t,r),l=xw(this.persistenceKey,this.currentUser,e);this.setItem(l,o.Yi())}pr(e){const t=xw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const o=Zm(this.persistenceKey,e),l=new Dp(e,t,r);this.setItem(o,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return Fu.Ji(r,t)}vr(e,t){const r=this.ar.exec(e),o=Number(r[1]);return Qm.Ji(new Ei(void 0!==r[2]?r[2]:null),o,t)}Sr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return Dp.Ji(o,t)}wr(e){return j_.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,Ae.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Be("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),o=this.gr(this.sr),l=this.gr(r),h=[],m=[];return l.forEach(E=>{o.has(E)||h.push(E)}),o.forEach(E=>{l.has(E)||m.push(E)}),this.syncEngine.Mr(h,m).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=up();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class $_{constructor(){this.Fr=new Ym,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Ym,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class aD{Br(e){}shutdown(){}}class H_{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const uD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class G_{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class lD extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,o,l){const h=this.oo(e,t);Be("RestConnection","Sending: ",h,r);const m={};return this.uo(m,o,l),this.co(e,h,m,r).then(E=>(Be("RestConnection","Received: ",E),E),E=>{throw lh("RestConnection",`${e} failed with error: `,E,"url: ",h,"request:",r),E})}ao(e,t,r,o,l,h){return this.ro(e,t,r,o,l)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+uh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}oo(e,t){return`${this.so}/v1/${t}:${uD[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,o){return new Promise((l,h)=>{const m=new pE;m.listenOnce(Su.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Rv.NO_ERROR:const S=m.getResponseJson();Be("Connection","XHR received:",JSON.stringify(S)),l(S);break;case Rv.TIMEOUT:Be("Connection",'RPC "'+e+'" timed out'),h(new Le(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case Rv.HTTP_ERROR:const N=m.getStatus();if(Be("Connection",'RPC "'+e+'" failed with status:',N,"response text:",m.getResponseText()),N>0){const U=m.getResponseJson().error;if(U&&U.status&&U.message){const te=function(we){const Ne=we.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(Ne)>=0?Ne:Ee.UNKNOWN}(U.status);h(new Le(te,U.message))}else h(new Le(Ee.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Le(Ee.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Be("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(o);m.send(t,"POST",E,r,15)})}ho(e,t,r){const o=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=fE(),h=bb(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new Xg({})),this.uo(m.initMessageHeaders,t,r),(0,Ut.uI)()||(0,Ut.b$)()||(0,Ut.d)()||(0,Ut.w1)()||(0,Ut.Mn)()||(0,Ut.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const E=o.join("");Be("Connection","Creating WebChannel: "+E,m);const S=l.createWebChannel(E,m);let N=!1,U=!1;const te=new G_({jr:Ne=>{U?Be("Connection","Not sending because WebChannel is closed:",Ne):(N||(Be("Connection","Opening WebChannel transport."),S.open(),N=!0),Be("Connection","WebChannel sending:",Ne),S.send(Ne))},Wr:()=>S.close()}),we=(Ne,Ye,rt)=>{Ne.listen(Ye,en=>{try{rt(en)}catch(yn){setTimeout(()=>{throw yn},0)}})};return we(S,em.EventType.OPEN,()=>{U||Be("Connection","WebChannel transport opened.")}),we(S,em.EventType.CLOSE,()=>{U||(U=!0,Be("Connection","WebChannel transport closed"),te.eo())}),we(S,em.EventType.ERROR,Ne=>{U||(U=!0,lh("Connection","WebChannel transport errored:",Ne),te.eo(new Le(Ee.UNAVAILABLE,"The operation could not be completed")))}),we(S,em.EventType.MESSAGE,Ne=>{var Ye;if(!U){const rt=Ne.data[0];Et(!!rt);const en=rt,yn=en.error||(null===(Ye=en[0])||void 0===Ye?void 0:Ye.error);if(yn){Be("Connection","WebChannel received error:",yn);const Cn=yn.status;let tn=function(Rn){const Ps=rr[Rn];if(void 0!==Ps)return td(Ps)}(Cn),vn=yn.message;void 0===tn&&(tn=Ee.INTERNAL,vn="Unknown error status: "+Cn+" with message "+yn.message),U=!0,te.eo(new Le(tn,vn)),S.close()}else Be("Connection","WebChannel received:",rt),te.no(rt)}}),we(h,Db.STAT_EVENT,Ne=>{Ne.stat===Nv.PROXY?Be("Connection","Detected buffering proxy"):Ne.stat===Nv.NOPROXY&&Be("Connection","Detected no buffering proxy")}),setTimeout(()=>{te.Zr()},0),te}}function q_(){return typeof window<"u"?window:null}function Tp(){return typeof document<"u"?document:null}function Sp(n){return new wm(n,!0)}class z_{constructor(e,t,r=1e3,o=1.5,l=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=o,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),o=Math.max(0,t-r);o>0&&Be("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,o,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Mw{constructor(e,t,r,o,l,h,m,E){this.js=e,this.Ao=r,this.Ro=o,this.bo=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=E,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new z_(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Ae.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,Ae.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return(0,Ae.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===Ee.RESOURCE_EXHAUSTED?(Pr(t.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===Ee.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Po===t&&this.Uo(r,o)},r=>{e(()=>{const o=new Le(Ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(o)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(o=>{r(()=>this.qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}xo(){var e=this;this.state=5,this.So.Io((0,Ae.Z)(function*(){e.state=0,e.start()}))}qo(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class W_ extends Mw{constructor(e,t,r,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.wt=l}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function QE(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:at(),o=e.targetChange.targetIds||[],l=function(E,S){return E.dt?(Et(void 0===S||"string"==typeof S),Fr.fromBase64String(S||"")):(Et(void 0===S||S instanceof Uint8Array),Fr.fromUint8Array(S||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(E){const S=void 0===E.code?Ee.UNKNOWN:td(E.code);return new Le(S,E.message||"")}(h);t=new Im(r,o,l,m||null)}else if("documentChange"in e){const r=e.documentChange,o=No(n,r.document.name),l=Wr(r.document.updateTime),h=new wi({mapValue:{fields:r.document.fields}}),m=Qn.newFoundDocument(o,l,h);t=new cp(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=No(n,r.document),l=r.readTime?Wr(r.readTime):Dt.min(),h=Qn.newNoDocument(o,l);t=new cp([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=No(n,r.document);t=new cp([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return at();{const r=e.filter,l=new _h(r.count||0);t=new s_(r.targetId,l)}}var E;return t}(this.wt,e),r=function(o){if(!("targetChange"in o))return Dt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Dt.min():l.readTime?Wr(l.readTime):Dt.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=wh(this.wt),t.addTarget=function(o,l){let h;const m=l.target;return h=rp(m)?{documents:Dm(o,m)}:{query:Tm(o,m)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=Cm(o,l.resumeToken):l.snapshotVersion.compareTo(Dt.min())>0&&(h.readTime=Nl(o,l.snapshotVersion.toTimestamp())),h}(this.wt,e);const r=function f_(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return at()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Mo(t)}jo(e){const t={};t.database=wh(this.wt),t.removeTarget=e,this.Mo(t)}}class cD extends Mw{constructor(e,t,r,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.wt=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function h_(n,e){return n&&n.length>0?(Et(void 0!==e),n.map(t=>function(r,o){let l=Wr(r.updateTime?r.updateTime:o);return l.isEqual(Dt.min())&&(l=Wr(o)),new mm(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Wr(e.commitTime);return this.listener.Jo(r,t)}return Et(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=wh(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>sd(this.wt,r))};this.Mo(t)}}class Rw extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=o,this.Zo=!1}tu(){if(this.Zo)throw new Le(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.bo.ro(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(Ee.UNKNOWN,o.toString())})}ao(e,t,r,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.bo.ao(e,t,r,l,h,o)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Le(Ee.UNKNOWN,l.toString())})}terminate(){this.Zo=!0}}class dD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Pr(t),this.su=!1):Be("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class hD{constructor(e,t,r,o,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(m=>{r.enqueueAndForget((0,Ae.Z)(function*(){var E;Wa(h)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,Ae.Z)(function*(S){const N=nt(S);N.lu.add(4),yield Oh(N),N._u.set("Unknown"),N.lu.delete(4),yield Ap(N)}),function(S){return E.apply(this,arguments)})(h))}))}),this._u=new dD(r,o)}}function Ap(n){return K_.apply(this,arguments)}function K_(){return K_=(0,Ae.Z)(function*(n){if(Wa(n))for(const e of n.fu)yield e(!0)}),K_.apply(this,arguments)}function Oh(n){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,Ae.Z)(function*(n){for(const e of n.fu)yield e(!1)}),Z_.apply(this,arguments)}function Jm(n,e){const t=nt(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),ty(t)?ey(t):fd(t).Co()&&Mp(t,e))}function xp(n,e){const t=nt(n),r=fd(t);t.hu.delete(e),r.Co()&&Xm(t,e),0===t.hu.size&&(r.Co()?r.ko():Wa(t)&&t._u.set("Unknown"))}function Mp(n,e){n.wu.Nt(e.targetId),fd(n).Qo(e)}function Xm(n,e){n.wu.Nt(e),fd(n).jo(e)}function ey(n){n.wu=new Bb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),fd(n).start(),n._u.iu()}function ty(n){return Wa(n)&&!fd(n).Do()&&n.hu.size>0}function Wa(n){return 0===nt(n).lu.size}function Q_(n){n.wu=void 0}function Nw(n){return Y_.apply(this,arguments)}function Y_(){return Y_=(0,Ae.Z)(function*(n){n.hu.forEach((e,t)=>{Mp(n,e)})}),Y_.apply(this,arguments)}function J_(n,e){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,Ae.Z)(function*(n,e){Q_(n),ty(n)?(n._u.uu(e),ey(n)):n._u.set("Unknown")}),Rp.apply(this,arguments)}function Ow(n,e,t){return Np.apply(this,arguments)}function Np(){return Np=(0,Ae.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof Im&&2===e.state&&e.cause)try{yield(r=(0,Ae.Z)(function*(o,l){const h=l.cause;for(const m of l.targetIds)o.hu.has(m)&&(yield o.remoteSyncer.rejectListen(m,h),o.hu.delete(m),o.wu.removeTarget(m))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ny(n,r)}else if(e instanceof cp?n.wu.Ut(e):e instanceof s_?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(Dt.min()))try{const r=yield Dw(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const h=o.wu.Yt(l);return h.targetChanges.forEach((m,E)=>{if(m.resumeToken.approximateByteSize()>0){const S=o.hu.get(E);S&&o.hu.set(E,S.withResumeToken(m.resumeToken,l))}}),h.targetMismatches.forEach(m=>{const E=o.hu.get(m);if(!E)return;o.hu.set(m,E.withResumeToken(Fr.EMPTY_BYTE_STRING,E.snapshotVersion)),Xm(o,m);const S=new Ol(E.target,m,1,E.sequenceNumber);Mp(o,S)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Be("RemoteStore","Failed to raise snapshot:",r),yield ny(n,r)}var r}),Np.apply(this,arguments)}function ny(n,e,t){return X_.apply(this,arguments)}function X_(){return X_=(0,Ae.Z)(function*(n,e,t){if(!jc(e))throw e;n.lu.add(1),yield Oh(n),n._u.set("Offline"),t||(t=()=>Dw(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Ap(n)}))}),X_.apply(this,arguments)}function ry(n,e){return e().catch(t=>ny(n,t,e))}function Ph(n){return iy.apply(this,arguments)}function iy(){return iy=(0,Ae.Z)(function*(n){const e=nt(n),t=$l(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;kh(e);)try{const o=yield qT(e.localStore,r);if(null===o){0===e.au.length&&t.ko();break}r=o.batchId,Pw(e,o)}catch(o){yield ny(e,o)}e0(e)&&kw(e)}),iy.apply(this,arguments)}function kh(n){return Wa(n)&&n.au.length<10}function Pw(n,e){n.au.push(e);const t=$l(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function e0(n){return Wa(n)&&!$l(n).Do()&&n.au.length>0}function kw(n){$l(n).start()}function t0(n){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,Ae.Z)(function*(n){$l(n).Xo()}),Fh.apply(this,arguments)}function fD(n){return Op.apply(this,arguments)}function Op(){return Op=(0,Ae.Z)(function*(n){const e=$l(n);for(const t of n.au)e.Ho(t.mutations)}),Op.apply(this,arguments)}function pD(n,e,t){return sy.apply(this,arguments)}function sy(){return sy=(0,Ae.Z)(function*(n,e,t){const r=n.au.shift(),o=E_.from(r,e,t);yield ry(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Ph(n)}),sy.apply(this,arguments)}function n0(n,e){return oy.apply(this,arguments)}function oy(){return oy=(0,Ae.Z)(function*(n,e){var t;e&&$l(n).zo&&(yield(t=(0,Ae.Z)(function*(r,o){if(ed(l=o.code)&&l!==Ee.ABORTED){const h=r.au.shift();$l(r).No(),yield ry(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield Ph(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),e0(n)&&kw(n)}),oy.apply(this,arguments)}function r0(n,e){return ay.apply(this,arguments)}function ay(){return ay=(0,Ae.Z)(function*(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const r=Wa(t);t.lu.add(3),yield Oh(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Ap(t)}),ay.apply(this,arguments)}function uy(n,e){return s0.apply(this,arguments)}function s0(){return s0=(0,Ae.Z)(function*(n,e){const t=nt(n);e?(t.lu.delete(2),yield Ap(t)):e||(t.lu.add(2),yield Oh(t),t._u.set("Unknown"))}),s0.apply(this,arguments)}function fd(n){return n.mu||(n.mu=function(e,t,r){const o=nt(e);return o.tu(),new W_(t,o.bo,o.authCredentials,o.appCheckCredentials,o.wt,r)}(n.datastore,n.asyncQueue,{zr:Nw.bind(null,n),Jr:J_.bind(null,n),Go:Ow.bind(null,n)}),n.fu.push(function(){var e=(0,Ae.Z)(function*(t){t?(n.mu.No(),ty(n)?ey(n):n._u.set("Unknown")):(yield n.mu.stop(),Q_(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function $l(n){return n.gu||(n.gu=function(e,t,r){const o=nt(e);return o.tu(),new cD(t,o.bo,o.authCredentials,o.appCheckCredentials,o.wt,r)}(n.datastore,n.asyncQueue,{zr:t0.bind(null,n),Jr:n0.bind(null,n),Yo:fD.bind(null,n),Jo:pD.bind(null,n)}),n.fu.push(function(){var e=(0,Ae.Z)(function*(t){t?(n.gu.No(),yield Ph(n)):(yield n.gu.stop(),n.au.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class o0{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,l){const h=Date.now()+r,m=new o0(e,t,h,o,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hl(n,e){if(Pr("AsyncQueue",`${e}: ${n}`),jc(n))return new Le(Ee.UNAVAILABLE,`${e}: ${n}`);throw n}class Pp{constructor(e){this.comparator=e?(t,r)=>e(t,r)||et.comparator(t.key,r.key):(t,r)=>et.comparator(t.key,r.key),this.keyedMap=nd(),this.sortedSet=new Tr(this.comparator)}static emptySet(e){return new Pp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Pp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class a0{constructor(){this.yu=new Tr(et.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):at():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Lh{constructor(e,t,r,o,l,h,m,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,r,o){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new Lh(e,t,Pp.emptySet(t),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class gD{constructor(){this.Iu=void 0,this.listeners=[]}}class zT{constructor(){this.queries=new io(e=>Jv(e),Qc),this.onlineState="Unknown",this.Tu=new Set}}function Fw(n,e){return u0.apply(this,arguments)}function u0(){return u0=(0,Ae.Z)(function*(n,e){const t=nt(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new gD),o)try{l.Iu=yield t.onListen(r)}catch(h){const m=Hl(h,`Initialization of query '${Xv(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&dy(t)}),u0.apply(this,arguments)}function ly(n,e){return cy.apply(this,arguments)}function cy(){return cy=(0,Ae.Z)(function*(n,e){const t=nt(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),cy.apply(this,arguments)}function Lw(n,e){const t=nt(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const m of h.listeners)m.Au(o)&&(r=!0);h.Iu=o}}r&&dy(t)}function Vw(n,e,t){const r=nt(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function dy(n){n.Tu.forEach(e=>{e.next()})}class hy{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Lh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Lh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class Uw{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class l0{constructor(e){this.wt=e}Wi(e){return No(this.wt,e)}zi(e){return e.metadata.exists?KE(this.wt,e.document,!1):Qn.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return Wr(e)}}class jw{constructor(e,t,r){this.xu=e,this.localStore=t,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=c0(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=mn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new l0(this.wt);for(const o of e)if(o.metadata.queries){const l=r.Wi(o.metadata.name);for(const h of o.metadata.queries){const m=(t.get(h)||jt()).add(l);t.set(h,m)}}return t}complete(){var e=this;return(0,Ae.Z)(function*(){const t=yield function bp(n,e,t,r){return V_.apply(this,arguments)}(e.localStore,new l0(e.wt),e.documents,e.xu.id),r=e.ku(e.documents);for(const o of e.queries)yield oD(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function c0(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class d0{constructor(e){this.key=e}}class Vh{constructor(e){this.key=e}}class h0{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=jt(),this.mutatedKeys=jt(),this.Lu=kE(e),this.Uu=new Pp(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new a0,o=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const E="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,S="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((N,U)=>{const te=o.get(N),we=e_(this.query,U)?U:null,Ne=!!te&&this.mutatedKeys.has(te.key),Ye=!!we&&(we.hasLocalMutations||this.mutatedKeys.has(we.key)&&we.hasCommittedMutations);let rt=!1;te&&we?te.data.isEqual(we.data)?Ne!==Ye&&(r.track({type:3,doc:we}),rt=!0):this.Qu(te,we)||(r.track({type:2,doc:we}),rt=!0,(E&&this.Lu(we,E)>0||S&&this.Lu(we,S)<0)&&(m=!0)):!te&&we?(r.track({type:0,doc:we}),rt=!0):te&&!we&&(r.track({type:1,doc:te}),rt=!0,(E||S)&&(m=!0)),rt&&(we?(h=h.add(we),l=Ye?l.add(N):l.delete(N)):(h=h.delete(N),l=l.delete(N)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const N="F"===this.query.limitType?h.last():h.first();h=h.delete(N.key),l=l.delete(N.key),r.track({type:1,doc:N})}return{Uu:h,Gu:r,Oi:m,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Gu.pu();l.sort((S,N)=>function(U,te){const we=Ne=>{switch(Ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return we(U)-we(te)}(S.type,N.type)||this.Lu(S.doc,N.doc)),this.ju(r);const h=t?this.Wu():[],m=0===this.Bu.size&&this.current?1:0,E=m!==this.$u;return this.$u=m,0!==l.length||E?{snapshot:new Lh(this.query,e.Uu,o,l,e.mutatedKeys,0===m,E,!1),zu:h}:{zu:h}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new a0,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=jt(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new Vh(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new d0(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=jt();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Lh.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class Bw{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class $w{constructor(e){this.key=e,this.Xu=!1}}class Hw{constructor(e,t,r,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Zu={},this.tc=new io(m=>Jv(m),Qc),this.ec=new Map,this.nc=new Set,this.sc=new Tr(et.comparator),this.ic=new Map,this.rc=new zm,this.oc={},this.uc=new Map,this.cc=ld.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function Gw(n,e){return fy.apply(this,arguments)}function fy(){return fy=(0,Ae.Z)(function*(n,e){const t=Iy(n);let r,o;const l=t.tc.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.Yu();else{const h=yield wp(t.localStore,Pi(e));t.isPrimaryClient&&Jm(t.remoteStore,h);const m=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield f0(t,e,r,"current"===m)}return o}),fy.apply(this,arguments)}function f0(n,e,t,r){return qw.apply(this,arguments)}function qw(){return qw=(0,Ae.Z)(function*(n,e,t,r){n.hc=(N,U,te)=>{return(we=(0,Ae.Z)(function*(Ne,Ye,rt,en){let yn=Ye.view.Ku(rt);yn.Oi&&(yn=yield hd(Ne.localStore,Ye.query,!1).then(({documents:vn})=>Ye.view.Ku(vn,yn)));const Cn=en&&en.targetChanges.get(Ye.targetId),tn=Ye.view.applyChanges(yn,Ne.isPrimaryClient,Cn);return my(Ne,Ye.targetId,tn.zu),tn.snapshot}),function(Ne,Ye,rt,en){return we.apply(this,arguments)})(n,N,U,te);var we};const o=yield hd(n.localStore,e,!0),l=new h0(e,o.ji),h=l.Ku(o.documents),m=Eh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),E=l.applyChanges(h,n.isPrimaryClient,m);my(n,t,E.zu);const S=new Bw(e,t,l);return n.tc.set(e,S),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),E.snapshot}),qw.apply(this,arguments)}function zw(n,e){return py.apply(this,arguments)}function py(){return py=(0,Ae.Z)(function*(n,e){const t=nt(n),r=t.tc.get(e),o=t.ec.get(r.targetId);if(o.length>1)return t.ec.set(r.targetId,o.filter(l=>!Qc(l,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Cp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),xp(t.remoteStore,r.targetId),$h(t,r.targetId)}).catch(Uc))):($h(t,r.targetId),yield Cp(t.localStore,r.targetId,!0))}),py.apply(this,arguments)}function gy(){return gy=(0,Ae.Z)(function*(n,e,t){const r=T0(n);try{const o=yield function(l,h){const m=nt(l),E=Kn.now(),S=h.reduce((te,we)=>te.add(we.key),jt());let N,U;return m.persistence.runTransaction("Locally write mutations","readwrite",te=>{let we=li(),Ne=jt();return m.Ui.getEntries(te,S).next(Ye=>{we=Ye,we.forEach((rt,en)=>{en.isValidDocument()||(Ne=Ne.add(rt))})}).next(()=>m.localDocuments.getOverlayedDocuments(te,we)).next(Ye=>{N=Ye;const rt=[];for(const en of h){const yn=qE(en,N.get(en.key).overlayedDocument);null!=yn&&rt.push(new cr(en.key,yn,Kv(yn.value.mapValue),Mn.exists(!0)))}return m.mutationQueue.addMutationBatch(te,E,rt,h)}).next(Ye=>{U=Ye;const rt=Ye.applyToLocalDocumentSet(N,Ne);return m.documentOverlayCache.saveOverlays(te,Ye.batchId,rt)})}).then(()=>({batchId:U.batchId,changes:vm(N)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,h,m){let E=l.oc[l.currentUser.toKey()];E||(E=new Tr(Ht)),E=E.insert(h,m),l.oc[l.currentUser.toKey()]=E}(r,o.batchId,t),yield Ka(r,o.changes),yield Ph(r.remoteStore)}catch(o){const l=Hl(o,"Failed to persist write");t.reject(l)}}),gy.apply(this,arguments)}function p0(n,e){return pd.apply(this,arguments)}function pd(){return pd=(0,Ae.Z)(function*(n,e){const t=nt(n);try{const r=yield iD(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.ic.get(l);h&&(Et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Xu=!0:o.modifiedDocuments.size>0?Et(h.Xu):o.removedDocuments.size>0&&(Et(h.Xu),h.Xu=!1))}),yield Ka(t,r,e)}catch(r){yield Uc(r)}}),pd.apply(this,arguments)}function Kw(n,e,t){const r=nt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.tc.forEach((l,h)=>{const m=h.view.Eu(e);m.snapshot&&o.push(m.snapshot)}),function(l,h){const m=nt(l);m.onlineState=h;let E=!1;m.queries.forEach((S,N)=>{for(const U of N.listeners)U.Eu(h)&&(E=!0)}),E&&dy(m)}(r.eventManager,e),o.length&&r.Zu.Go(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function g0(n,e,t){return Po.apply(this,arguments)}function Po(){return Po=(0,Ae.Z)(function*(n,e,t){const r=nt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ic.get(e),l=o&&o.key;if(l){let h=new Tr(et.comparator);h=h.insert(l,Qn.newNoDocument(l,Dt.min()));const m=jt().add(l),E=new lp(Dt.min(),new Map,new xn(Ht),h,m);yield p0(r,E),r.sc=r.sc.remove(l),r.ic.delete(e),Fp(r)}else yield Cp(r.localStore,e,!1).then(()=>$h(r,e,t)).catch(Uc)}),Po.apply(this,arguments)}function mD(n,e){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,Ae.Z)(function*(n,e){const t=nt(n),r=e.batch.batchId;try{const o=yield bw(t.localStore,e);Bh(t,r,null),jh(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ka(t,o)}catch(o){yield Uc(o)}}),Uh.apply(this,arguments)}function kp(n,e,t){return m0.apply(this,arguments)}function m0(){return m0=(0,Ae.Z)(function*(n,e,t){const r=nt(n);try{const o=yield function(l,h){const m=nt(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let S;return m.mutationQueue.lookupMutationBatch(E,h).next(N=>(Et(null!==N),S=N.keys(),m.mutationQueue.removeMutationBatch(E,N))).next(()=>m.mutationQueue.performConsistencyCheck(E)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(E,S,h)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,S)).next(()=>m.localDocuments.getDocuments(E,S))})}(r.localStore,e);Bh(r,e,t),jh(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ka(r,o)}catch(o){yield Uc(o)}}),m0.apply(this,arguments)}function y0(){return y0=(0,Ae.Z)(function*(n,e){const t=nt(n);Wa(t.remoteStore)||Be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=nt(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.uc.get(r)||[];o.push(e),t.uc.set(r,o)}catch(r){const o=Hl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),y0.apply(this,arguments)}function jh(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function Bh(n,e,t){const r=nt(n);let o=r.oc[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.oc[r.currentUser.toKey()]=o}}function $h(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||Zw(n,r)})}function Zw(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(xp(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),Fp(n))}function my(n,e,t){for(const r of t)r instanceof d0?(n.rc.addReference(r.key,e),Qw(n,r)):r instanceof Vh?(Be("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||Zw(n,r.key)):at()}function Qw(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(Be("SyncEngine","New document in limbo: "+t),n.nc.add(r),Fp(n))}function Fp(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new et(mn.fromString(e)),r=n.cc.next();n.ic.set(r,new $w(t)),n.sc=n.sc.insert(t,r),Jm(n.remoteStore,new Ol(Pi(Zc(t.path)),r,2,Ji.ot))}}function Ka(n,e,t){return v0.apply(this,arguments)}function v0(){return v0=(0,Ae.Z)(function*(n,e,t){const r=nt(n),o=[],l=[],h=[];var m;r.tc.isEmpty()||(r.tc.forEach((m,E)=>{h.push(r.hc(E,e,t).then(S=>{if(S){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,S.fromCache?"not-current":"current"),o.push(S);const N=O_.Vi(E.targetId,S);l.push(N)}}))}),yield Promise.all(h),r.Zu.Go(o),yield(m=(0,Ae.Z)(function*(E,S){const N=nt(E);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",U=>ve.forEach(S,te=>ve.forEach(te.Pi,we=>N.persistence.referenceDelegate.addReference(U,te.targetId,we)).next(()=>ve.forEach(te.vi,we=>N.persistence.referenceDelegate.removeReference(U,te.targetId,we)))))}catch(U){if(!jc(U))throw U;Be("LocalStore","Failed to update sequence numbers: "+U)}for(const U of S){const te=U.targetId;if(!U.fromCache){const we=N.$i.get(te),Ye=we.withLastLimboFreeSnapshotVersion(we.snapshotVersion);N.$i=N.$i.insert(te,Ye)}}}),function(E,S){return m.apply(this,arguments)})(r.localStore,l))}),v0.apply(this,arguments)}function vD(n,e){return Yw.apply(this,arguments)}function Yw(){return Yw=(0,Ae.Z)(function*(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const r=yield k_(t.localStore,e);t.currentUser=e,(o=t).uc.forEach(h=>{h.forEach(m=>{m.reject(new Le(Ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ka(t,r.Ki)}var o}),Yw.apply(this,arguments)}function _0(n,e){const t=nt(n),r=t.ic.get(e);if(r&&r.Xu)return jt().add(r.key);{let o=jt();const l=t.ec.get(e);if(!l)return o;for(const h of l){const m=t.tc.get(h);o=o.unionWith(m.view.qu)}return o}}function I0(n,e){return yy.apply(this,arguments)}function yy(){return yy=(0,Ae.Z)(function*(n,e){const t=nt(n),r=yield hd(t.localStore,e.query,!0),o=e.view.Ju(r);return t.isPrimaryClient&&my(t,e.targetId,o.zu),o}),yy.apply(this,arguments)}function E0(n,e){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,Ae.Z)(function*(n,e){const t=nt(n);return Sw(t.localStore,e).then(r=>Ka(t,r))}),Lp.apply(this,arguments)}function _D(n,e,t,r){return w0.apply(this,arguments)}function w0(){return w0=(0,Ae.Z)(function*(n,e,t,r){const o=nt(n),l=yield function(h,m){const E=nt(h),S=nt(E.mutationQueue);return E.persistence.runTransaction("Lookup mutation documents","readonly",N=>S.yn(N,m).next(U=>U?E.localDocuments.getDocuments(N,U):ve.resolve(null)))}(o.localStore,e);var m;null!==l?("pending"===t?yield Ph(o.remoteStore):"acknowledged"===t||"rejected"===t?(Bh(o,e,r||null),jh(o,e),m=e,nt(nt(o.localStore).mutationQueue).In(m)):at(),yield Ka(o,l)):Be("SyncEngine","Cannot apply mutation batch with id: "+e)}),w0.apply(this,arguments)}function C0(){return C0=(0,Ae.Z)(function*(n,e){const t=nt(n);if(Iy(t),T0(t),!0===e&&!0!==t.ac){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield b0(t,r.toArray());t.ac=!0,yield uy(t.remoteStore,!0);for(const l of o)Jm(t.remoteStore,l)}else if(!1===e&&!1!==t.ac){const r=[];let o=Promise.resolve();t.ec.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>($h(t,h),Cp(t.localStore,h,!0))),xp(t.remoteStore,h)}),yield o,yield b0(t,r),function(l){const h=nt(l);h.ic.forEach((m,E)=>{xp(h.remoteStore,E)}),h.rc.cs(),h.ic=new Map,h.sc=new Tr(et.comparator)}(t),t.ac=!1,yield uy(t.remoteStore,!1)}}),C0.apply(this,arguments)}function b0(n,e,t){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,Ae.Z)(function*(n,e,t){const r=nt(n),o=[],l=[];for(const h of e){let m;const E=r.ec.get(h);if(E&&0!==E.length){m=yield wp(r.localStore,Pi(E[0]));for(const S of E){const N=r.tc.get(S),U=yield I0(r,N);U.snapshot&&l.push(U.snapshot)}}else{const S=yield Tw(r.localStore,h);m=yield wp(r.localStore,S),yield f0(r,D0(S),h,!1)}o.push(m)}return r.Zu.Go(l),o}),Vp.apply(this,arguments)}function D0(n){return Yv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Jw(n){const e=nt(n);return nt(nt(e.localStore).persistence).Ri()}function Xw(n,e,t,r){return vy.apply(this,arguments)}function vy(){return vy=(0,Ae.Z)(function*(n,e,t,r){const o=nt(n);if(o.ac)return void Be("SyncEngine","Ignoring unexpected query state notification.");const l=o.ec.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const h=yield Sw(o.localStore,Yc(l[0])),m=lp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Ka(o,h,m);break}case"rejected":yield Cp(o.localStore,e,!0),$h(o,e,r);break;default:at()}}),vy.apply(this,arguments)}function ED(n,e,t){return _y.apply(this,arguments)}function _y(){return _y=(0,Ae.Z)(function*(n,e,t){const r=Iy(n);if(r.ac){for(const o of e){if(r.ec.has(o)){Be("SyncEngine","Adding an already active target "+o);continue}const l=yield Tw(r.localStore,o),h=yield wp(r.localStore,l);yield f0(r,D0(l),h.targetId,!1),Jm(r.remoteStore,h)}for(const o of t)r.ec.has(o)&&(yield Cp(r.localStore,o,!1).then(()=>{xp(r.remoteStore,o),$h(r,o)}).catch(Uc))}}),_y.apply(this,arguments)}function Iy(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=p0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g0.bind(null,e),e.Zu.Go=Lw.bind(null,e.eventManager),e.Zu.lc=Vw.bind(null,e.eventManager),e}function T0(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kp.bind(null,e),e}class S0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ae.Z)(function*(){t.wt=Sp(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return P_(this.persistence,new ww,e.initialUser,this.wt)}_c(e){return new Iw(dd.Ms,this.wt)}dc(e){return new $_}terminate(){var e=this;return(0,Ae.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ns extends S0{constructor(e,t,r){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ae.Z)(function*(){yield t().call(r,e),yield r.yc.initialize(r,e),yield T0(r.yc.syncEngine),yield Ph(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return P_(this.persistence,new ww,e.initialUser,this.wt)}mc(e,t){return new Yb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const r=new EE(t,this.persistence);return new jv(e.asyncQueue,r)}_c(e){const t=N_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ts.withCacheSize(this.cacheSizeBytes):ts.DEFAULT;return new R_(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,q_(),Tp(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new $_}}class Hh extends ns{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ae.Z)(function*(){yield t().call(r,e);const o=r.yc.syncEngine;r.sharedClientState instanceof B_&&(r.sharedClientState.syncEngine={kr:_D.bind(null,o),Or:Xw.bind(null,o),Mr:ED.bind(null,o),Ri:Jw.bind(null,o),Nr:E0.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var l=(0,Ae.Z)(function*(h){yield function ID(n,e){return C0.apply(this,arguments)}(r.yc.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start():h||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(h&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():h||r.indexBackfillerScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}dc(e){const t=q_();if(!B_.V(t))throw new Le(Ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=N_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new B_(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class A0{initialize(e,t){var r=this;return(0,Ae.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>Kw(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=vD.bind(null,r.syncEngine),yield uy(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new zT}createDatastore(e){const t=Sp(e.databaseInfo.databaseId),r=new lD(e.databaseInfo);return new Rw(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=m=>Kw(this.syncEngine,m,0),h=H_.V()?new H_:new aD,new hD(t,r,o,l,h);var t,r,o,l,h}createSyncEngine(e,t){return function(r,o,l,h,m,E,S){const N=new Hw(r,o,l,h,m,E);return S&&(N.ac=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ae.Z)(function*(t){const r=nt(t);Be("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Oh(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function tC(n,e=10240){let t=0;return{read:()=>(0,Ae.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ae.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Ey{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class WT{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new ai,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,Ae.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,Ae.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.bc();if(null===t)return null;const r=e.Ac.decode(t),o=Number(r);isNaN(o)&&e.Pc(`length string (${r}) is not valid number`);const l=yield e.vc(o);return new Uw(JSON.parse(l),t.length+o)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,Ae.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,Ae.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const r=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class nC{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ae.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Le(Ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Ae.Z)(function*(l,h){const m=nt(l),E=wh(m.wt)+"/documents",S={documents:h.map(we=>id(m.wt,we))},N=yield m.ao("BatchGetDocuments",E,S,h.length),U=new Map;N.forEach(we=>{const Ne=function ZE(n,e){return"found"in e?function(t,r){Et(!!r.found);const o=No(t,r.found.name),l=Wr(r.found.updateTime),h=new wi({mapValue:{fields:r.found.fields}});return Qn.newFoundDocument(o,l,h)}(n,e):"missing"in e?function(t,r){Et(!!r.missing),Et(!!r.readTime);const o=No(t,r.missing),l=Wr(r.readTime);return Qn.newNoDocument(o,l)}(n,e):at()}(m.wt,we);U.set(Ne.key.toString(),Ne)});const te=[];return h.forEach(we=>{const Ne=U.get(we.toString());Et(!!Ne),te.push(Ne)}),te}),function(l,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ml(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ae.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=et.fromPath(o);e.mutations.push(new Rl(l,e.precondition(l)))}),yield(r=(0,Ae.Z)(function*(o,l){const h=nt(o),m=wh(h.wt)+"/documents",E={writes:l.map(S=>sd(h.wt,S))};yield h.ro("Commit",m,E)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw at();t=Dt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Le(Ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Mn.updateTime(t):Mn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dt.min()))throw new Le(Ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mn.updateTime(t)}return Mn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class rC{constructor(e,t,r,o,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=l,this.Dc=r.maxAttempts,this.So=new z_(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,Ae.Z)(function*(){const t=new nC(e.datastore),r=e.xc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.Nc(l)}))}).catch(o=>{e.Nc(o)})}))}xc(e){try{const t=this.updateFunction(e);return!Hc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!ed(t)}return!1}}class Up{constructor(e,t,r,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Ei.UNAUTHENTICATED,this.clientId=Fv.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,Ae.Z)(function*(m){Be("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,h=>(Be("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,Ae.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Hl(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function iC(n,e){return jp.apply(this,arguments)}function jp(){return jp=(0,Ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Ae.Z)(function*(l){r.isEqual(l)||(yield k_(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),jp.apply(this,arguments)}function x0(n,e){return wy.apply(this,arguments)}function wy(){return wy=(0,Ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Cy(n);Be("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>r0(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,l)=>r0(e.remoteStore,l)),n.onlineComponents=e}),wy.apply(this,arguments)}function Cy(n){return by.apply(this,arguments)}function by(){return by=(0,Ae.Z)(function*(n){return n.offlineComponents||(Be("FirestoreClient","Using default OfflineComponentProvider"),yield iC(n,new S0)),n.offlineComponents}),by.apply(this,arguments)}function Lu(n){return M0.apply(this,arguments)}function M0(){return M0=(0,Ae.Z)(function*(n){return n.onlineComponents||(Be("FirestoreClient","Using default OnlineComponentProvider"),yield x0(n,new A0)),n.onlineComponents}),M0.apply(this,arguments)}function Dy(n){return Cy(n).then(e=>e.persistence)}function Ty(n){return Cy(n).then(e=>e.localStore)}function R0(n){return Lu(n).then(e=>e.remoteStore)}function Gh(n){return Lu(n).then(e=>e.syncEngine)}function Gl(n){return N0.apply(this,arguments)}function N0(){return N0=(0,Ae.Z)(function*(n){const e=yield Lu(n),t=e.eventManager;return t.onListen=Gw.bind(null,e.syncEngine),t.onUnlisten=zw.bind(null,e.syncEngine),t}),N0.apply(this,arguments)}function ql(n,e,t={}){const r=new ai;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(o,l,h,m,E){const S=new Ey({next:U=>{l.enqueueAndForget(()=>ly(o,N));const te=U.docs.has(h);!te&&U.fromCache?E.reject(new Le(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):te&&U.fromCache&&m&&"server"===m.source?E.reject(new Le(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(U)},error:U=>E.reject(U)}),N=new hy(Zc(h.path),S,{includeMetadataChanges:!0,Du:!0});return Fw(o,N)}(yield Gl(n),n.asyncQueue,e,t,r)})),r.promise}function P0(n,e,t={}){const r=new ai;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(o,l,h,m,E){const S=new Ey({next:U=>{l.enqueueAndForget(()=>ly(o,N)),U.fromCache&&"server"===m.source?E.reject(new Le(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(U)},error:U=>E.reject(U)}),N=new hy(h,S,{includeMetadataChanges:!0,Du:!0});return Fw(o,N)}(yield Gl(n),n.asyncQueue,e,t,r)})),r.promise}const aC=new Map;function F0(n,e,t){if(!t)throw new Le(Ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Sy(n,e,t,r){if(!0===e&&!0===r)throw new Le(Ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function L0(n){if(!et.isDocumentKey(n))throw new Le(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function V0(n){if(et.isDocumentKey(n))throw new Le(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ay(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":at()}function nn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Le(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ay(n);throw new Le(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function U0(n,e){if(e<=0)throw new Le(Ee.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class uC{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Le(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Le(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Sy("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bp{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uC({}),this._settingsFrozen=!1,e instanceof Ba?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Le(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ba(o.options.projectId)}(e))}get app(){if(!this._app)throw new Le(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Le(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uC(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new sa;switch(t.type){case"gapi":const r=t.client;return Et(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Au(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Le(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=aC.get(e);t&&(Be("ComponentProvider","Removing Datastore"),aC.delete(e),t.terminate())}(this),Promise.resolve()}}class ir{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ir(this.firestore,e,this._key)}}class ki{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ki(this.firestore,e,this._query)}}class pa extends ki{constructor(e,t,r){super(e,t,Zc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ir(this.firestore,null,new et(e))}withConverter(e){return new pa(this.firestore,e,this._path)}}function j0(n,e,...t){if(n=(0,Ut.m9)(n),F0("collection","path",e),n instanceof Bp){const r=mn.fromString(e,...t);return V0(r),new pa(n,null,r)}{if(!(n instanceof ir||n instanceof pa))throw new Le(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mn.fromString(e,...t));return V0(r),new pa(n.firestore,null,r)}}function xy(n,e,...t){if(n=(0,Ut.m9)(n),1===arguments.length&&(e=Fv.I()),F0("doc","path",e),n instanceof Bp){const r=mn.fromString(e,...t);return L0(r),new ir(n,null,new et(r))}{if(!(n instanceof ir||n instanceof pa))throw new Le(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mn.fromString(e,...t));return L0(r),new ir(n.firestore,n instanceof pa?n.converter:null,new et(r))}}function dC(n,e){return n=(0,Ut.m9)(n),e=(0,Ut.m9)(e),(n instanceof ir||n instanceof pa)&&(e instanceof ir||e instanceof pa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function B0(n,e){return n=(0,Ut.m9)(n),e=(0,Ut.m9)(e),n instanceof ki&&e instanceof ki&&n.firestore===e.firestore&&Qc(n._query,e._query)&&n.converter===e.converter}class hC{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new z_(this,"async_queue_retry"),this.Kc=()=>{const t=Tp();t&&Be("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=Tp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=Tp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new ai;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,Ae.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!jc(t))throw t;Be("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,Pr("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Oc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const o=o0.createAndSchedule(this,e,t,r,l=>this.Wc(l));return this.$c.push(o),o}Gc(){this.Bc&&at()}verifyOperationInProgress(){}zc(){var e=this;return(0,Ae.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function My(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class DD{constructor(){this._progressObserver={},this._taskCompletionResolver=new ai,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class dr extends Bp{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new hC,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||fC(this),this._firestoreClient.terminate()}}function Qr(n){return n._firestoreClient||fC(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function fC(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Hv(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new Up(n._authCredentials,n._appCheckCredentials,n._queue,r)}function $0(n,e,t){const r=new ai;return n.asyncQueue.enqueue((0,Ae.Z)(function*(){try{yield iC(n,t),yield x0(n,e),r.resolve()}catch(o){const l=o;if(!("FirebaseError"===(h=l).name?h.code===Ee.FAILED_PRECONDITION||h.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),r.reject(l)}var h})).then(()=>r.promise)}function H0(n){if(n._initialized||n._terminated)throw new Le(Ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Vu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Le(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Za{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Za(Fr.fromBase64String(e))}catch(t){throw new Le(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Za(Fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class gd{constructor(e){this._methodName=e}}class md{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Le(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Le(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const xD=/^__.*__$/;class MD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new cr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ga(e,this.data,t,this.fieldTransforms)}}class vC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new cr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ga(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class $p{constructor(e,t,r,o,l,h){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=o,void 0===l&&this.Xc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new $p(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ta({path:r,na:!1});return o.sa(e),o}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ta({path:r,na:!1});return o.Xc(),o}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Wp(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(ga(this.Zc)&&xD.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class RD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||Sp(e)}aa(e,t,r,o=!1){return new $p({Zc:e,methodName:t,ca:r,path:kr.emptyPath(),na:!1,ua:o},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function zl(n){const e=n._freezeSettings(),t=Sp(n._databaseId);return new RD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Oy(n,e,t,r,o,l={}){const h=n.aa(l.merge||l.mergeFields?2:0,e,t,o);z0("Data must be an object, but it was:",h,r);const m=ky(r,h);let E,S;if(l.merge)E=new Xi(h.fieldMask),S=h.fieldTransforms;else if(l.mergeFields){const N=[];for(const U of l.mergeFields){const te=qp(e,U,t);if(!h.contains(te))throw new Le(Ee.INVALID_ARGUMENT,`Field '${te}' is specified in your field mask but missing from your input data.`);W0(N,te)||N.push(te)}E=new Xi(N),S=h.fieldTransforms.filter(U=>E.covers(U.field))}else E=null,S=h.fieldTransforms;return new MD(new wi(m),E,S)}class Hp extends gd{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hp}}function G0(n,e,t){return new $p({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class Py extends gd{_toFieldTransform(e){return new op(e.path,new Jc)}isEqual(e){return e instanceof Py}}class ND extends gd{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=G0(this,e,!0),r=this.ha.map(l=>yd(l,t)),o=new Nu(r);return new op(e.path,o)}isEqual(e){return this===e}}class ko extends gd{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=G0(this,e,!0),r=this.ha.map(l=>yd(l,t)),o=new Ou(r);return new op(e.path,o)}isEqual(e){return this===e}}class OD extends gd{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new vh(e.wt,FE(e.wt,this.la));return new op(e.path,t)}isEqual(e){return this===e}}function Gp(n,e,t,r){const o=n.aa(1,e,t);z0("Data must be an object, but it was:",o,r);const l=[],h=wi.empty();Ms(r,(E,S)=>{const N=zp(e,E,t);S=(0,Ut.m9)(S);const U=o.ia(N);if(S instanceof Hp)l.push(N);else{const te=yd(S,U);null!=te&&(l.push(N),h.set(N,te))}});const m=new Xi(l);return new vC(h,m,o.fieldTransforms)}function q0(n,e,t,r,o,l){const h=n.aa(1,e,t),m=[qp(e,r,t)],E=[o];if(l.length%2!=0)throw new Le(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let te=0;te<l.length;te+=2)m.push(qp(e,l[te])),E.push(l[te+1]);const S=[],N=wi.empty();for(let te=m.length-1;te>=0;--te)if(!W0(S,m[te])){const we=m[te];let Ne=E[te];Ne=(0,Ut.m9)(Ne);const Ye=h.ia(we);if(Ne instanceof Hp)S.push(we);else{const rt=yd(Ne,Ye);null!=rt&&(S.push(we),N.set(we,rt))}}const U=new Xi(S);return new vC(N,U,h.fieldTransforms)}function Ns(n,e,t,r=!1){return yd(t,n.aa(r?4:3,e))}function yd(n,e){if(_C(n=(0,Ut.m9)(n)))return z0("Unsupported field value:",e,n),ky(n,e);if(n instanceof gd)return function(t,r){if(!ga(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const h of t){let m=yd(h,r.ra(l));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Ut.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return FE(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Kn.fromDate(t);return{timestampValue:Nl(r.wt,o)}}if(t instanceof Kn){const o=new Kn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Nl(r.wt,o)}}if(t instanceof md)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Za)return{bytesValue:Cm(r.wt,t._byteString)};if(t instanceof ir){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r.oa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:bm(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${Ay(t)}`)}(n,e)}function ky(n,e){const t={};return Bv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(n,(r,o)=>{const l=yd(o,e.ea(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function _C(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Kn||n instanceof md||n instanceof Za||n instanceof ir||n instanceof gd)}function z0(n,e,t){if(!_C(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Ay(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function qp(n,e,t){if((e=(0,Ut.m9)(e))instanceof Vu)return e._internalPath;if("string"==typeof e)return zp(n,e);throw Wp("Field path arguments must be of type string or ",n,!1,void 0,t)}const IC=new RegExp("[~\\*/\\[\\]]");function zp(n,e,t){if(e.search(IC)>=0)throw Wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Vu(...e.split("."))._internalPath}catch{throw Wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Wp(n,e,t,r,o){const l=r&&!r.isEmpty(),h=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let E="";return(l||h)&&(E+=" (found",l&&(E+=` in field ${r}`),h&&(E+=` in document ${o}`),E+=")"),new Le(Ee.INVALID_ARGUMENT,m+n+E)}function W0(n,e){return n.some(t=>t.isEqual(e))}class qh{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ir(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new PD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Kp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class PD extends qh{data(){return super.data()}}function Kp(n,e){return"string"==typeof e?zp(n,e):e instanceof Vu?e._internalPath:e._delegate._internalPath}class Wl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ma extends qh{constructor(e,t,r,o,l,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Kp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Fo extends ma{data(e={}){return super.data(e)}}class Qa{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Wl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Fo(this._firestore,this._userDataWriter,r.key,r,new Wl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Le(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new Fo(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Wl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const m=new Fo(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Wl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,S=-1;return 0!==h.type&&(E=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),S=l.indexOf(h.doc.key)),{type:K0(h.type),doc:m,oldIndex:E,newIndex:S}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function K0(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}function Ya(n,e){return n instanceof ma&&e instanceof ma?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Qa&&e instanceof Qa&&n._firestore===e._firestore&&B0(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Z0(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Le(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fy{}function Uu(n,...e){for(const t of e)n=t._apply(n);return n}class kD extends Fy{constructor(e,t,r){super(),this.fa=e,this.da=t,this._a=r,this.type="where"}_apply(e){const t=zl(e.firestore),r=function(o,l,h,m,E,S,N){let U;if(E.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Le(Ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if("in"===S||"not-in"===S){Zp(N,S);const we=[];for(const Ne of N)we.push(J0(m,o,Ne));U={arrayValue:{values:we}}}else U=J0(m,o,N)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||Zp(N,S),U=Ns(h,"where",N,"in"===S||"not-in"===S);const te=ui.create(E,S,U);return function(we,Ne){if(Ne.ht()){const rt=ua(we);if(null!==rt&&!rt.isEqual(Ne.field))throw new Le(Ee.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${rt.toString()}' and '${Ne.field.toString()}'`);const en=sp(we);null!==en&&Qp(0,Ne.field,en)}const Ye=function(rt,en){for(const yn of rt.filters)if(en.indexOf(yn.op)>=0)return yn.op;return null}(we,function(rt){switch(rt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ne.op));if(null!==Ye)throw new Le(Ee.INVALID_ARGUMENT,Ye===Ne.op?`Invalid query. You cannot use more than one '${Ne.op.toString()}' filter.`:`Invalid query. You cannot use '${Ne.op.toString()}' filters with '${Ye.toString()}' filters.`)}(o,te),te}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new ki(e.firestore,e.converter,function(o,l){const h=o.filters.concat([l]);return new Ha(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class FD extends Fy{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new Le(Ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Le(Ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new ip(o,l);return function(m,E){if(null===sp(m)){const S=ua(m);null!==S&&Qp(0,S,E.field)}}(r,h),h}(e._query,this.fa,this.wa);return new ki(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new Ha(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class CC extends Fy{constructor(e,t,r){super(),this.type=e,this.ma=t,this.ga=r}_apply(e){return new ki(e.firestore,e.converter,PE(e._query,this.ma,this.ga))}}class Q0 extends Fy{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=Y0(e,this.type,this.ya,this.pa);return new ki(e.firestore,e.converter,(o=t,new Ha((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class Vy extends Fy{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=Y0(e,this.type,this.ya,this.pa);return new ki(e.firestore,e.converter,(o=t,new Ha((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function Y0(n,e,t,r){if(t[0]=(0,Ut.m9)(t[0]),t[0]instanceof qh)return function(o,l,h,m,E){if(!m)throw new Le(Ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const S=[];for(const N of Ru(o))if(N.field.isKeyField())S.push(mh(l,m.key));else{const U=m.data.field(N.field);if(um(U))throw new Le(Ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===U){const te=N.field.canonicalString();throw new Le(Ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${te}' (used as the orderBy) does not exist.`)}S.push(U)}return new Kc(S,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=zl(n.firestore);return function(l,h,m,E,S,N){const U=l.explicitOrderBy;if(S.length>U.length)throw new Le(Ee.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const te=[];for(let we=0;we<S.length;we++){const Ne=S[we];if(U[we].field.isKeyField()){if("string"!=typeof Ne)throw new Le(Ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof Ne}`);if(!yh(l)&&-1!==Ne.indexOf("/"))throw new Le(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${Ne}' contains a slash.`);const Ye=l.path.child(mn.fromString(Ne));if(!et.isDocumentKey(Ye))throw new Le(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${Ye}' is not because it contains an odd number of segments.`);const rt=new et(Ye);te.push(mh(h,rt))}else{const Ye=Ns(m,E,Ne);te.push(Ye)}}return new Kc(te,N)}(n._query,n.firestore._databaseId,o,e,t,r)}}function J0(n,e,t){if("string"==typeof(t=(0,Ut.m9)(t))){if(""===t)throw new Le(Ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yh(e)&&-1!==t.indexOf("/"))throw new Le(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(mn.fromString(t));if(!et.isDocumentKey(r))throw new Le(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mh(n,new et(r))}if(t instanceof ir)return mh(n,t._key);throw new Le(Ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ay(t)}.`)}function Zp(n,e){if(!Array.isArray(n)||0===n.length)throw new Le(Ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Le(Ee.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Qp(n,e,t){if(!t.isEqual(e))throw new Le(Ee.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const SC={maxAttempts:5};class X0{convertValue(e,t="none"){switch(Gc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw at()}}convertObject(e,t){const r={};return Ms(e.fields,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new md(Zn(e.latitude),Zn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=$v(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($c(e));default:return null}}convertTimestamp(e){const t=oa(e);return new Kn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=mn.fromString(e);Et(Kr(r));const o=new Ba(r.get(1),r.get(3)),l=new et(r.popFirst(5));return o.isEqual(t)||Pr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Yp(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class AC extends X0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Za(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ir(this.firestore,null,t)}}class xC{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=zl(e)}set(e,t,r){this._verifyNotCommitted();const o=Kl(e,this._firestore),l=Yp(o.converter,t,r),h=Oy(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,Mn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=Kl(e,this._firestore);let h;return h="string"==typeof(t=(0,Ut.m9)(t))||t instanceof Vu?q0(this._dataReader,"WriteBatch.update",l._key,t,r,o):Gp(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,Mn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Kl(e,this._firestore);return this._mutations=this._mutations.concat(new Ml(t._key,Mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(Ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kl(n,e){if((n=(0,Ut.m9)(n)).firestore!==e)throw new Le(Ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class vd extends X0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Za(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ir(this.firestore,null,t)}}function PC(n,e,t){n=nn(n,ir);const r=nn(n.firestore,dr),o=Yp(n.converter,e,t);return zh(r,[Oy(zl(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Mn.none())])}function BD(n,e,t,...r){n=nn(n,ir);const o=nn(n.firestore,dr),l=zl(o);let h;return h="string"==typeof(e=(0,Ut.m9)(e))||e instanceof Vu?q0(l,"updateDoc",n._key,e,t,r):Gp(l,"updateDoc",n._key,e),zh(o,[h.toMutation(n._key,Mn.exists(!0))])}function Uy(n,...e){var t,r,o;n=(0,Ut.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||My(e[h])||(l=e[h],h++);const m={includeMetadataChanges:l.includeMetadataChanges};if(My(e[h])){const U=e[h];e[h]=null===(t=U.next)||void 0===t?void 0:t.bind(U),e[h+1]=null===(r=U.error)||void 0===r?void 0:r.bind(U),e[h+2]=null===(o=U.complete)||void 0===o?void 0:o.bind(U)}let E,S,N;if(n instanceof ir)S=nn(n.firestore,dr),N=Zc(n._key.path),E={next:U=>{e[h]&&e[h](eI(S,n,U))},error:e[h+1],complete:e[h+2]};else{const U=nn(n,ki);S=nn(U.firestore,dr),N=U._query;const te=new vd(S);E={next:we=>{e[h]&&e[h](new Qa(S,te,U,we))},error:e[h+1],complete:e[h+2]},Z0(n._query)}return function(U,te,we,Ne){const Ye=new Ey(Ne),rt=new hy(te,Ye,we);return U.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return Fw(yield Gl(U),rt)})),()=>{Ye.Tc(),U.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return ly(yield Gl(U),rt)}))}}(Qr(S),N,m,E)}function zh(n,e){return function(t,r){const o=new ai;return t.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function Ww(n,e,t){return gy.apply(this,arguments)}(yield Gh(t),r,o)})),o.promise}(Qr(n),e)}function eI(n,e,t){const r=t.docs.get(e._key),o=new vd(n);return new ma(n,o,e._key,r,new Wl(t.hasPendingWrites,t.fromCache),e.converter)}class kC extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=zl(e)}get(e){const t=Kl(e,this._firestore),r=new AC(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return at();const l=o[0];if(l.isFoundDocument())return new qh(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new qh(this._firestore,r,t._key,null,t.converter);throw at()})}set(e,t,r){const o=Kl(e,this._firestore),l=Yp(o.converter,t,r),h=Oy(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const l=Kl(e,this._firestore);let h;return h="string"==typeof(t=(0,Ut.m9)(t))||t instanceof Vu?q0(this._dataReader,"Transaction.update",l._key,t,r,o):Gp(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=Kl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Kl(e,this._firestore),r=new vd(this._firestore);return super.get(e).then(o=>new ma(this._firestore,r,t._key,o._document,new Wl(!1,!1),t.converter))}}function UC(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Le("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function iI(){if(typeof Uint8Array>"u")throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function jC(){if(!function fh(){return typeof atob<"u"}())throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){uh=fl.SDK_VERSION,(0,fl._registerComponent)(new pl.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),l=new dr(o,new Sb(t.getProvider("auth-internal")),new yE(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,fl.registerVersion)(Ov,"3.4.13",n),(0,fl.registerVersion)(Ov,"3.4.13","esm2017")}();class Wh{constructor(e){this._delegate=e}static fromBase64String(e){return jC(),new Wh(Za.fromBase64String(e))}static fromUint8Array(e){return iI(),new Wh(Za.fromUint8Array(e))}toBase64(){return jC(),this._delegate.toBase64()}toUint8Array(){return iI(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function sI(n){return function qD(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class BC{enableIndexedDbPersistence(e,t){return function Ry(n,e){H0(n=nn(n,dr));const t=Qr(n),r=n._freezeSettings(),o=new A0;return $0(t,o,new ns(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function YT(n){H0(n=nn(n,dr));const e=Qr(n),t=n._freezeSettings(),r=new A0;return $0(e,r,new Hh(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Ny(n){if(n._initialized&&!n._terminated)throw new Le(Ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ai;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{yield(t=(0,Ae.Z)(function*(r){if(!ja.V())return Promise.resolve();const o=r+"main";yield ja.delete(o)}),function(r){return t.apply(this,arguments)})(N_(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class oI{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ba||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&lh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function lC(n,e,t,r={}){var o;const l=(n=nn(n,Bp))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&lh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=Ei.MOCK_USER;else{h=(0,Ut.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Le(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ei(E)}n._authCredentials=new mE(new Yf(h,m))}}(this._delegate,e,t,r)}enableNetwork(){return function gC(n){return function sC(n){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield Dy(n),t=yield R0(n);return e.setNetworkEnabled(!0),function(r){const o=nt(r);return o.lu.delete(0),Ap(o)}(t)}))}(Qr(n=nn(n,dr)))}(this._delegate)}disableNetwork(){return function SD(n){return function wD(n){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield Dy(n),t=yield R0(n);return e.setNetworkEnabled(!1),(r=(0,Ae.Z)(function*(o){const l=nt(o);l.lu.add(0),yield Oh(l),l._u.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Qr(n=nn(n,dr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Sy("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function pC(n){return function(e){const t=new ai;return e.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function yD(n,e){return y0.apply(this,arguments)}(yield Gh(e),t)})),t.promise}(Qr(n=nn(n,dr)))}(this._delegate)}onSnapshotsInSync(e){return function Jp(n,e){return function k0(n,e){const t=new Ey(e);return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return r=yield Gl(n),o=t,nt(r).Tu.add(o),void o.next();var r,o})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return r=yield Gl(n),o=t,void nt(r).Tu.delete(o);var r,o}))}}(Qr(n=nn(n,dr)),My(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Kh(this,j0(this._delegate,e))}catch(t){throw rs(t,"collection()","Firestore.collection()")}}doc(e){try{return new ya(this,xy(this._delegate,e))}catch(t){throw rs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ps(this,function cC(n,e){if(n=nn(n,Bp),F0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Le(Ee.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ki(n,null,(t=e,new Ha(mn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw rs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function _d(n,e,t){n=nn(n,dr);const r=Object.assign(Object.assign({},SC),t);return function(o){if(o.maxAttempts<1)throw new Le(Ee.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function oC(n,e,t){const r=new ai;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){const o=yield(l=n,Lu(l).then(h=>h.datastore));var l;new rC(n.asyncQueue,o,t,e,r).run()})),r.promise}(Qr(n),o=>e(new kC(n,o)),r)}(this._delegate,t=>e(new $C(this,t)))}batch(){return Qr(this._delegate),new aI(new xC(this._delegate,e=>zh(this._delegate,e)))}loadBundle(e){return function yC(n,e){const t=Qr(n=nn(n,dr)),r=new DD;return function bD(n,e,t,r){const o=function(l,h){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,E=function(E,S){if(E instanceof Uint8Array)return tC(E,S);if(E instanceof ArrayBuffer)return tC(new Uint8Array(E),S);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new WT(E,h);var E}(t,Sp(e));n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){!function eC(n,e,t){const r=nt(n);var o;(o=(0,Ae.Z)(function*(l,h,m){try{const E=yield h.getMetadata();if(yield function(te,we){const Ne=nt(te),Ye=Wr(we.createTime);return Ne.persistence.runTransaction("hasNewerBundle","readonly",rt=>Ne.Ds.getBundleMetadata(rt,we.id)).then(rt=>!!rt&&rt.createTime.compareTo(Ye)>=0)}(l.localStore,E))return yield h.close(),m._completeWith({taskState:"Success",documentsLoaded:(te=E).totalDocuments,bytesLoaded:te.totalBytes,totalDocuments:te.totalDocuments,totalBytes:te.totalBytes}),Promise.resolve(new Set);m._updateProgress(c0(E));const S=new jw(E,l.localStore,h.wt);let N=yield h.fc();for(;N;){const te=yield S.Nu(N);te&&m._updateProgress(te),N=yield h.fc()}const U=yield S.complete();return yield Ka(l,U.Mu,void 0),yield function(te,we){const Ne=nt(te);return Ne.persistence.runTransaction("Save bundle","readwrite",Ye=>Ne.Ds.saveBundleMetadata(Ye,we))}(l.localStore,E),m._completeWith(U.progress),Promise.resolve(U.Ou)}catch(E){return lh("SyncEngine",`Loading bundle failed with ${E}`),m._failWith(E),Promise.resolve(new Set)}var te}),function(l,h,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield Gh(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function AD(n,e){return function KT(n,e){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){return function(t,r){const o=nt(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.Ds.getNamedQuery(l,r))}(yield Ty(n),e)}))}(Qr(n=nn(n,dr)),e).then(t=>t?new ki(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ps(this,t):null)}}class eg extends X0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wh(new Za(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ya.forKey(t,this.firestore,null)}}class $C{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new eg(e)}get(e){const t=Id(e);return this._delegate.get(t).then(r=>new tg(this._firestore,new ma(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Id(e);return r?(UC("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Id(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Id(e);return this._delegate.delete(t),this}}class aI{constructor(e){this._delegate=e}set(e,t,r){const o=Id(e);return r?(UC("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Id(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Id(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ju{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Fo(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ng(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=ju.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new ju(e,new eg(e),t),o.set(t,l)),l}}ju.INSTANCES=new WeakMap;class ya{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eg(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ya(t,new ir(t._delegate,r,new et(e)))}static forKey(e,t,r){return new ya(t,new ir(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Kh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Kh(this.firestore,j0(this._delegate,e))}catch(t){throw rs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ut.m9)(e))instanceof ir&&dC(this._delegate,e)}set(e,t){t=UC("DocumentReference.set",t);try{return t?PC(this._delegate,e,t):PC(this._delegate,e)}catch(r){throw rs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?BD(this._delegate,e):BD(this._delegate,e,t,...r)}catch(o){throw rs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function $D(n){return zh(nn(n.firestore,dr),[new Ml(n._key,Mn.none())])}(this._delegate)}onSnapshot(...e){const t=jy(e),r=HC(e,o=>new tg(this.firestore,new ma(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return Uy(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function MC(n){n=nn(n,ir);const e=nn(n.firestore,dr),t=Qr(e),r=new vd(e);return function O0(n,e){const t=new ai;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(r=(0,Ae.Z)(function*(o,l,h){try{const m=yield function(E,S){const N=nt(E);return N.persistence.runTransaction("read document","readonly",U=>N.localDocuments.getDocument(U,S))}(o,l);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new Le(Ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const E=Hl(m,`Failed to get document '${l} from cache`);h.reject(E)}}),function(o,l,h){return r.apply(this,arguments)})(yield Ty(n),e,t);var r})),t.promise}(t,n._key).then(o=>new ma(e,r,n._key,o,new Wl(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function RC(n){n=nn(n,ir);const e=nn(n.firestore,dr);return ql(Qr(e),n._key,{source:"server"}).then(t=>eI(e,n,t))}(this._delegate):function UD(n){n=nn(n,ir);const e=nn(n.firestore,dr);return ql(Qr(e),n._key).then(t=>eI(e,n,t))}(this._delegate),t.then(r=>new tg(this.firestore,new ma(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ya(this.firestore,this._delegate.withConverter(e?ju.getInstance(this.firestore,e):null))}}function rs(n,e,t){return n.message=n.message.replace(e,t),n}function jy(n){for(const e of n)if("object"==typeof e&&!sI(e))return e;return{}}function HC(n,e){var t,r;let o;return o=sI(n[0])?n[0]:sI(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class tg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ya(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Ya(this._delegate,e._delegate)}}class ng extends tg{data(e){const t=this._delegate.data(e);return function Tb(n,e){n||at()}(void 0!==t),t}}class ps{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eg(e)}where(e,t,r){try{return new ps(this.firestore,Uu(this._delegate,function EC(n,e,t){const r=e,o=Kp("where",n);return new kD(o,r,t)}(e,t,r)))}catch(o){throw rs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ps(this.firestore,Uu(this._delegate,function wC(n,e="asc"){const t=e,r=Kp("orderBy",n);return new FD(r,t)}(e,t)))}catch(r){throw rs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ps(this.firestore,Uu(this._delegate,function bC(n){return U0("limit",n),new CC("limit",n,"F")}(e)))}catch(t){throw rs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ps(this.firestore,Uu(this._delegate,function DC(n){return U0("limitToLast",n),new CC("limitToLast",n,"L")}(e)))}catch(t){throw rs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ps(this.firestore,Uu(this._delegate,function LD(...n){return new Q0("startAt",n,!0)}(...e)))}catch(t){throw rs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ps(this.firestore,Uu(this._delegate,function Ly(...n){return new Q0("startAfter",n,!1)}(...e)))}catch(t){throw rs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ps(this.firestore,Uu(this._delegate,function TC(...n){return new Vy("endBefore",n,!1)}(...e)))}catch(t){throw rs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ps(this.firestore,Uu(this._delegate,function VD(...n){return new Vy("endAt",n,!0)}(...e)))}catch(t){throw rs(t,"endAt()","Query.endAt()")}}isEqual(e){return B0(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function jD(n){n=nn(n,ki);const e=nn(n.firestore,dr),t=Qr(e),r=new vd(e);return function CD(n,e){const t=new ai;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(r=(0,Ae.Z)(function*(o,l,h){try{const m=yield hd(o,l,!0),E=new h0(l,m.ji),S=E.Ku(m.documents),N=E.applyChanges(S,!1);h.resolve(N.snapshot)}catch(m){const E=Hl(m,`Failed to execute query '${l} against cache`);h.reject(E)}}),function(o,l,h){return r.apply(this,arguments)})(yield Ty(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Qa(e,r,n,o))}(this._delegate):"server"===e?.source?function OC(n){n=nn(n,ki);const e=nn(n.firestore,dr),t=Qr(e),r=new vd(e);return P0(t,n._query,{source:"server"}).then(o=>new Qa(e,r,n,o))}(this._delegate):function NC(n){n=nn(n,ki);const e=nn(n.firestore,dr),t=Qr(e),r=new vd(e);return Z0(n._query),P0(t,n._query).then(o=>new Qa(e,r,n,o))}(this._delegate),t.then(r=>new uI(this.firestore,new Qa(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=jy(e),r=HC(e,o=>new uI(this.firestore,new Qa(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return Uy(this._delegate,t,r)}withConverter(e){return new ps(this.firestore,this._delegate.withConverter(e?ju.getInstance(this.firestore,e):null))}}class WD{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ng(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class uI{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ps(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ng(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new WD(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new ng(this._firestore,r))})}isEqual(e){return Ya(this._delegate,e._delegate)}}class Kh extends ps{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ya(this.firestore,e):null}doc(e){try{return new ya(this.firestore,void 0===e?xy(this._delegate):xy(this._delegate,e))}catch(t){throw rs(t,"doc()","CollectionReference.doc()")}}add(e){return function HD(n,e){const t=nn(n.firestore,dr),r=xy(n),o=Yp(n.converter,e);return zh(t,[Oy(zl(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Mn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ya(this.firestore,t))}isEqual(e){return dC(this._delegate,e._delegate)}withConverter(e){return new Kh(this.firestore,this._delegate.withConverter(e?ju.getInstance(this.firestore,e):null))}}function Id(n){return nn(n,ir)}class lI{constructor(...e){this._delegate=new Vu(...e)}static documentId(){return new lI(kr.keyField().canonicalString())}isEqual(e){return(e=(0,Ut.m9)(e))instanceof Vu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ed{constructor(e){this._delegate=e}static serverTimestamp(){const e=function tI(){return new Py("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ed(e)}static delete(){const e=function FC(){return new Hp("deleteField")}();return e._methodName="FieldValue.delete",new Ed(e)}static arrayUnion(...e){const t=function nI(...n){return new ND("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ed(t)}static arrayRemove(...e){const t=function GD(...n){return new ko("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ed(t)}static increment(e){const t=function rI(n){return new OD("increment",n)}(e);return t._methodName="FieldValue.increment",new Ed(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const KD={Firestore:oI,GeoPoint:md,Timestamp:Kn,Blob:Wh,Transaction:$C,WriteBatch:aI,DocumentReference:ya,DocumentSnapshot:tg,Query:ps,QueryDocumentSnapshot:ng,QuerySnapshot:uI,CollectionReference:Kh,FieldPath:lI,FieldValue:Ed,setLogLevel:function zD(n){!function gE(n){bl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function QD(n){(function ZD(n,e){n.INTERNAL.registerComponent(new pl.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},KD)))})(n,(e,t)=>new oI(e,t,new BC)),n.registerVersion("@firebase/firestore-compat","0.1.22")}(AI.Z);var YD=L(6451),By=L(5363),JD=L(6063);class XD extends ln.x{constructor(e=1/0,t=1/0,r=JD.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:h}=this;t||(r.push(e),!o&&r.push(l.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,l=o.slice();for(let h=0;h<l.length&&!e.closed;h+=r?1:2)e.next(l[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,l=(o?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!o){const h=t.now();let m=0;for(let E=1;E<r.length&&r[E]<=h;E+=2)m=E;m&&r.splice(0,m+1)}}}var eT=L(3099);function GC(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,eT.B)({connector:()=>new XD(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function i(n,e){return(0,Xn.m)(e)?er(()=>n,e):er(()=>n)}var s=L(9468);L(5867);const It=new Map,rn={activated:!1,tokenObservers:[]},sr={initialized:!1,enabled:!1};function hr(n){return It.get(n)||rn}function so(n,e){It.set(n,e)}function Zh(){return sr}class pI{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ae.Z)(function*(){t.stop();try{t.pending=new Ut.BH,yield function $A(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ut.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const oo=new Ut.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function tS(n){if(!hr(n).activated)throw oo.create("use-before-activation",{appName:n.name})}function nT(n,e){return rT.apply(this,arguments)}function rT(){return rT=(0,Ae.Z)(function*({url:n,body:e},t){var r,o;const l={"Content-Type":"application/json"},h=t.getImmediate({optional:!0});if(h){const we=yield h.getHeartbeatsHeader();we&&(l["X-Firebase-Client"]=we)}const m={method:"POST",body:JSON.stringify(e),headers:l};let E,S;try{E=yield fetch(n,m)}catch(we){throw oo.create("fetch-network-error",{originalErrorMessage:null===(r=we)||void 0===r?void 0:r.message})}if(200!==E.status)throw oo.create("fetch-status-error",{httpStatus:E.status});try{S=yield E.json()}catch(we){throw oo.create("fetch-parse-error",{originalErrorMessage:null===(o=we)||void 0===o?void 0:o.message})}const N=S.ttl.match(/^([\d.]+)(s)$/);if(!N||!N[2]||isNaN(Number(N[1])))throw oo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${S.ttl}`});const U=1e3*Number(N[1]),te=Date.now();return{token:S.token,expireTimeMillis:te+U,issuedAtTimeMillis:te}}),rT.apply(this,arguments)}function zA(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const gI="firebase-app-check-store";let WC=null;function rS(){return WC||(WC=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var l;e(oo.create("storage-open",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(gI,{keyPath:"compositeKey"})}}catch(r){e(oo.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),WC)}function iT(){return iT=(0,Ae.Z)(function*(n,e){const r=(yield rS()).transaction(gI,"readwrite"),l=r.objectStore(gI).put({compositeKey:n,value:e});return new Promise((h,m)=>{l.onsuccess=E=>{h()},r.onerror=E=>{var S;m(oo.create("storage-set",{originalErrorMessage:null===(S=E.target.error)||void 0===S?void 0:S.message}))}})}),iT.apply(this,arguments)}const mI=new Xs.Yd("@firebase/app-check");function aS(n,e){return(0,Ut.hl)()?function QA(n,e){return function iS(n,e){return iT.apply(this,arguments)}(function oS(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{mI.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function uS(){return Zh().enabled}function lS(){return uT.apply(this,arguments)}function uT(){return uT=(0,Ae.Z)(function*(){const n=Zh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),uT.apply(this,arguments)}const nx={error:"UNKNOWN_ERROR"};function rx(n){return Ut.US.encodeString(JSON.stringify(n),!1)}function KC(n){return lT.apply(this,arguments)}function lT(){return lT=(0,Ae.Z)(function*(n,e=!1){const t=n.app;tS(t);const r=hr(t);let l,o=r.token;if(!o){const E=yield r.cachedTokenPromise;E&&ZC(E)&&(o=E)}if(!e&&o&&ZC(o))return{token:o.token};let m,h=!1;if(uS()){r.exchangeTokenPromise||(r.exchangeTokenPromise=nT(zA(t,yield lS()),n.heartbeatServiceProvider).then(S=>(r.exchangeTokenPromise=void 0,S)),h=!0);const E=yield r.exchangeTokenPromise;return yield aS(t,E),so(t,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),h=!0),o=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?mI.warn(E.message):mI.error(E),l=E}return o?(m={token:o.token},so(t,Object.assign(Object.assign({},r),{token:o})),yield aS(t,o)):m=sx(l),h&&dS(t,m),m}),lT.apply(this,arguments)}function dT(n,e){const t=hr(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),so(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function cS(n){const{app:e}=n,t=hr(e);let r=t.tokenRefresher;r||(r=function ix(n){const{app:e}=n;return new pI((0,Ae.Z)(function*(){let r;if(r=hr(e).token?yield KC(n,!0):yield KC(n),r.error)throw r.error}),()=>!0,()=>{const t=hr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),so(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function dS(n,e){const t=hr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function ZC(n){return n.expireTimeMillis-Date.now()>0}function sx(n){return{token:rx(nx),error:n}}class ox{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=hr(this.app);for(const t of e)dT(this.app,t.next);return Promise.resolve()}}const _S="app-check-internal";!function Ix(){(0,fl._registerComponent)(new pl.wA("app-check",n=>function ax(n,e){return new ox(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(_S).initialize()})),(0,fl._registerComponent)(new pl.wA(_S,n=>function ux(n){return{getToken:e=>KC(n,e),addTokenListener:e=>function cT(n,e,t,r){const{app:o}=n,l=hr(o),h={next:t,error:r,type:e};if(so(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&ZC(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),cS(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>cS(n))}(n,"INTERNAL",e),removeTokenListener:e=>dT(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,fl.registerVersion)("@firebase/app-check","0.5.12")}();class gT{constructor(){return(0,Rr.vb)("app-check")}}typeof window<"u"&&window;var ES=L(127);const wS=new d.InjectionToken("angularfire2.auth.use-emulator"),CS=new d.InjectionToken("angularfire2.auth.settings"),bS=new d.InjectionToken("angularfire2.auth.tenant-id"),DS=new d.InjectionToken("angularfire2.auth.langugage-code"),TS=new d.InjectionToken("angularfire2.auth.use-device-language"),SS=new d.InjectionToken("angularfire.auth.persistence"),AS=(n,e,t,r,o,l,h,m)=>(0,Qi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=o,l&&E.useDeviceLanguage(),h)for(const[S,N]of Object.entries(h))E.settings[S]=N;return m&&E.setPersistence(m),E},[t,r,o,l,h,m]);let yI=(()=>{class n{constructor(t,r,o,l,h,m,E,S,N,U,te,we){const Ne=new ln.x,Ye=ut(void 0).pipe((0,By.Q)(h.outsideAngular),er(()=>l.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,1451)))),(0,it.U)(()=>(0,Qi.on)(t,l,r)),(0,it.U)(rt=>AS(rt,l,m,S,N,U,E,te)),GC({bufferSize:1,refCount:!1}));if((0,C.isPlatformServer)(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ut(null);else{Ye.pipe(Bi()).subscribe();const en=Ye.pipe(er(tn=>tn.getRedirectResult().then(vn=>vn,()=>null)),Rr.iC,GC({bufferSize:1,refCount:!1})),yn=Ye.pipe(er(tn=>new Xt.y(vn=>({unsubscribe:l.runOutsideAngular(()=>tn.onAuthStateChanged(Rn=>vn.next(Rn),Rn=>vn.error(Rn),()=>vn.complete()))})))),Cn=Ye.pipe(er(tn=>new Xt.y(vn=>({unsubscribe:l.runOutsideAngular(()=>tn.onIdTokenChanged(Rn=>vn.next(Rn),Rn=>vn.error(Rn),()=>vn.complete()))}))));this.authState=en.pipe(i(yn),(0,s.R)(h.outsideAngular),(0,By.Q)(h.insideAngular)),this.user=en.pipe(i(Cn),(0,s.R)(h.outsideAngular),(0,By.Q)(h.insideAngular)),this.idToken=this.user.pipe(er(tn=>tn?(0,yt.D)(tn.getIdToken()):ut(null))),this.idTokenResult=this.user.pipe(er(tn=>tn?(0,yt.D)(tn.getIdTokenResult()):ut(null))),this.credential=(0,YD.T)(en,Ne,this.authState.pipe(pr(tn=>!tn))).pipe((0,it.U)(tn=>tn?.user?tn:null),(0,s.R)(h.outsideAngular),(0,By.Q)(h.insideAngular))}return(0,Qi.pX)(this,Ye,l,{spy:{apply:(rt,en,yn)=>{(rt.startsWith("signIn")||rt.startsWith("createUser"))&&yn.then(Cn=>Ne.next(Cn))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275inject(Qi.Dh),d.\u0275\u0275inject(Qi.xv,8),d.\u0275\u0275inject(d.PLATFORM_ID),d.\u0275\u0275inject(d.NgZone),d.\u0275\u0275inject(Rr.HU),d.\u0275\u0275inject(wS,8),d.\u0275\u0275inject(CS,8),d.\u0275\u0275inject(bS,8),d.\u0275\u0275inject(DS,8),d.\u0275\u0275inject(TS,8),d.\u0275\u0275inject(SS,8),d.\u0275\u0275inject(gT,8))},n.\u0275prov=d.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Tx=(()=>{class n{constructor(){ES.Z.registerVersion("angularfire",Rr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=d.\u0275\u0275defineInjector({providers:[yI]}),n})();function xS(n,e){return function Sx(n,e=gc.z){return new Xt.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function yT(n,e){return xS(n,e).pipe((0,it.U)(t=>({payload:t,type:"query"})))}function YC(n,e){return yT(n,e).pipe(_s(void 0),Zi(),(0,it.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const E=o.find(N=>N.doc.ref.isEqual(h.ref)),S=t?.payload.docs.find(N=>N.ref.isEqual(h.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(h.metadata)||!E&&S&&JSON.stringify(S.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),l}))}function MS(n,e,t){return YC(n,t).pipe(jo((r,o)=>function xx(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Mx(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return vT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return vT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return vT(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),function mc(n,e=Si.y){return n=n??bg,(0,Hn.e)((t,r)=>{let o,l=!0;t.subscribe((0,Qt.x)(r,h=>{const m=e(h);(l||!n(o,m))&&(l=!1,o=m,r.next(h))}))})}(),(0,it.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function vT(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function RS(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class NS{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=YC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,it.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(_s(void 0),Zi(),pr(([r,o])=>o.length>0||!r),(0,it.U)(([r,o])=>o),Rr.iC)}auditTrail(e){return this.stateChanges(e).pipe(jo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=RS(e);return MS(this.query,t,this.afs.schedulers.outsideAngular).pipe(Rr.iC)}valueChanges(e={}){return yT(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Rr.iC)}get(e){return(0,yt.D)(this.query.get(e)).pipe(Rr.iC)}add(e){return this.ref.add(e)}doc(e){return new OS(this.ref.doc(e),this.afs)}}class OS{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=FS(r,t);return new NS(o,l,this.afs)}snapshotChanges(){return function Ax(n,e){return xS(n,e).pipe(_s(void 0),Zi(),(0,it.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Rr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,it.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,yt.D)(this.ref.get(e)).pipe(Rr.iC)}}class Rx{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?YC(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),pr(t=>t.length>0),Rr.iC):YC(this.query,this.afs.schedulers.outsideAngular).pipe(Rr.iC)}auditTrail(e){return this.stateChanges(e).pipe(jo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=RS(e);return MS(this.query,t,this.afs.schedulers.outsideAngular).pipe(Rr.iC)}valueChanges(e={}){return yT(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Rr.iC)}get(e){return(0,yt.D)(this.query.get(e)).pipe(Rr.iC)}}const PS=new d.InjectionToken("angularfire2.enableFirestorePersistence"),kS=new d.InjectionToken("angularfire2.firestore.persistenceSettings"),Nx=new d.InjectionToken("angularfire2.firestore.settings"),Ox=new d.InjectionToken("angularfire2.firestore.use-emulator");function FS(n,e=(t=>t)){return{query:e(n),ref:n}}let LS=(()=>{class n{constructor(t,r,o,l,h,m,E,S,N,U,te,we,Ne,Ye,rt,en,yn){this.schedulers=E;const Cn=(0,Qi.on)(t,m,r),tn=N;U&&AS(Cn,m,te,Ne,Ye,rt,we,en),[this.firestore,this.persistenceEnabled$]=(0,Qi.cc)(`${Cn.name}.firestore`,"AngularFirestore",Cn.name,()=>{const vn=m.runOutsideAngular(()=>Cn.firestore());if(l&&vn.settings(l),tn&&vn.useEmulator(...tn),o&&!(0,C.isPlatformServer)(h)){const Rn=()=>{try{return(0,yt.D)(vn.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(Ps){return typeof console<"u"&&console.warn(Ps),ut(!1)}};return[vn,m.runOutsideAngular(Rn)]}return[vn,ut(!1)]},[l,tn,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=FS(o,r),m=this.schedulers.ngZone.run(()=>l);return new NS(m,h,this)}collectionGroup(t,r){const o=r||(h=>h),l=this.firestore.collectionGroup(t);return new Rx(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new OS(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275inject(Qi.Dh),d.\u0275\u0275inject(Qi.xv,8),d.\u0275\u0275inject(PS,8),d.\u0275\u0275inject(Nx,8),d.\u0275\u0275inject(d.PLATFORM_ID),d.\u0275\u0275inject(d.NgZone),d.\u0275\u0275inject(Rr.HU),d.\u0275\u0275inject(kS,8),d.\u0275\u0275inject(Ox,8),d.\u0275\u0275inject(yI,8),d.\u0275\u0275inject(wS,8),d.\u0275\u0275inject(CS,8),d.\u0275\u0275inject(bS,8),d.\u0275\u0275inject(DS,8),d.\u0275\u0275inject(TS,8),d.\u0275\u0275inject(SS,8),d.\u0275\u0275inject(gT,8))},n.\u0275prov=d.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Px=(()=>{class n{constructor(){ES.Z.registerVersion("angularfire",Rr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:PS,useValue:!0},{provide:kS,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=d.\u0275\u0275defineInjector({providers:[LS]}),n})(),ig=(()=>{class n{constructor(t){this.db=t,this.coleccionProductos=t.collection("productos",r=>r.orderBy("categoria","asc"))}getProductos(){return this.productos=this.coleccionProductos.snapshotChanges().pipe((0,it.U)(t=>t.map(r=>{const o=r.payload.doc.data();return o.id=r.payload.doc.id,o}))),this.productos}addProducto(t){this.coleccionProductos.add(t)}getProducto(t){return this.productoDoc=this.db.doc(`productos/${t}`),this.producto=this.productoDoc.snapshotChanges().pipe((0,it.U)(r=>{if(r.payload.exists){const o=r.payload.data();return o.id=r.payload.id,o}return null})),this.producto}modificarProducto(t){this.productoDoc=this.db.doc(`productos/${t.id}`),this.productoDoc.update(t)}eliminarProducto(t){this.productoDoc=this.db.doc(`productos/${t}`),this.productoDoc.delete()}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275inject(LS))},n.\u0275prov=d.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var sg=L(3241);let VS=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275directiveInject(d.Renderer2),d.\u0275\u0275directiveInject(d.ElementRef))},n.\u0275dir=d.\u0275\u0275defineDirective({type:n}),n})(),og=(()=>{class n extends VS{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=d.\u0275\u0275defineDirective({type:n,features:[d.\u0275\u0275InheritDefinitionFeature]}),n})();const Zl=new d.InjectionToken("NgValueAccessor"),Lx={provide:Zl,useExisting:(0,d.forwardRef)(()=>ag),multi:!0},Ux=new d.InjectionToken("CompositionEventMode");let ag=(()=>{class n extends VS{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Vx(){const n=(0,C.\u0275getDOM)()?(0,C.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275directiveInject(d.Renderer2),d.\u0275\u0275directiveInject(d.ElementRef),d.\u0275\u0275directiveInject(Ux,8))},n.\u0275dir=d.\u0275\u0275defineDirective({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.\u0275\u0275listener("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[d.\u0275\u0275ProvidersFeature([Lx]),d.\u0275\u0275InheritDefinitionFeature]}),n})();function Qh(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function jS(n){return null!=n&&"number"==typeof n.length}const Os=new d.InjectionToken("NgValidators"),Yh=new d.InjectionToken("NgAsyncValidators");function HS(n){return Qh(n.value)?{required:!0}:null}function JC(n){return null}function ZS(n){return null!=n}function QS(n){return(0,d.\u0275isPromise)(n)?(0,yt.D)(n):n}function YS(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function JS(n,e){return e.map(t=>t(n))}function XS(n){return n.map(e=>function $x(n){return!n.validate}(e)?e:t=>e.validate(t))}function _T(n){return null!=n?function eA(n){if(!n)return null;const e=n.filter(ZS);return 0==e.length?null:function(t){return YS(JS(t,e))}}(XS(n)):null}function IT(n){return null!=n?function tA(n){if(!n)return null;const e=n.filter(ZS);return 0==e.length?null:function(t){return function kx(...n){const e=(0,pn.jO)(n),{args:t,keys:r}=bn(n),o=new Xt.y(l=>{const{length:h}=t;if(!h)return void l.complete();const m=new Array(h);let E=h,S=h;for(let N=0;N<h;N++){let U=!1;(0,Ur.Xf)(t[N]).subscribe((0,Qt.x)(l,te=>{U||(U=!0,S--),m[N]=te},()=>E--,void 0,()=>{(!E||!U)&&(S||l.next(r?ti(r,m):m),l.complete())}))}});return e?o.pipe(_r(e)):o}(JS(t,e).map(QS)).pipe((0,it.U)(YS))}}(XS(n)):null}function nA(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ET(n){return n?Array.isArray(n)?n:[n]:[]}function XC(n,e){return Array.isArray(n)?n.includes(e):n===e}function sA(n,e){const t=ET(e);return ET(n).forEach(o=>{XC(t,o)||t.push(o)}),t}function oA(n,e){return ET(e).filter(t=>!XC(n,t))}class aA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_T(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=IT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ao extends aA{get formDirective(){return null}get path(){return null}}class Jh extends aA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class uA{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let vI=(()=>{class n extends uA{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275directiveInject(Jh,2))},n.\u0275dir=d.\u0275\u0275defineDirective({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.\u0275\u0275classProp("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.\u0275\u0275InheritDefinitionFeature]}),n})(),_I=(()=>{class n extends uA{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275directiveInject(ao,10))},n.\u0275dir=d.\u0275\u0275defineDirective({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.\u0275\u0275classProp("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[d.\u0275\u0275InheritDefinitionFeature]}),n})();const II="VALID",tb="INVALID",Hy="PENDING",EI="DISABLED";function DT(n){return(nb(n)?n.validators:n)||null}function cA(n){return Array.isArray(n)?_T(n):n||null}function TT(n,e){return(nb(e)?e.asyncValidators:n)||null}function dA(n){return Array.isArray(n)?IT(n):n||null}function nb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class pA{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=cA(this._rawValidators),this._composedAsyncValidatorFn=dA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===II}get invalid(){return this.status===tb}get pending(){return this.status==Hy}get disabled(){return this.status===EI}get enabled(){return this.status!==EI}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=cA(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=dA(e)}addValidators(e){this.setValidators(sA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(oA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(oA(e,this._rawAsyncValidators))}hasValidator(e){return XC(this._rawValidators,e)}hasAsyncValidator(e){return XC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Hy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=EI,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=II,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===II||this.status===Hy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?EI:II}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Hy,this._hasOwnPendingAsyncValidator=!0;const t=QS(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.EventEmitter,this.statusChanges=new d.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?EI:this.errors?tb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hy)?Hy:this._anyControlsHaveStatus(tb)?tb:II}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){nb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class ST extends pA{constructor(e,t,r){super(DT(t),TT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function fA(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new d.\u0275RuntimeError(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function hA(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new d.\u0275RuntimeError(1e3,"");if(!r[t])throw new d.\u0275RuntimeError(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,l)=>{r=t(r,o,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function wI(n,e){AT(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Yx(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gA(n,e)})}(n,e),function Xx(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Jx(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gA(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Qx(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function sb(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function AT(n,e){const t=function rA(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(nA(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function iA(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(nA(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();sb(e._rawValidators,o),sb(e._rawAsyncValidators,o)}function gA(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const iM={provide:ao,useExisting:(0,d.forwardRef)(()=>ug)},CI=(()=>Promise.resolve(null))();let ug=(()=>{class n extends ao{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.EventEmitter,this.form=new ST({},_T(t),IT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){CI.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),wI(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){CI.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){CI.then(()=>{const r=this._findContainer(t.path),o=new ST({});(function mA(n,e){AT(n,e)})(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){CI.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){CI.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function vA(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275directiveInject(Os,10),d.\u0275\u0275directiveInject(Yh,10))},n.\u0275dir=d.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&d.\u0275\u0275listener("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.\u0275\u0275ProvidersFeature([iM]),d.\u0275\u0275InheritDefinitionFeature]}),n})();function _A(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function IA(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const EA=class extends pA{constructor(e=null,t,r){super(DT(t),TT(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nb(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=IA(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){_A(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){_A(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){IA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},aM={provide:Jh,useExisting:(0,d.forwardRef)(()=>Gy)},bA=(()=>Promise.resolve(null))();let Gy=(()=>{class n extends Jh{constructor(t,r,o,l,h){super(),this._changeDetectorRef=h,this.control=new EA,this._registered=!1,this.update=new d.EventEmitter,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function MT(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(l=>{l.constructor===ag?t=l:function nM(n){return Object.getPrototypeOf(n.constructor)===og}(l)?r=l:o=l}),o||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function xT(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){wI(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){bA.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,d.\u0275coerceToBoolean)(r);bA.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function rb(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275directiveInject(ao,9),d.\u0275\u0275directiveInject(Os,10),d.\u0275\u0275directiveInject(Yh,10),d.\u0275\u0275directiveInject(Zl,10),d.\u0275\u0275directiveInject(d.ChangeDetectorRef,8))},n.\u0275dir=d.\u0275\u0275defineDirective({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d.\u0275\u0275ProvidersFeature([aM]),d.\u0275\u0275InheritDefinitionFeature,d.\u0275\u0275NgOnChangesFeature]}),n})(),bI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const uM={provide:Zl,useExisting:(0,d.forwardRef)(()=>ab),multi:!0};let ab=(()=>{class n extends og{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=d.\u0275\u0275defineDirective({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&d.\u0275\u0275listener("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[d.\u0275\u0275ProvidersFeature([uM]),d.\u0275\u0275InheritDefinitionFeature]}),n})(),DA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=d.\u0275\u0275defineInjector({}),n})();function PA(n){return"number"==typeof n?n:parseInt(n,10)}let lg=(()=>{class n{constructor(){this._validator=JC}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):JC,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.\u0275\u0275defineDirective({type:n,features:[d.\u0275\u0275NgOnChangesFeature]}),n})();const DM={provide:Os,useExisting:(0,d.forwardRef)(()=>qy),multi:!0};let qy=(()=>{class n extends lg{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.\u0275coerceToBoolean,this.createValidator=t=>HS}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=d.\u0275\u0275defineDirective({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&d.\u0275\u0275attribute("required",r._enabled?"":null)},inputs:{required:"required"},features:[d.\u0275\u0275ProvidersFeature([DM]),d.\u0275\u0275InheritDefinitionFeature]}),n})();const AM={provide:Os,useExisting:(0,d.forwardRef)(()=>ub),multi:!0};let ub=(()=>{class n extends lg{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>PA(t),this.createValidator=t=>function zS(n){return e=>Qh(e.value)||!jS(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=d.\u0275\u0275defineDirective({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&d.\u0275\u0275attribute("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[d.\u0275\u0275ProvidersFeature([AM]),d.\u0275\u0275InheritDefinitionFeature]}),n})();const xM={provide:Os,useExisting:(0,d.forwardRef)(()=>lb),multi:!0};let lb=(()=>{class n extends lg{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>PA(t),this.createValidator=t=>function WS(n){return e=>jS(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=d.\u0275\u0275defineDirective({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&d.\u0275\u0275attribute("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[d.\u0275\u0275ProvidersFeature([xM]),d.\u0275\u0275InheritDefinitionFeature]}),n})(),RM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=d.\u0275\u0275defineInjector({imports:[DA]}),n})(),NM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=d.\u0275\u0275defineInjector({imports:[RM]}),n})(),cb=(()=>{class n{constructor(t){this.authService=t}login(t,r){return new Promise((o,l)=>{this.authService.signInWithEmailAndPassword(t,r).then(h=>o(h),h=>l(h))})}getAuth(){return this.authService.authState.pipe((0,it.U)(t=>t))}logout(){this.authService.signOut()}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275inject(yI))},n.\u0275prov=d.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PM(n,e){if(1&n){const t=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"li",40),d.\u0275\u0275listener("click",function(){const l=d.\u0275\u0275restoreView(t).$implicit,h=d.\u0275\u0275nextContext(2);return d.\u0275\u0275resetView(h.navegar(l.id))}),d.\u0275\u0275element(1,"img",41),d.\u0275\u0275elementStart(2,"p",42),d.\u0275\u0275text(3),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(4,"p",43),d.\u0275\u0275text(5),d.\u0275\u0275pipe(6,"currency"),d.\u0275\u0275elementEnd()()}if(2&n){const t=e.$implicit,r=d.\u0275\u0275nextContext(2);d.\u0275\u0275advance(1),d.\u0275\u0275property("src",r.plantillaImagen+t.imagen,d.\u0275\u0275sanitizeUrl),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(t.nombre),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind3(6,3,t.valor-.01,"ARS","$"))}}function kM(n,e){if(1&n&&(d.\u0275\u0275elementStart(0,"div",38),d.\u0275\u0275template(1,PM,7,7,"li",39),d.\u0275\u0275elementEnd()),2&n){const t=d.\u0275\u0275nextContext();d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",t.resultadoSearch)}}function FM(n,e){1&n&&(d.\u0275\u0275elementStart(0,"a",44),d.\u0275\u0275element(1,"i",45),d.\u0275\u0275text(2," Ingresar "),d.\u0275\u0275elementEnd())}function LM(n,e){if(1&n){const t=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"li",46)(1,"button",47),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(t);const o=d.\u0275\u0275reference(7),l=d.\u0275\u0275reference(5),h=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(h.adminBtn(o,l))}),d.\u0275\u0275element(2,"i",45),d.\u0275\u0275text(3," Administrador "),d.\u0275\u0275element(4,"i",48,49),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(6,"ul",50,51)(8,"li",52)(9,"a",53),d.\u0275\u0275element(10,"i",54),d.\u0275\u0275text(11," Agregar Producto "),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(12,"li",52)(13,"button",47),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(t);const o=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(o.cerrarSesion())}),d.\u0275\u0275element(14,"i",55),d.\u0275\u0275text(15," Salir "),d.\u0275\u0275elementEnd()()()()}}function VM(n,e){1&n&&(d.\u0275\u0275elementStart(0,"button",56),d.\u0275\u0275element(1,"i",45),d.\u0275\u0275text(2," Ingresar "),d.\u0275\u0275elementEnd())}function UM(n,e){1&n&&(d.\u0275\u0275elementStart(0,"button",57),d.\u0275\u0275element(1,"i",45),d.\u0275\u0275text(2," Administrador "),d.\u0275\u0275elementEnd())}function jM(n,e){if(1&n){const t=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"ul",58)(1,"li",52)(2,"button",59),d.\u0275\u0275element(3,"i",54),d.\u0275\u0275text(4," Agregar Producto "),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(5,"li",52)(6,"button",60),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(t);const o=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(o.cerrarSesion())}),d.\u0275\u0275element(7,"i",55),d.\u0275\u0275text(8," Salir "),d.\u0275\u0275elementEnd()()()}}let Xh=(()=>{class n{constructor(t,r,o){this.loginService=t,this.router=r,this.productoService=o,this.inputSearch="",this.plantillaImagen="assets/productos/",this.resultadoSearch=[{id:"",nombre:"",descripcion:"",categoria:"",valor:null,imagen:""}]}ngOnInit(){this.productoService.getProductos().subscribe(t=>{this.listaProductos=t}),this.loginService.getAuth().subscribe(t=>{this.isLogged=!!t})}cerrarSesion(){this.loginService.logout(),this.router.navigate(["/"])}adminBtn(t,r){t.classList.toggle("show"),r.classList.toggle("fa-angle-down"),r.classList.toggle("fa-angle-up")}menuBurger(t,r){t.classList.toggle("active"),r.classList.toggle("active")}buscador(){this.resultadoSearch=this.listaProductos.filter(t=>t.nombre.toUpperCase().includes(this.inputSearch.toUpperCase()))}navegar(t){this.router.navigate([`/producto/${t}`])}searchInput(t){t.classList.toggle("active")}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275directiveInject(cb),d.\u0275\u0275directiveInject(An),d.\u0275\u0275directiveInject(ig))},n.\u0275cmp=d.\u0275\u0275defineComponent({type:n,selectors:[["app-header"]],decls:41,vars:8,consts:[[1,"header"],[1,"header-nav"],[1,"nav-logo--container"],["routerLink","/"],["src","assets/logo.svg","alt","logo alura geek",1,"img-logo"],[1,"nav-search--container"],["type","search","placeholder","\xbfQu\xe9 desea buscar?",1,"search-input",3,"ngModel","ngModelChange","input"],["type","submit",1,"search-btn"],[1,"fa-solid","fa-magnifying-glass"],[1,"search-mini-container"],[1,"nav-search-mini--container"],["type","submit",1,"search-btn",3,"click"],[1,"search-mini--container"],["inputMini",""],["type","search","placeholder","\xbfQu\xe9 desea buscar?",1,"search-input-mini",3,"ngModel","ngModelChange","input"],["class","search-block",4,"ngIf"],[1,"nav-login--container"],["routerLink","/login","class","login-btn",4,"ngIf"],["class","menu-admin",4,"ngIf"],[1,"burger",3,"click"],["burger",""],[1,"barra","superior"],[1,"barra","media"],[1,"barra","inferior"],[1,"admin-menu"],["adminMenu",""],[1,"admin-button"],["routerLink","/login","class","burger-admin ingresar",4,"ngIf"],["class","burger-admin",4,"ngIf"],["class","admin-list-burger",4,"ngIf"],[1,"redes"],["src","assets/logo-celeste.svg","alt","Logo",1,"logo"],[1,"header-redes"],["href","https://www.github.com/brunoeacosta07/","target","_blank",1,"redes-link"],["src","assets/github.svg","alt","github","title","GitHub",1,"img-redes"],["href","https://www.linkedin.com/in/brunoeacosta/","target","_blank",1,"redes-link"],["src","assets/linkedin.svg","alt","linkedin","title","LinkedIn",1,"img-redes"],[1,"copy-redes"],[1,"search-block"],["class","search-item",3,"click",4,"ngFor","ngForOf"],[1,"search-item",3,"click"],["alt","img",1,"img-search",3,"src"],[1,"nombre-search"],[1,"valor-search"],["routerLink","/login",1,"login-btn"],[1,"fas","fa-user"],[1,"menu-admin"],[1,"login-btn",3,"click"],[1,"fas","fa-angle-down"],["arrow",""],[1,"admin-list"],["list",""],[1,"admin-item"],["routerLink","/agregar",1,"login-btn"],[1,"fas","fa-plus"],[1,"fas","fa-arrow-right-from-bracket"],["routerLink","/login",1,"burger-admin","ingresar"],[1,"burger-admin"],[1,"admin-list-burger"],["routerLink","/agregar",1,"burger-item"],[1,"burger-item",3,"click"]],template:function(t,r){if(1&t){const o=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"section",0)(1,"nav",1)(2,"div",2)(3,"a",3),d.\u0275\u0275element(4,"img",4),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(5,"div",5)(6,"input",6),d.\u0275\u0275listener("ngModelChange",function(h){return r.inputSearch=h})("input",function(){return r.buscador()}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(7,"button",7),d.\u0275\u0275element(8,"i",8),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(9,"div",9)(10,"div",10)(11,"button",11),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(o);const h=d.\u0275\u0275reference(14);return d.\u0275\u0275resetView(r.searchInput(h))}),d.\u0275\u0275element(12,"i",8),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(13,"div",12,13)(15,"input",14),d.\u0275\u0275listener("ngModelChange",function(h){return r.inputSearch=h})("input",function(){return r.buscador()}),d.\u0275\u0275elementEnd()()(),d.\u0275\u0275template(16,kM,2,1,"div",15),d.\u0275\u0275elementStart(17,"div",16),d.\u0275\u0275template(18,FM,3,0,"a",17),d.\u0275\u0275template(19,LM,16,0,"li",18),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(20,"div",19,20),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(o);const h=d.\u0275\u0275reference(21),m=d.\u0275\u0275reference(26);return d.\u0275\u0275resetView(r.menuBurger(h,m))}),d.\u0275\u0275element(22,"div",21)(23,"div",22)(24,"div",23),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(25,"div",24,25)(27,"div",26),d.\u0275\u0275template(28,VM,3,0,"button",27),d.\u0275\u0275template(29,UM,3,0,"button",28),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(30,"hr"),d.\u0275\u0275template(31,jM,9,0,"ul",29),d.\u0275\u0275elementStart(32,"div",30),d.\u0275\u0275element(33,"img",31),d.\u0275\u0275elementStart(34,"div",32)(35,"a",33),d.\u0275\u0275element(36,"img",34),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(37,"a",35),d.\u0275\u0275element(38,"img",36),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(39,"p",37),d.\u0275\u0275text(40,"Desarrollado por Bruno Acosta"),d.\u0275\u0275elementEnd()()()()}2&t&&(d.\u0275\u0275advance(6),d.\u0275\u0275property("ngModel",r.inputSearch),d.\u0275\u0275advance(9),d.\u0275\u0275property("ngModel",r.inputSearch),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",r.inputSearch.length>0),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",!r.isLogged),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",r.isLogged),d.\u0275\u0275advance(9),d.\u0275\u0275property("ngIf",!r.isLogged),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",r.isLogged),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",r.isLogged))},dependencies:[C.NgForOf,C.NgIf,dl,As,ag,vI,Gy,C.CurrencyPipe],styles:[".burger-admin[_ngcontent-%COMP%]{width:100%;text-align:center;padding:1rem 0;font-size:1.3rem;color:#fdfdfd;background-color:transparent;border:none;transition:all .4s ease-in}.burger-admin.ingresar[_ngcontent-%COMP%]{cursor:pointer}.burger-admin.ingresar[_ngcontent-%COMP%]:hover{color:#154857;background-color:#fdfdfdf2}.admin-list-burger[_ngcontent-%COMP%]{width:100%;padding:2rem 0;display:flex;flex-direction:column;gap:50px}.admin-item[_ngcontent-%COMP%]{list-style:none;width:100%}.burger-item[_ngcontent-%COMP%]{width:100%;text-align:center;text-decoration:none;cursor:pointer;padding:1rem 0;font-size:1rem;color:#fdfdfd;background-color:transparent;border:none;transition:all .4s ease-in}.burger-item[_ngcontent-%COMP%]:hover{color:#33b0d6;background-color:#fdfdfdf2}.redes[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:100%;padding:1rem;display:flex;flex-direction:column;align-items:center;gap:10px}.logo[_ngcontent-%COMP%]{width:150px}.header-redes[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.redes-link[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer}.img-redes[_ngcontent-%COMP%]{width:50px;transition:.3s all ease-in}.img-redes[_ngcontent-%COMP%]:hover{transform:scale(1.03)}.copy-redes[_ngcontent-%COMP%]{color:#fdfdfd}@media screen and (max-width: 720px){.header[_ngcontent-%COMP%]{padding:1.5rem .7rem}.img-logo[_ngcontent-%COMP%]{width:120px}.nav-login--container[_ngcontent-%COMP%]{display:none}.burger[_ngcontent-%COMP%]{display:inline-block}.nav-search--container[_ngcontent-%COMP%]{display:none}.nav-search-mini--container[_ngcontent-%COMP%]{display:flex}.search-block[_ngcontent-%COMP%]{width:600px;max-width:90%;max-height:400px;overflow-y:scroll;background-color:#fdfdfd;position:fixed;top:6.4rem;left:50%;transform:translate(-50%)}.search-item[_ngcontent-%COMP%]{border-bottom:1px solid rgba(21,72,87,.8)}}"]}),n})(),ef=(()=>{class n{constructor(){this.fechaActual=new Date}ngOnInit(){this.anio=this.fechaActual.getFullYear().toString()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.\u0275\u0275defineComponent({type:n,selectors:[["app-footer"]],decls:46,vars:1,consts:[[1,"footer"],[1,"footer-main"],["src","assets/logo-celeste.svg","alt","Logo Alura Geek",1,"img-footer"],[1,"footer-main-links"],[1,"footer-lista"],[1,"footer-lista--item"],["routerLink","/quienes-somos",1,"footer-lista--link"],[1,"footer-contacto"],[1,"contacto-form"],[1,"form-group"],["type","text","name","nombre","id","nombre","placeholder"," ",1,"form-input"],["for","nombre",1,"form-label"],["name","mensaje","id","mensaje","cols","30","rows","4","placeholder"," ",1,"form-input","mensaje"],["for","mensaje",1,"form-label"],[1,"submit-mensaje"],["type","submit"],[1,"footer-copy"],[1,"footer-redes"],["href","https://www.github.com/brunoeacosta07/","target","_blank",1,"redes-link"],["src","assets/github.svg","alt","github","title","GitHub",1,"img-redes"],["href","https://www.linkedin.com/in/brunoeacosta/","target","_blank",1,"redes-link"],["src","assets/linkedin.svg","alt","linkedin","title","LinkedIn",1,"img-redes"]],template:function(t,r){1&t&&(d.\u0275\u0275elementStart(0,"section",0)(1,"div",1),d.\u0275\u0275element(2,"img",2),d.\u0275\u0275elementStart(3,"div",3)(4,"ul",4)(5,"li",5)(6,"a",6),d.\u0275\u0275text(7,"Qui\xe9nes Somos"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(8,"li",5)(9,"a",6),d.\u0275\u0275text(10,"Politica de Privacidad"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(11,"li",5)(12,"a",6),d.\u0275\u0275text(13,"Programa de Fidelidad"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(14,"li",5)(15,"a",6),d.\u0275\u0275text(16,"Nuestras Tiendas"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(17,"li",5)(18,"a",6),d.\u0275\u0275text(19,"Quiero ser franquiciado"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(20,"li",5)(21,"a",6),d.\u0275\u0275text(22,"An\xfancie aqui"),d.\u0275\u0275elementEnd()()()(),d.\u0275\u0275elementStart(23,"div",7)(24,"p"),d.\u0275\u0275text(25,"Cont\xe1ctenos..."),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(26,"form",8)(27,"div",9),d.\u0275\u0275element(28,"input",10),d.\u0275\u0275elementStart(29,"label",11),d.\u0275\u0275text(30,"Nombre"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(31,"div",9),d.\u0275\u0275element(32,"textarea",12),d.\u0275\u0275elementStart(33,"label",13),d.\u0275\u0275text(34,"Escribe tu mensaje"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(35,"div",14)(36,"button",15),d.\u0275\u0275text(37,"Enviar Mensaje"),d.\u0275\u0275elementEnd()()()()(),d.\u0275\u0275elementStart(38,"div",16)(39,"p"),d.\u0275\u0275text(40),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(41,"div",17)(42,"a",18),d.\u0275\u0275element(43,"img",19),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(44,"a",20),d.\u0275\u0275element(45,"img",21),d.\u0275\u0275elementEnd()()()()),2&t&&(d.\u0275\u0275advance(40),d.\u0275\u0275textInterpolate1("Desarrollado por \xa9Bruno Acosta - ",r.anio," "))},dependencies:[As,bI,_I,ug],styles:[".submit-mensaje[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end}.submit-mensaje[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1rem;color:#33b0d6;border:2px solid #33B0D6;border-radius:5px;background-color:#154857;cursor:pointer;transition:all .3s ease-in-out}.submit-mensaje[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#fdfdfd;color:#154857}.footer-copy[_ngcontent-%COMP%]{padding:2.5rem 0;text-align:center;background-image:url(bg.9f6bb6609e122bfa.jpg)}.footer-copy[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#fdfdfd}.footer-redes[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:2rem;display:flex;align-items:center;gap:20px}.redes-link[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer}.img-redes[_ngcontent-%COMP%]{width:50px;transition:.3s all ease-in}.img-redes[_ngcontent-%COMP%]:hover{transform:scale(1.03)}@media screen and (max-width: 720px){.footer-copy[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:15px}.footer-redes[_ngcontent-%COMP%]{position:unset;display:flex;align-items:center;gap:20px}}@media screen and (max-width: 620px){.footer-main[_ngcontent-%COMP%]{flex-direction:column;justify-content:space-between;align-items:center;gap:10px}.footer-main-links[_ngcontent-%COMP%]{align-self:flex-start}.submit-mensaje[_ngcontent-%COMP%]{justify-content:center}.submit-mensaje[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:95%}}"]}),n})();const BM=["productoForm"],DI=function(n){return{"is-invalid":n}};let $M=(()=>{class n{constructor(t,r,o){this.productoService=t,this.flashMessages=r,this.router=o,this.producto={nombre:"",categoria:"",valor:null,imagen:"",descripcion:""}}ngOnInit(){console.log(this.productoForm)}agregarProducto({value:t,valid:r}){r?(this.productoService.addProducto(t),this.router.navigate(["/"])):this.flashMessages.show("Datos ingresados incorrectos",{cssClass:"alert-danger",timeout:4e3})}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275directiveInject(ig),d.\u0275\u0275directiveInject(sg.GQ),d.\u0275\u0275directiveInject(An))},n.\u0275cmp=d.\u0275\u0275defineComponent({type:n,selectors:[["app-agregar-producto"]],viewQuery:function(t,r){if(1&t&&d.\u0275\u0275viewQuery(BM,5),2&t){let o;d.\u0275\u0275queryRefresh(o=d.\u0275\u0275loadQuery())&&(r.productoForm=o.first)}},decls:59,vars:29,consts:[[1,"agregar-section"],["routerLink","/",1,"volver-btn"],[1,"fas","fa-arrow-left"],[1,"agregar-title"],[1,"agregar-container"],[3,"ngSubmit"],["productoForm","ngForm"],[1,"form-group"],["type","text","name","nombre","placeholder"," ","required","","minlength","2",1,"form-input",3,"ngModel","ngClass","ngModelChange"],["nombre","ngModel"],["for","nombre",1,"form-label"],[1,"invalid-feedback",3,"hidden"],["type","text","name","categoria","placeholder"," ","required","","minlength","2",1,"form-input",3,"ngModel","ngClass","ngModelChange"],["categoria","ngModel"],["for","categoria",1,"form-label"],["type","number","name","valor","placeholder"," ","required","",1,"form-input",3,"ngModel","ngClass","ngModelChange"],["valor","ngModel"],["for","valor",1,"form-label"],["type","text","name","imagen","placeholder"," ","required","","minlength","2",1,"form-input",3,"ngModel","ngClass","ngModelChange"],["imagen","ngModel"],["for","imagen",1,"form-label"],["name","descripcion","id","descripcion","cols","30","rows","6","placeholder"," ","required","","minlength","10","maxlength","250",1,"form-input","descripcion",3,"ngModel","ngClass","ngModelChange"],["descripcion","ngModel"],["for","descripcion",1,"form-label"],[1,"agregar-btn-container"],["type","submit",1,"agregar-btn"],[1,"fas","fa-plus"]],template:function(t,r){if(1&t){const o=d.\u0275\u0275getCurrentView();d.\u0275\u0275element(0,"app-header"),d.\u0275\u0275elementStart(1,"section",0)(2,"a",1),d.\u0275\u0275element(3,"i",2),d.\u0275\u0275text(4," Volver al inicio "),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(5,"h2",3),d.\u0275\u0275text(6,"Agregar Producto"),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(7,"flash-messages"),d.\u0275\u0275elementStart(8,"div",4)(9,"form",5,6),d.\u0275\u0275listener("ngSubmit",function(){d.\u0275\u0275restoreView(o);const h=d.\u0275\u0275reference(10);return d.\u0275\u0275resetView(r.agregarProducto(h))}),d.\u0275\u0275elementStart(11,"div",7)(12,"input",8,9),d.\u0275\u0275listener("ngModelChange",function(h){return r.producto.nombre=h}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(14,"label",10),d.\u0275\u0275text(15,"Nombre"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(16,"div",11),d.\u0275\u0275text(17," Nombre requerido "),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(18,"div",11),d.\u0275\u0275text(19," Debe contener al menos 2 caracteres "),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(20,"div",7)(21,"input",12,13),d.\u0275\u0275listener("ngModelChange",function(h){return r.producto.categoria=h}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(23,"label",14),d.\u0275\u0275text(24,"Categoria"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(25,"div",11),d.\u0275\u0275text(26," Categoria requerida "),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(27,"div",11),d.\u0275\u0275text(28," Debe contener al menos 2 caracteres "),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(29,"div",7)(30,"input",15,16),d.\u0275\u0275listener("ngModelChange",function(h){return r.producto.valor=h}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(32,"label",17),d.\u0275\u0275text(33,"Precio"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(34,"div",11),d.\u0275\u0275text(35," Precio requerido "),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(36,"div",7)(37,"input",18,19),d.\u0275\u0275listener("ngModelChange",function(h){return r.producto.imagen=h}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(39,"label",20),d.\u0275\u0275text(40,"Imagen"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(41,"div",11),d.\u0275\u0275text(42," Nombre de imagen requerido "),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(43,"div",11),d.\u0275\u0275text(44," Debe contener al menos 2 caracteres "),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(45,"div",7)(46,"textarea",21,22),d.\u0275\u0275listener("ngModelChange",function(h){return r.producto.descripcion=h}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(48,"label",23),d.\u0275\u0275text(49,"Descripcion"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(50,"div",11),d.\u0275\u0275text(51," Descripcion requerida "),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(52,"div",11),d.\u0275\u0275text(53," Debe contener entre 10 y 250 caracteres "),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(54,"div",24)(55,"button",25),d.\u0275\u0275element(56,"i",26),d.\u0275\u0275text(57," Agregar "),d.\u0275\u0275elementEnd()()()()(),d.\u0275\u0275element(58,"app-footer")}if(2&t){const o=d.\u0275\u0275reference(13),l=d.\u0275\u0275reference(22),h=d.\u0275\u0275reference(31),m=d.\u0275\u0275reference(38),E=d.\u0275\u0275reference(47);d.\u0275\u0275advance(12),d.\u0275\u0275property("ngModel",r.producto.nombre)("ngClass",d.\u0275\u0275pureFunction1(19,DI,o.errors&&o.touched)),d.\u0275\u0275advance(4),d.\u0275\u0275property("hidden",!(null!=o.errors&&o.errors.required)),d.\u0275\u0275advance(2),d.\u0275\u0275property("hidden",!(null!=o.errors&&o.errors.minlength)),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngModel",r.producto.categoria)("ngClass",d.\u0275\u0275pureFunction1(21,DI,l.errors&&l.touched)),d.\u0275\u0275advance(4),d.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.required)),d.\u0275\u0275advance(2),d.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.minlength)),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngModel",r.producto.valor)("ngClass",d.\u0275\u0275pureFunction1(23,DI,h.errors&&h.touched)),d.\u0275\u0275advance(4),d.\u0275\u0275property("hidden",!(null!=h.errors&&h.errors.required)),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngModel",r.producto.imagen)("ngClass",d.\u0275\u0275pureFunction1(25,DI,m.errors&&m.touched)),d.\u0275\u0275advance(4),d.\u0275\u0275property("hidden",!(null!=m.errors&&m.errors.required)),d.\u0275\u0275advance(2),d.\u0275\u0275property("hidden",!(null!=m.errors&&m.errors.minlength)),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngModel",r.producto.descripcion)("ngClass",d.\u0275\u0275pureFunction1(27,DI,E.errors&&E.touched)),d.\u0275\u0275advance(4),d.\u0275\u0275property("hidden",!(null!=E.errors&&E.errors.required)),d.\u0275\u0275advance(2),d.\u0275\u0275property("hidden",!(null!=E.errors&&E.errors.minlength))}},dependencies:[C.NgClass,As,bI,ag,ab,vI,_I,qy,ub,lb,Gy,ug,sg.cS,Xh,ef],styles:[".agregar-section[_ngcontent-%COMP%]{padding-top:6.2rem;padding-bottom:3rem}.volver-btn[_ngcontent-%COMP%]{margin-top:1rem;margin-left:1rem;text-decoration:none;font-size:1rem;padding:.5rem 1rem;color:#154857;border:2px solid #154857;border-radius:5px;background-color:#f2f2f2;transition:all .4s ease-in}.volver-btn[_ngcontent-%COMP%]:hover{color:#33b0d6;border-color:#33b0d6}.agregar-title[_ngcontent-%COMP%]{margin-top:1.5rem;font-size:2rem;text-align:center}.agregar-container[_ngcontent-%COMP%]{width:100%;max-width:700px;margin:1rem auto;padding:1.5rem;border-radius:15px;box-shadow:-6px 6px 10px #0000004d,6px -6px 10px #0000004d}.form-group[_ngcontent-%COMP%]{position:relative;padding:.5rem;margin-bottom:1.3rem;--color: #fdfdfd}.form-input[_ngcontent-%COMP%]{width:100%;font-size:1rem;color:#33b0d6;padding:1rem;border:2px solid #33B0D6;border-radius:10px;outline:none;background-color:transparent}.form-label[_ngcontent-%COMP%]{color:#33b0d6;background-color:#fdfdfd;cursor:pointer;position:absolute;top:5px;left:16px;transform:translateY(15px);transition:transform .5s,color .3s}.form-input[_ngcontent-%COMP%]:focus + .form-label[_ngcontent-%COMP%], .form-input[_ngcontent-%COMP%]:not(:placeholder-shown) + .form-label[_ngcontent-%COMP%]{transform:translateY(-12px) scale(.99);transform-origin:top left;--color: #33B0D6;padding:.3rem .5rem}.form-input.descripcion[_ngcontent-%COMP%]:focus + .form-label[_ngcontent-%COMP%], .form-input.descripcion[_ngcontent-%COMP%]:not(:placeholder-shown) + .form-label[_ngcontent-%COMP%]{transform:translateY(-13px) scale(.99);transform-origin:top left}.agregar-btn-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.agregar-btn[_ngcontent-%COMP%]{width:95%;font-size:1rem;padding:.5rem 1rem;color:#33b0d6;border:2px solid #33B0D6;border-radius:5px;background-color:#fdfdfd;cursor:pointer;transition:all .3s ease-in-out}.agregar-btn[_ngcontent-%COMP%]:hover{background-color:#154857;border-color:#154857;color:#fdfdfd}"]}),n})();function HM(n,e){if(1&n){const t=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",7),d.\u0275\u0275listener("click",function(){const l=d.\u0275\u0275restoreView(t).$implicit,h=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(h.irAProducto(l.id))}),d.\u0275\u0275elementStart(1,"div",8),d.\u0275\u0275element(2,"img",9),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(3,"hr"),d.\u0275\u0275elementStart(4,"h4",10),d.\u0275\u0275text(5),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(6,"p",11),d.\u0275\u0275text(7),d.\u0275\u0275pipe(8,"currency"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(9,"a",12),d.\u0275\u0275text(10," Ver "),d.\u0275\u0275element(11,"i",13),d.\u0275\u0275elementEnd()()}if(2&n){const t=e.$implicit,r=d.\u0275\u0275nextContext();d.\u0275\u0275advance(2),d.\u0275\u0275property("src",r.plantillaImagen+t.imagen,d.\u0275\u0275sanitizeUrl)("alt",t.nombre),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(t.nombre),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind3(8,5,t.valor-.01,"ARS","$")),d.\u0275\u0275advance(2),d.\u0275\u0275propertyInterpolate1("routerLink","/producto/",t.id,"")}}let GM=(()=>{class n{constructor(t,r){this.productoService=t,this.router=r,this.plantillaImagen="assets/productos/"}ngOnInit(){this.productoService.getProductos().subscribe(t=>{this.productos=t})}irAProducto(t){this.router.navigate([`/producto/${t}`])}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275directiveInject(ig),d.\u0275\u0275directiveInject(An))},n.\u0275cmp=d.\u0275\u0275defineComponent({type:n,selectors:[["app-all-products"]],decls:11,vars:1,consts:[[1,"all-products--section"],[1,"btn-volver--container"],["routerLink","/",1,"btn-volver"],[1,"fas","fa-arrow-left"],[1,"zona-title"],[1,"zona"],["class","card",3,"click",4,"ngFor","ngForOf"],[1,"card",3,"click"],[1,"img-card--container"],[3,"src","alt"],[1,"card-title"],[1,"card-price"],[1,"card-link",3,"routerLink"],[1,"fas","fa-arrow-right"]],template:function(t,r){1&t&&(d.\u0275\u0275element(0,"app-header"),d.\u0275\u0275elementStart(1,"section",0)(2,"div",1)(3,"a",2),d.\u0275\u0275element(4,"i",3),d.\u0275\u0275text(5," Volver al inicio "),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(6,"h3",4),d.\u0275\u0275text(7,"Todos los productos"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(8,"div",5),d.\u0275\u0275template(9,HM,12,9,"div",6),d.\u0275\u0275elementEnd()(),d.\u0275\u0275element(10,"app-footer")),2&t&&(d.\u0275\u0275advance(9),d.\u0275\u0275property("ngForOf",r.productos))},dependencies:[C.NgForOf,As,Xh,ef,C.CurrencyPipe],styles:[".all-products--section[_ngcontent-%COMP%]{padding:5.2rem 1.5rem 2.5rem}.btn-volver--container[_ngcontent-%COMP%]{padding:2rem 0;padding-bottom:0;width:100%;display:flex;justify-content:flex-start;align-items:center}.btn-volver[_ngcontent-%COMP%]{text-decoration:none;font-size:1rem;padding:.5rem 1rem;color:#154857;border:2px solid #154857;border-radius:5px;background-color:#f2f2f2;transition:all .3s ease-in}.btn-volver[_ngcontent-%COMP%]:hover{color:#fdfdfd;background-color:#154857}.zona-title[_ngcontent-%COMP%]{padding-top:2rem}"]}),n})();const qM=["productoForm"],FT=function(n){return{"is-invalid":n}};let zM=(()=>{class n{constructor(t,r,o,l){this.productoService=t,this.flashMessages=r,this.route=o,this.router=l,this.producto={nombre:"",categoria:"",valor:null,imagen:"",descripcion:"",id:""}}ngOnInit(){this.id=this.route.snapshot.params.id,this.productoService.getProducto(this.id).subscribe(t=>{this.producto=t})}modificarProducto({valid:r}){r?(this.productoService.modificarProducto(this.producto),this.router.navigate([`/producto/${this.id}`])):this.flashMessages.show("Datos ingresados incorrectos",{cssClass:"alert-danger",timeout:4e3})}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275directiveInject(ig),d.\u0275\u0275directiveInject(sg.GQ),d.\u0275\u0275directiveInject(Hs),d.\u0275\u0275directiveInject(An))},n.\u0275cmp=d.\u0275\u0275defineComponent({type:n,selectors:[["app-editar"]],viewQuery:function(t,r){if(1&t&&d.\u0275\u0275viewQuery(qM,5),2&t){let o;d.\u0275\u0275queryRefresh(o=d.\u0275\u0275loadQuery())&&(r.productoForm=o.first)}},decls:40,vars:18,consts:[[1,"editar-section"],[1,"volver-btn",3,"routerLink"],[1,"fas","fa-arrow-left"],[1,"editar-title"],[1,"editar-container"],[3,"ngSubmit"],["productoForm","ngForm"],[1,"form-group"],["type","text","name","nombre","placeholder"," ","required","","minlength","2",1,"form-input",3,"ngModel","ngClass","ngModelChange"],["nombre","ngModel"],["for","nombre",1,"form-label"],[1,"invalid-feedback",3,"hidden"],["type","number","name","valor","placeholder"," ","required","",1,"form-input",3,"ngModel","ngClass","ngModelChange"],["valor","ngModel"],["for","valor",1,"form-label"],["name","descripcion","id","descripcion","cols","30","rows","6","placeholder"," ","required","","minlength","10","maxlength","250",1,"form-input","descripcion",3,"ngModel","ngClass","ngModelChange"],["descripcion","ngModel"],["for","descripcion",1,"form-label"],[1,"editar-btn-container"],["type","submit",1,"editar-btn"]],template:function(t,r){if(1&t){const o=d.\u0275\u0275getCurrentView();d.\u0275\u0275element(0,"app-header"),d.\u0275\u0275elementStart(1,"section",0)(2,"a",1),d.\u0275\u0275element(3,"i",2),d.\u0275\u0275text(4," Volver "),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(5,"h2",3),d.\u0275\u0275text(6,"Modificar"),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(7,"flash-messages"),d.\u0275\u0275elementStart(8,"div",4)(9,"form",5,6),d.\u0275\u0275listener("ngSubmit",function(){d.\u0275\u0275restoreView(o);const h=d.\u0275\u0275reference(10);return d.\u0275\u0275resetView(r.modificarProducto(h))}),d.\u0275\u0275elementStart(11,"div",7)(12,"input",8,9),d.\u0275\u0275listener("ngModelChange",function(h){return r.producto.nombre=h}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(14,"label",10),d.\u0275\u0275text(15,"Nombre"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(16,"div",11),d.\u0275\u0275text(17," Nombre requerido "),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(18,"div",11),d.\u0275\u0275text(19," Debe contener al menos 2 caracteres "),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(20,"div",7)(21,"input",12,13),d.\u0275\u0275listener("ngModelChange",function(h){return r.producto.valor=h}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(23,"label",14),d.\u0275\u0275text(24,"Precio"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(25,"div",11),d.\u0275\u0275text(26," Precio requerido "),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(27,"div",7)(28,"textarea",15,16),d.\u0275\u0275listener("ngModelChange",function(h){return r.producto.descripcion=h}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(30,"label",17),d.\u0275\u0275text(31,"Descripcion"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(32,"div",11),d.\u0275\u0275text(33," Descripcion requerida "),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(34,"div",11),d.\u0275\u0275text(35," Debe contener entre 10 y 250 caracteres "),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(36,"div",18)(37,"button",19),d.\u0275\u0275text(38," Modificar "),d.\u0275\u0275elementEnd()()()()(),d.\u0275\u0275element(39,"app-footer")}if(2&t){const o=d.\u0275\u0275reference(13),l=d.\u0275\u0275reference(22),h=d.\u0275\u0275reference(29);d.\u0275\u0275advance(2),d.\u0275\u0275propertyInterpolate1("routerLink","/producto/",r.producto.id,""),d.\u0275\u0275advance(10),d.\u0275\u0275property("ngModel",r.producto.nombre)("ngClass",d.\u0275\u0275pureFunction1(12,FT,o.errors&&o.touched)),d.\u0275\u0275advance(4),d.\u0275\u0275property("hidden",!(null!=o.errors&&o.errors.required)),d.\u0275\u0275advance(2),d.\u0275\u0275property("hidden",!(null!=o.errors&&o.errors.minlength)),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngModel",r.producto.valor)("ngClass",d.\u0275\u0275pureFunction1(14,FT,l.errors&&l.touched)),d.\u0275\u0275advance(4),d.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.required)),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngModel",r.producto.descripcion)("ngClass",d.\u0275\u0275pureFunction1(16,FT,h.errors&&h.touched)),d.\u0275\u0275advance(4),d.\u0275\u0275property("hidden",!(null!=h.errors&&h.errors.required)),d.\u0275\u0275advance(2),d.\u0275\u0275property("hidden",!(null!=h.errors&&h.errors.minlength))}},dependencies:[C.NgClass,As,bI,ag,ab,vI,_I,qy,ub,lb,Gy,ug,sg.cS,Xh,ef],styles:[".editar-section[_ngcontent-%COMP%]{padding:2rem 1rem;margin-top:5.2rem}.volver-btn[_ngcontent-%COMP%]{margin-top:1rem;margin-left:1rem;text-decoration:none;font-size:1rem;padding:.5rem 1rem;color:#154857;border:2px solid #154857;border-radius:5px;background-color:#f2f2f2;transition:all .4s ease-in}.volver-btn[_ngcontent-%COMP%]:hover{color:#33b0d6;border-color:#33b0d6}.editar-title[_ngcontent-%COMP%]{margin-top:1.5rem;font-size:2rem;text-align:center}.editar-container[_ngcontent-%COMP%]{width:100%;max-width:700px;margin:1rem auto;padding:1.5rem;border-radius:15px;box-shadow:-6px 6px 10px #0000004d,6px -6px 10px #0000004d}.form-group[_ngcontent-%COMP%]{position:relative;padding:.5rem;margin-bottom:1.3rem;--color: #fdfdfd}.form-input[_ngcontent-%COMP%]{width:100%;font-size:1rem;font-family:Lato,sans-serif;color:#464646;padding:1rem;border:2px solid #33B0D6;border-radius:10px;outline:none;background-color:transparent}.form-label[_ngcontent-%COMP%]{color:#33b0d6;cursor:pointer;background-color:#fdfdfd;position:absolute;top:5px;left:16px;transform:translateY(15px);transition:transform .5s,color .3s}.form-input[_ngcontent-%COMP%]:focus + .form-label[_ngcontent-%COMP%], .form-input[_ngcontent-%COMP%]:not(:placeholder-shown) + .form-label[_ngcontent-%COMP%]{transform:translateY(-12px) scale(.99);transform-origin:top left;--color: #33B0D6;padding:.3rem .5rem}.form-input.descripcion[_ngcontent-%COMP%]:focus + .form-label[_ngcontent-%COMP%], .form-input.descripcion[_ngcontent-%COMP%]:not(:placeholder-shown) + .form-label[_ngcontent-%COMP%]{transform:translateY(-13px) scale(.99);transform-origin:top left}.editar-btn-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.editar-btn[_ngcontent-%COMP%]{width:95%;font-size:1rem;padding:.5rem 1rem;color:#33b0d6;border:2px solid #33B0D6;border-radius:5px;background-color:#fdfdfd;cursor:pointer;transition:all .3s ease-in-out}.editar-btn[_ngcontent-%COMP%]:hover{background-color:#154857;border-color:#154857;color:#fdfdfd}"]}),n})();function WM(n,e){if(1&n){const t=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",19),d.\u0275\u0275listener("click",function(){const l=d.\u0275\u0275restoreView(t).$implicit,h=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(h.irAProducto(l.id))}),d.\u0275\u0275elementStart(1,"div",20),d.\u0275\u0275element(2,"img",21),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(3,"hr"),d.\u0275\u0275elementStart(4,"h4",22),d.\u0275\u0275text(5),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(6,"p",23),d.\u0275\u0275text(7),d.\u0275\u0275pipe(8,"currency"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(9,"a",24),d.\u0275\u0275text(10," Ver "),d.\u0275\u0275element(11,"i",3),d.\u0275\u0275elementEnd()()}if(2&n){const t=e.$implicit,r=d.\u0275\u0275nextContext();d.\u0275\u0275advance(2),d.\u0275\u0275property("src",r.plantillaImagen+t.imagen,d.\u0275\u0275sanitizeUrl)("alt",t.nombre),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(t.nombre),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind3(8,5,t.valor-.01,"ARS","$")),d.\u0275\u0275advance(2),d.\u0275\u0275propertyInterpolate1("routerLink","/producto/",t.id,"")}}function KM(n,e){if(1&n){const t=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",19),d.\u0275\u0275listener("click",function(){const l=d.\u0275\u0275restoreView(t).$implicit,h=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(h.irAProducto(l.id))}),d.\u0275\u0275elementStart(1,"div",20),d.\u0275\u0275element(2,"img",21),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(3,"hr"),d.\u0275\u0275elementStart(4,"h4",22),d.\u0275\u0275text(5),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(6,"p",23),d.\u0275\u0275text(7),d.\u0275\u0275pipe(8,"currency"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(9,"a",24),d.\u0275\u0275text(10," Ver "),d.\u0275\u0275element(11,"i",3),d.\u0275\u0275elementEnd()()}if(2&n){const t=e.$implicit,r=d.\u0275\u0275nextContext();d.\u0275\u0275advance(2),d.\u0275\u0275property("src",r.plantillaImagen+t.imagen,d.\u0275\u0275sanitizeUrl)("alt",t.nombre),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(t.nombre),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind3(8,5,t.valor-.01,"ARS","$")),d.\u0275\u0275advance(2),d.\u0275\u0275propertyInterpolate1("routerLink","/producto/",t.id,"")}}function ZM(n,e){if(1&n){const t=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",19),d.\u0275\u0275listener("click",function(){const l=d.\u0275\u0275restoreView(t).$implicit,h=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(h.irAProducto(l.id))}),d.\u0275\u0275elementStart(1,"div",20),d.\u0275\u0275element(2,"img",21),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(3,"hr"),d.\u0275\u0275elementStart(4,"h4",22),d.\u0275\u0275text(5),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(6,"p",23),d.\u0275\u0275text(7),d.\u0275\u0275pipe(8,"currency"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(9,"a",24),d.\u0275\u0275text(10," Ver "),d.\u0275\u0275element(11,"i",3),d.\u0275\u0275elementEnd()()}if(2&n){const t=e.$implicit,r=d.\u0275\u0275nextContext();d.\u0275\u0275advance(2),d.\u0275\u0275property("src",r.plantillaImagen+t.imagen,d.\u0275\u0275sanitizeUrl)("alt",t.nombre),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(t.nombre),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind3(8,5,t.valor-.01,"ARS","$")),d.\u0275\u0275advance(2),d.\u0275\u0275propertyInterpolate1("routerLink","/producto/",t.id,"")}}function QM(n,e){if(1&n){const t=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",19),d.\u0275\u0275listener("click",function(){const l=d.\u0275\u0275restoreView(t).$implicit,h=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(h.irAProducto(l.id))}),d.\u0275\u0275elementStart(1,"div",20),d.\u0275\u0275element(2,"img",21),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(3,"hr"),d.\u0275\u0275elementStart(4,"h4",22),d.\u0275\u0275text(5),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(6,"p",23),d.\u0275\u0275text(7),d.\u0275\u0275pipe(8,"currency"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(9,"a",24),d.\u0275\u0275text(10," Ver "),d.\u0275\u0275element(11,"i",3),d.\u0275\u0275elementEnd()()}if(2&n){const t=e.$implicit,r=d.\u0275\u0275nextContext();d.\u0275\u0275advance(2),d.\u0275\u0275property("src",r.plantillaImagen+t.imagen,d.\u0275\u0275sanitizeUrl)("alt",t.nombre),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(t.nombre),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind3(8,5,t.valor-.01,"ARS","$")),d.\u0275\u0275advance(2),d.\u0275\u0275propertyInterpolate1("routerLink","/producto/",t.id,"")}}function YM(n,e){if(1&n){const t=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",19),d.\u0275\u0275listener("click",function(){const l=d.\u0275\u0275restoreView(t).$implicit,h=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(h.irAProducto(l.id))}),d.\u0275\u0275elementStart(1,"div",20),d.\u0275\u0275element(2,"img",21),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(3,"hr"),d.\u0275\u0275elementStart(4,"h4",22),d.\u0275\u0275text(5),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(6,"p",23),d.\u0275\u0275text(7),d.\u0275\u0275pipe(8,"currency"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(9,"a",24),d.\u0275\u0275text(10," Ver "),d.\u0275\u0275element(11,"i",3),d.\u0275\u0275elementEnd()()}if(2&n){const t=e.$implicit,r=d.\u0275\u0275nextContext();d.\u0275\u0275advance(2),d.\u0275\u0275property("src",r.plantillaImagen+t.imagen,d.\u0275\u0275sanitizeUrl)("alt",t.nombre),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(t.nombre),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind3(8,5,t.valor-.01,"ARS","$")),d.\u0275\u0275advance(2),d.\u0275\u0275propertyInterpolate1("routerLink","/producto/",t.id,"")}}let JM=(()=>{class n{constructor(t,r){this.productoService=t,this.router=r,this.plantillaImagen="assets/productos/",this.productosMarvel=[],this.productosConsolas=[],this.productosStarWars=[],this.productosHarryPotter=[],this.productosJuegos=[]}ngOnInit(){this.ruta="/"==this.router.url,this.fecha=new Date,this.mes=this.establecerMes(this.fecha.getMonth()),this.sliders=Array.from(document.querySelectorAll(".slide")),this.productoService.getProductos().subscribe(t=>{this.productosConsolas=t.filter(r=>"consolas"==r.categoria),this.productosJuegos=t.filter(r=>"juegos"==r.categoria),this.productosHarryPotter=t.filter(r=>"harry-potter"==r.categoria),this.productosMarvel=t.filter(r=>"marvel"==r.categoria),this.productosStarWars=t.filter(r=>"star-wars"==r.categoria)}),"/"==this.router.url&&setInterval(()=>{this.changePosition(1)},5e3)}establecerMes(t){let r;switch(t+1){case 1:r="Enero";break;case 2:r="Febrero";break;case 3:r="Marzo";break;case 4:r="Abril";break;case 5:r="Mayo";break;case 6:r="Junio";break;case 7:r="Julio";break;case 8:r="Agosto";break;case 9:r="Septiembre";break;case 10:r="Octubre";break;case 11:r="Noviembre";break;case 12:r="Diciembre"}return r}AchangePosition(t){if(!this.ruta)return null;this.changePosition(t)}changePosition(t){let r=0;"/"==this.router.url&&(r=Number(document.querySelector(".slide.show").dataset.id));let o=r;o+=t,(0===o||o==this.sliders.length+1)&&(o=0===o?this.sliders.length:1),this.sliders[r-1]?.classList.toggle("show"),this.sliders[o-1]?.classList.toggle("show")}irAProducto(t){this.router.navigate([`/producto/${t}`])}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275directiveInject(ig),d.\u0275\u0275directiveInject(An))},n.\u0275cmp=d.\u0275\u0275defineComponent({type:n,selectors:[["app-home"]],decls:52,vars:6,consts:[["id","before",1,"slider--arrow","before",3,"click"],[1,"fas","fa-arrow-left"],["id","next",1,"slider--arrow","after",3,"click"],[1,"fas","fa-arrow-right"],[1,"banner-promos"],["data-id","1",1,"slide","xbox","show"],["data-id","2",1,"slide","marvel"],["data-id","3",1,"slide","dualsense"],["data-id","4",1,"slide","macbook"],[1,"home"],[1,"btn-ver--container"],["routerLink","all-products",1,"btn-ver"],[1,"zona-title"],[1,"zona","consolas"],["class","card",3,"click",4,"ngFor","ngForOf"],[1,"zona","juegos"],[1,"zona","marvel"],[1,"zona","star-wars"],[1,"zona","harry-potter"],[1,"card",3,"click"],[1,"img-card--container"],[3,"src","alt"],[1,"card-title"],[1,"card-price"],[1,"card-link",3,"routerLink"]],template:function(t,r){1&t&&(d.\u0275\u0275element(0,"app-header"),d.\u0275\u0275elementStart(1,"button",0),d.\u0275\u0275listener("click",function(){return r.AchangePosition(-1)}),d.\u0275\u0275element(2,"i",1),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(3,"button",2),d.\u0275\u0275listener("click",function(){return r.AchangePosition(1)}),d.\u0275\u0275element(4,"i",3),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(5,"div",4)(6,"div",5)(7,"h2"),d.\u0275\u0275text(8,"Descuentos exclusivos en juegos"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(9,"p"),d.\u0275\u0275text(10,"Promocion exclusiva para juegos de Xbox Series X"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(11,"div",6)(12,"h2"),d.\u0275\u0275text(13,"3x2 en Funko Pop Marvel"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(14,"p"),d.\u0275\u0275text(15,"las mejores colecciones de Marvel en Alura Geek"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(16,"div",7)(17,"h2"),d.\u0275\u0275text(18),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(19,"p"),d.\u0275\u0275text(20,"10% off en el nuevo joystick DualSense para tu PS5"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(21,"div",8)(22,"h2"),d.\u0275\u0275text(23,"Semana Apple"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(24,"p"),d.\u0275\u0275text(25,"15% de descuento en toda la linea de MacBooks"),d.\u0275\u0275elementEnd()()(),d.\u0275\u0275elementStart(26,"section",9)(27,"div",10)(28,"a",11),d.\u0275\u0275text(29," Ver todo "),d.\u0275\u0275element(30,"i",3),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(31,"h3",12),d.\u0275\u0275text(32,"Consolas y accesorios"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(33,"div",13),d.\u0275\u0275template(34,WM,12,9,"div",14),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(35,"h3",12),d.\u0275\u0275text(36,"Videojuegos"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(37,"div",15),d.\u0275\u0275template(38,KM,12,9,"div",14),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(39,"h3",12),d.\u0275\u0275text(40,"Marvel"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(41,"div",16),d.\u0275\u0275template(42,ZM,12,9,"div",14),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(43,"h3",12),d.\u0275\u0275text(44,"Star-Wars"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(45,"div",17),d.\u0275\u0275template(46,QM,12,9,"div",14),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(47,"h3",12),d.\u0275\u0275text(48,"Harry Potter"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(49,"div",18),d.\u0275\u0275template(50,YM,12,9,"div",14),d.\u0275\u0275elementEnd()(),d.\u0275\u0275element(51,"app-footer")),2&t&&(d.\u0275\u0275advance(18),d.\u0275\u0275textInterpolate1("Promo ",r.mes," DualSense PS5"),d.\u0275\u0275advance(16),d.\u0275\u0275property("ngForOf",r.productosConsolas),d.\u0275\u0275advance(4),d.\u0275\u0275property("ngForOf",r.productosJuegos),d.\u0275\u0275advance(4),d.\u0275\u0275property("ngForOf",r.productosMarvel),d.\u0275\u0275advance(4),d.\u0275\u0275property("ngForOf",r.productosStarWars),d.\u0275\u0275advance(4),d.\u0275\u0275property("ngForOf",r.productosHarryPotter))},dependencies:[C.NgForOf,As,Xh,ef,C.CurrencyPipe],styles:[".banner-promos[_ngcontent-%COMP%]{width:100%;height:280px;margin-top:5.2rem;display:grid;grid-template-columns:50px 1fr 50px}.slider--arrow[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;font-size:1.5rem;background-color:#ffffff80;border:2px solid #154857;border-radius:50%;color:#154857;cursor:pointer;z-index:99}.slider--arrow.before[_ngcontent-%COMP%]{position:absolute;top:200px;left:1rem}.slider--arrow.after[_ngcontent-%COMP%]{position:absolute;top:200px;right:1rem}.slide[_ngcontent-%COMP%]{grid-column:1/4;grid-row:1/2;height:100%;display:flex;flex-direction:column;justify-content:flex-end;align-items:center;gap:10px;background-position:center;background-size:cover;background-repeat:no-repeat;padding-bottom:1rem;opacity:0;pointer-events:none;transition:opacity 1.5s}.slide.show[_ngcontent-%COMP%]{opacity:1;pointer-events:unset}.slide[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fdfdfd;font-size:2.2rem;font-weight:600;text-transform:uppercase;padding:1rem;text-shadow:4px 4px 7px rgba(0,0,0,.9)}.slide[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fdfdfd;font-size:1.5rem;font-weight:600;text-shadow:2px 2px 6px rgba(0,0,0,.9)}.slide.xbox[_ngcontent-%COMP%]{background-image:url(juegos-xbox.62c3f58007131ea6.jpg)}.slide.marvel[_ngcontent-%COMP%]{background-image:url(funko-marvel.38e9284c516ea693.jpg)}.slide.dualsense[_ngcontent-%COMP%]{background-image:url(dualsense.f1e600ee17ddbbb1.jpg)}.slide.macbook[_ngcontent-%COMP%]{background-image:url(macbook.7e4d7afc7911b3bd.png)}.home[_ngcontent-%COMP%]{padding:1rem 1.5rem 2.5rem}.btn-ver--container[_ngcontent-%COMP%]{padding:1rem 0;padding-bottom:0;width:100%;display:flex;justify-content:flex-end;align-items:center}.btn-ver[_ngcontent-%COMP%]{text-decoration:none;font-size:1rem;padding:.5rem 1rem;color:#154857;border:2px solid #154857;border-radius:5px;background-color:#f2f2f2;transition:all .3s ease-in}.btn-ver[_ngcontent-%COMP%]:hover{color:#fdfdfd;background-color:#154857}@media screen and (max-width: 720px){.slider--arrow.before[_ngcontent-%COMP%]{left:.2rem}.slider--arrow.after[_ngcontent-%COMP%]{right:.2rem}}"]}),n})(),XM=(()=>{class n{constructor(t,r,o){this.router=t,this.flashMessages=r,this.loginService=o,this.email="",this.password=""}ngOnInit(){this.loginService.getAuth().subscribe(t=>{t&&this.router.navigate(["/"])})}login(){this.loginService.login(this.email,this.password).then(t=>{this.router.navigate(["/"])}).catch(t=>{this.flashMessages.show("Usuario y/o contrase\xf1a invalido/s.",{cssClass:"alert-danger",timeout:4e3})})}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275directiveInject(An),d.\u0275\u0275directiveInject(sg.GQ),d.\u0275\u0275directiveInject(cb))},n.\u0275cmp=d.\u0275\u0275defineComponent({type:n,selectors:[["app-login"]],decls:22,vars:2,consts:[[1,"login-section"],["routerLink","/",1,"volver-btn"],[1,"fas","fa-arrow-left"],[1,"login-title"],[1,"fas","fa-user"],[1,"login-container"],[3,"submit"],[1,"form-group"],["type","email","name","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","email",1,"form-label"],["type","password","name","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],[1,"btn-ingresar-container"],["type","submit","value","Ingresar",1,"btn-ingresar"]],template:function(t,r){1&t&&(d.\u0275\u0275element(0,"app-header"),d.\u0275\u0275elementStart(1,"section",0)(2,"a",1),d.\u0275\u0275element(3,"i",2),d.\u0275\u0275text(4," Volver al inicio "),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(5,"h2",3),d.\u0275\u0275element(6,"i",4),d.\u0275\u0275text(7," Iniciar Sesion"),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(8,"flash-messages"),d.\u0275\u0275elementStart(9,"div",5)(10,"form",6),d.\u0275\u0275listener("submit",function(){return r.login()}),d.\u0275\u0275elementStart(11,"div",7)(12,"input",8),d.\u0275\u0275listener("ngModelChange",function(l){return r.email=l}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(13,"label",9),d.\u0275\u0275text(14,"Email"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(15,"div",7)(16,"input",10),d.\u0275\u0275listener("ngModelChange",function(l){return r.password=l}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(17,"label",11),d.\u0275\u0275text(18,"Contrase\xf1a"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(19,"div",12),d.\u0275\u0275element(20,"input",13),d.\u0275\u0275elementEnd()()()(),d.\u0275\u0275element(21,"app-footer")),2&t&&(d.\u0275\u0275advance(12),d.\u0275\u0275property("ngModel",r.email),d.\u0275\u0275advance(4),d.\u0275\u0275property("ngModel",r.password))},dependencies:[As,bI,ag,vI,_I,qy,Gy,ug,sg.cS,Xh,ef],styles:[".login-section[_ngcontent-%COMP%]{margin-top:5.2rem;padding:2rem 1rem}.volver-btn[_ngcontent-%COMP%]{margin-top:1rem;margin-left:1rem;text-decoration:none;font-size:1rem;padding:.5rem 1rem;color:#154857;border:2px solid #154857;border-radius:5px;background-color:#f2f2f2;transition:all .4s ease-in}.volver-btn[_ngcontent-%COMP%]:hover{color:#33b0d6;border-color:#33b0d6}.login-title[_ngcontent-%COMP%]{font-size:2rem;text-align:center;padding:1rem 0;color:#154857}.login-container[_ngcontent-%COMP%]{padding:1rem;width:400px;max-width:100%;margin:1rem auto;border-radius:10px;box-shadow:-4px 4px 8px #0000004d,4px -4px 8px #0000004d}.form-group[_ngcontent-%COMP%]{position:relative;padding:.5rem;margin-bottom:1.3rem;--color: #fdfdfd}.form-input[_ngcontent-%COMP%]{width:100%;font-size:1rem;font-family:Lato,sans-serif;color:#464646;padding:1rem;border:2px solid #33B0D6;border-radius:10px;outline:none;background-color:transparent}.form-label[_ngcontent-%COMP%]{color:#33b0d6;background-color:#fdfdfd;cursor:pointer;position:absolute;top:5px;left:16px;transform:translateY(15px);transition:transform .5s,color .3s}.form-input[_ngcontent-%COMP%]:focus + .form-label[_ngcontent-%COMP%], .form-input[_ngcontent-%COMP%]:not(:placeholder-shown) + .form-label[_ngcontent-%COMP%]{transform:translateY(-12px) scale(.99);transform-origin:top left;--color: #33B0D6;padding:.3rem .5rem}.form-input.descripcion[_ngcontent-%COMP%]:focus + .form-label[_ngcontent-%COMP%], .form-input.descripcion[_ngcontent-%COMP%]:not(:placeholder-shown) + .form-label[_ngcontent-%COMP%]{transform:translateY(-13px) scale(.99);transform-origin:top left}.btn-ingresar-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.btn-ingresar[_ngcontent-%COMP%]{width:100%;font-size:1rem;padding:.5rem 1rem;color:#33b0d6;border:2px solid #33B0D6;border-radius:5px;background-color:#fdfdfd;cursor:pointer;transition:all .3s ease-in-out}.btn-ingresar[_ngcontent-%COMP%]:hover{background-color:#154857;border-color:#154857;color:#fdfdfd}"]}),n})(),e1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.\u0275\u0275defineComponent({type:n,selectors:[["app-no-encontrado"]],decls:9,vars:0,consts:[[1,"error-404"],[1,"volver-container"],["routerLink","/"],[1,"fas","fa-arrow-left"]],template:function(t,r){1&t&&(d.\u0275\u0275element(0,"app-header"),d.\u0275\u0275elementStart(1,"section",0)(2,"div",1)(3,"a",2),d.\u0275\u0275element(4,"i",3),d.\u0275\u0275text(5," Volver al Inicio "),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(6,"h1"),d.\u0275\u0275text(7,"Pagina No Encontrada!"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275element(8,"app-footer"))},dependencies:[As,Xh,ef],styles:[".error-404[_ngcontent-%COMP%]{padding:5.2rem 0}.volver-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.volver-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1rem;text-decoration:none;padding:.5rem 1rem;color:#33b0d6;border:2px solid #33B0D6;border-radius:5px;background-color:#fdfdfd;cursor:pointer;transition:all .3s ease-in-out}.volver-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#154857;border:2px solid #154857}.error-404[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:4rem;font-weight:700;text-align:center}"]}),n})();function t1(n,e){1&n&&(d.\u0275\u0275elementStart(0,"button",17),d.\u0275\u0275text(1," Eliminar "),d.\u0275\u0275element(2,"i",18),d.\u0275\u0275elementEnd())}function n1(n,e){if(1&n&&(d.\u0275\u0275elementStart(0,"a",19),d.\u0275\u0275text(1,"Editar "),d.\u0275\u0275element(2,"i",20),d.\u0275\u0275elementEnd()),2&n){const t=d.\u0275\u0275nextContext();d.\u0275\u0275propertyInterpolate1("routerLink","/editar/",t.producto.id,"")}}function r1(n,e){1&n&&(d.\u0275\u0275elementStart(0,"button",21),d.\u0275\u0275text(1,"Comprar "),d.\u0275\u0275element(2,"i",22),d.\u0275\u0275elementEnd())}let i1=(()=>{class n{constructor(t,r,o){this.route=t,this.productoService=r,this.loginService=o,this.producto={nombre:"",descripcion:"",valor:0,imagen:"",categoria:""},this.plantillaImagen="assets/productos/"}ngOnInit(){this.loginService.getAuth().subscribe(t=>{this.isLogged=!!t}),this.id=this.route.snapshot.params.id,this.productoService.getProducto(this.id).subscribe(t=>{this.producto=t})}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275directiveInject(Hs),d.\u0275\u0275directiveInject(ig),d.\u0275\u0275directiveInject(cb))},n.\u0275cmp=d.\u0275\u0275defineComponent({type:n,selectors:[["app-producto"]],decls:26,vars:17,consts:[[1,"producto-section"],[1,"btn-volver--container"],["routerLink","/",1,"btn-volver"],[1,"fas","fa-arrow-left"],["class","btn-eliminar",4,"ngIf"],[1,"producto-container"],[1,"producto-imagen--container"],[1,"imagen-producto",3,"src","alt"],[1,"producto-descripcion--container"],[1,"buttons-producto"],["class","btn-comprar",3,"routerLink",4,"ngIf"],["class","btn-comprar",4,"ngIf"],[1,"producto-title"],[1,"producto-valor"],[1,"producto-cuotas"],[1,"fas","fa-credit-card"],[1,"producto-descripcion"],[1,"btn-eliminar"],[1,"fas","fa-trash"],[1,"btn-comprar",3,"routerLink"],[1,"fas","fa-pencil"],[1,"btn-comprar"],[1,"fas","fa-basket-shopping"]],template:function(t,r){1&t&&(d.\u0275\u0275element(0,"app-header"),d.\u0275\u0275elementStart(1,"section",0)(2,"div",1)(3,"a",2),d.\u0275\u0275element(4,"i",3),d.\u0275\u0275text(5," Volver al inicio "),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(6,t1,3,0,"button",4),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(7,"div",5)(8,"div",6),d.\u0275\u0275element(9,"img",7),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(10,"div",8)(11,"div",9),d.\u0275\u0275template(12,n1,3,1,"a",10),d.\u0275\u0275template(13,r1,3,0,"button",11),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(14,"h3",12),d.\u0275\u0275text(15),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(16,"h3",13),d.\u0275\u0275text(17),d.\u0275\u0275pipe(18,"currency"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(19,"p",14),d.\u0275\u0275text(20),d.\u0275\u0275pipe(21,"currency"),d.\u0275\u0275element(22,"i",15),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(23,"p",16),d.\u0275\u0275text(24),d.\u0275\u0275elementEnd()()()(),d.\u0275\u0275element(25,"app-footer")),2&t&&(d.\u0275\u0275advance(6),d.\u0275\u0275property("ngIf",r.isLogged),d.\u0275\u0275advance(3),d.\u0275\u0275propertyInterpolate1("alt","img ",r.producto.nombre,""),d.\u0275\u0275property("src",r.plantillaImagen+r.producto.imagen,d.\u0275\u0275sanitizeUrl),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngIf",r.isLogged),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!r.isLogged),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(r.producto.nombre),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind3(18,9,r.producto.valor-.01,"ARS","$")),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1("o en 6 cuotas sin inter\xe9s de ",d.\u0275\u0275pipeBind3(21,13,r.producto.valor/6,"ARS","$")," "),d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate(r.producto.descripcion))},dependencies:[C.NgIf,As,Xh,ef,C.CurrencyPipe],styles:[".producto-container[_ngcontent-%COMP%]{padding:1rem;width:100%;max-width:800px;margin:0 auto;margin-top:2.5rem;display:flex;align-items:flex-start;gap:10px;border-radius:15px;box-shadow:-6px 6px 10px #0000004d,6px -6px 10px #0000004d}.producto-imagen--container[_ngcontent-%COMP%]{width:50%;display:flex;align-items:flex-start;justify-content:flex-end}.imagen-producto[_ngcontent-%COMP%]{width:100%}.producto-descripcion--container[_ngcontent-%COMP%]{width:50%;display:flex;flex-direction:column;justify-content:center;gap:10px}.buttons-producto[_ngcontent-%COMP%]{width:100%;padding:1rem 0;display:flex;gap:10px;justify-content:flex-end;align-items:flex-start}.btn-comprar[_ngcontent-%COMP%]{text-decoration:none;text-align:center;font-size:1rem;padding:.5rem 1rem;color:#154857;border:2px solid #154857;border-radius:5px;background-color:#f2f2f2;cursor:pointer;transition:all .3s ease-in}.btn-comprar[_ngcontent-%COMP%]:hover{color:#fdfdfd;background-color:#154857}.producto-title[_ngcontent-%COMP%]{font-size:2rem;padding-bottom:.8rem}.producto-valor[_ngcontent-%COMP%]{font-size:1.5rem;color:#154857}.producto-cuotas[_ngcontent-%COMP%]{color:#00a650}@media screen and (max-width: 520px){.producto-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:15px}.producto-imagen--container[_ngcontent-%COMP%]{width:100%;justify-content:center}.imagen-producto[_ngcontent-%COMP%]{width:100%;max-width:300px;max-height:300px}.producto-descripcion--container[_ngcontent-%COMP%]{width:100%}.buttons-producto[_ngcontent-%COMP%]{display:flex;gap:10px;flex-direction:column;justify-content:center;align-items:center}.btn-comprar[_ngcontent-%COMP%]{width:90%}}"]}),n})(),s1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.\u0275\u0275defineComponent({type:n,selectors:[["app-quienes-somos"]],decls:37,vars:0,consts:[[1,"quienes-somos"],[1,"volver-container"],["routerLink","/",1,"btn-volver"],[1,"fas","fa-arrow-left"],["id","quienesSomos",1,"quienes-somos--container","container"],[1,"quienes-somos--title","title"],[1,"quienes-somos--text","text"],["id","privacidad",1,"privacidad--container","container"],[1,"privacidad--title","title"],[1,"privacidad--text","text"],["id","fidelidad",1,"fidelidad--container","container"],[1,"fidelidad--title","title"],[1,"fidelidad--text","text"],["id","tiendas",1,"tiendas--container","container"],[1,"tiendas--title","title"],[1,"tiendas--text","text"],["id","franquicia",1,"franquicia--container","container"],[1,"franquicia--title","title"],[1,"franquicia--text","text"],["id","anuncie",1,"anuncie--container","container"],[1,"anuncie--title","title"],[1,"anuncie--text","text"]],template:function(t,r){1&t&&(d.\u0275\u0275element(0,"app-header"),d.\u0275\u0275elementStart(1,"section",0)(2,"div",1)(3,"a",2),d.\u0275\u0275element(4,"i",3),d.\u0275\u0275text(5," Volver al inicio "),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(6,"div",4)(7,"h2",5),d.\u0275\u0275text(8,"Quienes Somos"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(9,"p",6),d.\u0275\u0275text(10,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Obcaecati, enim, illo vitae eveniet necessitatibus quidem ducimus voluptate eaque ut, incidunt quae quos autem! Quas explicabo velit maiores dolor corrupti id doloribus eligendi repellendus. Veniam reiciendis consequatur voluptate. Eos, at exercitationem unde nemo quos optio delectus ratione facilis quidem mollitia enim dignissimos expedita aperiam eius, quae nesciunt repellat reprehenderit maiores vero? Ipsam illo at accusamus dolorum vel magni illum, quam similique! Ipsam sapiente velit ullam minus dicta officia ab iusto iste nam et consequatur deserunt, aliquid itaque exercitationem nesciunt illum hic expedita inventore saepe asperiores placeat? Enim impedit esse sunt, error ea, blanditiis quae repudiandae nisi dolore neque adipisci mollitia dolores fugit expedita doloremque accusantium voluptas aperiam cupiditate sapiente modi quos necessitatibus tempore dicta et! Blanditiis nesciunt odio saepe ab officia quia consectetur, ipsum consequuntur, quos porro maiores atque? Deleniti reprehenderit repellendus nihil maxime accusamus velit quos! Cupiditate facilis deleniti alias?"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(11,"div",7)(12,"h2",8),d.\u0275\u0275text(13,"Politica de privacidad"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(14,"p",9),d.\u0275\u0275text(15,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Obcaecati, enim, illo vitae eveniet necessitatibus quidem ducimus voluptate eaque ut, incidunt quae quos autem! Quas explicabo velit maiores dolor corrupti id doloribus eligendi repellendus. Veniam reiciendis consequatur voluptate. Eos, at exercitationem unde nemo quos optio delectus ratione facilis quidem mollitia enim dignissimos expedita aperiam eius, quae nesciunt repellat reprehenderit maiores vero? Ipsam illo at accusamus dolorum vel magni illum, quam similique! Ipsam sapiente velit ullam minus dicta officia ab iusto iste nam et consequatur deserunt, aliquid itaque exercitationem nesciunt illum hic expedita inventore saepe asperiores placeat? Enim impedit esse sunt, error ea, blanditiis quae repudiandae nisi dolore neque adipisci mollitia dolores fugit expedita doloremque accusantium voluptas aperiam cupiditate sapiente modi quos necessitatibus tempore dicta et! Blanditiis nesciunt odio saepe ab officia quia consectetur, ipsum consequuntur, quos porro maiores atque? Deleniti reprehenderit repellendus nihil maxime accusamus velit quos! Cupiditate facilis deleniti alias?"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(16,"div",10)(17,"h2",11),d.\u0275\u0275text(18,"Programa de Fidelidad"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(19,"p",12),d.\u0275\u0275text(20,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Obcaecati, enim, illo vitae eveniet necessitatibus quidem ducimus voluptate eaque ut, incidunt quae quos autem! Quas explicabo velit maiores dolor corrupti id doloribus eligendi repellendus. Veniam reiciendis consequatur voluptate. Eos, at exercitationem unde nemo quos optio delectus ratione facilis quidem mollitia enim dignissimos expedita aperiam eius, quae nesciunt repellat reprehenderit maiores vero? Ipsam illo at accusamus dolorum vel magni illum, quam similique! Ipsam sapiente velit ullam minus dicta officia ab iusto iste nam et consequatur deserunt, aliquid itaque exercitationem nesciunt illum hic expedita inventore saepe asperiores placeat? Enim impedit esse sunt, error ea, blanditiis quae repudiandae nisi dolore neque adipisci mollitia dolores fugit expedita doloremque accusantium voluptas aperiam cupiditate sapiente modi quos necessitatibus tempore dicta et! Blanditiis nesciunt odio saepe ab officia quia consectetur, ipsum consequuntur, quos porro maiores atque? Deleniti reprehenderit repellendus nihil maxime accusamus velit quos! Cupiditate facilis deleniti alias?"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(21,"div",13)(22,"h2",14),d.\u0275\u0275text(23,"Nuestras tiendas"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(24,"p",15),d.\u0275\u0275text(25,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Obcaecati, enim, illo vitae eveniet necessitatibus quidem ducimus voluptate eaque ut, incidunt quae quos autem! Quas explicabo velit maiores dolor corrupti id doloribus eligendi repellendus. Veniam reiciendis consequatur voluptate. Eos, at exercitationem unde nemo quos optio delectus ratione facilis quidem mollitia enim dignissimos expedita aperiam eius, quae nesciunt repellat reprehenderit maiores vero? Ipsam illo at accusamus dolorum vel magni illum, quam similique! Ipsam sapiente velit ullam minus dicta officia ab iusto iste nam et consequatur deserunt, aliquid itaque exercitationem nesciunt illum hic expedita inventore saepe asperiores placeat? Enim impedit esse sunt, error ea, blanditiis quae repudiandae nisi dolore neque adipisci mollitia dolores fugit expedita doloremque accusantium voluptas aperiam cupiditate sapiente modi quos necessitatibus tempore dicta et! Blanditiis nesciunt odio saepe ab officia quia consectetur, ipsum consequuntur, quos porro maiores atque? Deleniti reprehenderit repellendus nihil maxime accusamus velit quos! Cupiditate facilis deleniti alias?"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(26,"div",16)(27,"h2",17),d.\u0275\u0275text(28,"Como ser franquiciado"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(29,"p",18),d.\u0275\u0275text(30,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Obcaecati, enim, illo vitae eveniet necessitatibus quidem ducimus voluptate eaque ut, incidunt quae quos autem! Quas explicabo velit maiores dolor corrupti id doloribus eligendi repellendus. Veniam reiciendis consequatur voluptate. Eos, at exercitationem unde nemo quos optio delectus ratione facilis quidem mollitia enim dignissimos expedita aperiam eius, quae nesciunt repellat reprehenderit maiores vero? Ipsam illo at accusamus dolorum vel magni illum, quam similique! Ipsam sapiente velit ullam minus dicta officia ab iusto iste nam et consequatur deserunt, aliquid itaque exercitationem nesciunt illum hic expedita inventore saepe asperiores placeat? Enim impedit esse sunt, error ea, blanditiis quae repudiandae nisi dolore neque adipisci mollitia dolores fugit expedita doloremque accusantium voluptas aperiam cupiditate sapiente modi quos necessitatibus tempore dicta et! Blanditiis nesciunt odio saepe ab officia quia consectetur, ipsum consequuntur, quos porro maiores atque? Deleniti reprehenderit repellendus nihil maxime accusamus velit quos! Cupiditate facilis deleniti alias?"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(31,"div",19)(32,"h2",20),d.\u0275\u0275text(33,"Anuncie Aqui"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(34,"p",21),d.\u0275\u0275text(35,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Obcaecati, enim, illo vitae eveniet necessitatibus quidem ducimus voluptate eaque ut, incidunt quae quos autem! Quas explicabo velit maiores dolor corrupti id doloribus eligendi repellendus. Veniam reiciendis consequatur voluptate. Eos, at exercitationem unde nemo quos optio delectus ratione facilis quidem mollitia enim dignissimos expedita aperiam eius, quae nesciunt repellat reprehenderit maiores vero? Ipsam illo at accusamus dolorum vel magni illum, quam similique! Ipsam sapiente velit ullam minus dicta officia ab iusto iste nam et consequatur deserunt, aliquid itaque exercitationem nesciunt illum hic expedita inventore saepe asperiores placeat? Enim impedit esse sunt, error ea, blanditiis quae repudiandae nisi dolore neque adipisci mollitia dolores fugit expedita doloremque accusantium voluptas aperiam cupiditate sapiente modi quos necessitatibus tempore dicta et! Blanditiis nesciunt odio saepe ab officia quia consectetur, ipsum consequuntur, quos porro maiores atque? Deleniti reprehenderit repellendus nihil maxime accusamus velit quos! Cupiditate facilis deleniti alias?"),d.\u0275\u0275elementEnd()()(),d.\u0275\u0275element(36,"app-footer"))},dependencies:[As,Xh,ef],styles:[".quienes-somos[_ngcontent-%COMP%]{padding:3rem 2rem;margin-top:2rem;display:flex;flex-direction:column;gap:5rem}.volver-container[_ngcontent-%COMP%]{padding:2rem 0;padding-bottom:0;width:100%;display:flex;justify-content:space-between;align-items:center}.btn-volver[_ngcontent-%COMP%]{text-decoration:none;font-size:1rem;padding:.5rem 1rem;color:#154857;border:2px solid #154857;border-radius:5px;background-color:#f2f2f2;transition:all .3s ease-in}.btn-volver[_ngcontent-%COMP%]:hover{color:#fdfdfd;background-color:#154857}.title[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:2rem;padding-bottom:1.2rem}"]}),n})(),LT=(()=>{class n{constructor(t,r){this.afAuth=t,this.router=r}canActivate(){return this.afAuth.authState.pipe((0,it.U)(t=>!!t||(this.router.navigate(["/"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(d.\u0275\u0275inject(yI),d.\u0275\u0275inject(An))},n.\u0275prov=d.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const o1=[{path:"",component:JM},{path:"login",component:XM},{path:"all-products",component:GM},{path:"producto/:id",component:i1},{path:"agregar",component:$M,canActivate:[LT]},{path:"editar/:id",component:zM,canActivate:[LT]},{path:"quienes-somos",component:s1},{path:"**",component:e1}];let a1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=d.\u0275\u0275defineInjector({imports:[Hd.forRoot(o1),Hd]}),n})();const BA_firestore={apiKey:"AIzaSyD38VpYs67IsCcYcvOfN5HTF99DJCVPkR0",authDomain:"eccomerce-alura.firebaseapp.com",projectId:"eccomerce-alura",storageBucket:"eccomerce-alura.appspot.com",messagingSenderId:"950570452997",appId:"1:950570452997:web:be41cdb8fde1ae6ed9746c"};let u1=(()=>{class n{constructor(){this.title="p02-ecommerce"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.\u0275\u0275defineComponent({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&d.\u0275\u0275element(0,"router-outlet")},dependencies:[Ta]}),n})(),l1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.\u0275\u0275defineNgModule({type:n,bootstrap:[u1]}),n.\u0275inj=d.\u0275\u0275defineInjector({providers:[ig,cb,LT],imports:[Di,a1,NM,Qi.hO.initializeApp(BA_firestore,"eccomerce-alura"),Px,Tx,sg.qz.forRoot()]}),n})();(0,d.enableProdMode)(),mt().bootstrapModule(l1).catch(n=>console.error(n))},5867:(ct,De,L)=>{"use strict";L.d(De,{C6:()=>C.getApps,Mq:()=>C.getApp});var C=L(9681);(0,C.registerVersion)("firebase","9.9.1","app")},127:(ct,De,L)=>{"use strict";L.d(De,{Z:()=>C.Z});var C=L(3942);C.Z.registerVersion("firebase","9.9.1","app-compat")},1451:(ct,De,L)=>{"use strict";L.r(De);var C=L(5861),d=L(3942),V=L(2090),ue=L(9681),re=L(655),he=L(1877),ye=L(4859);const se=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},je=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},de=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ge=new he.Yd("@firebase/auth");function Xe(y,...f){Ge.logLevel<=he.in.ERROR&&Ge.error(`Auth (${ue.SDK_VERSION}): ${y}`,...f)}function Oe(y,...f){throw ze(y,...f)}function Te(y,...f){return ze(y,...f)}function xe(y,f,g){const _=Object.assign(Object.assign({},je()),{[f]:g});return new V.LL("auth","Firebase",_).create(f,{appName:y.name})}function qe(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Oe(y,"argument-error"),xe(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ze(y,...f){if("string"!=typeof y){const g=f[0],_=[...f.slice(1)];return _[0]&&(_[0].appName=y.name),y._errorFactory.create(g,..._)}return de.create(y,...f)}function z(y,f,...g){if(!y)throw ze(f,...g)}function Se(y){const f="INTERNAL ASSERTION FAILED: "+y;throw Xe(f),new Error(f)}function ee(y,f){y||Se(f)}const le=new Map;function oe(y){ee(y instanceof Function,"Expected a class definition");let f=le.get(y);return f?(ee(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,le.set(y,f),f)}function Pe(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ht(){return"http:"===Gt()||"https:"===Gt()}function Gt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class sn{constructor(f,g){this.shortDelay=f,this.longDelay=g,ee(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function Bt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ht()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nn(y,f){ee(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class dn{static initialize(f,g,_){this.fetchImpl=f,g&&(this.headersImpl=g),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},fr=new sn(3e4,6e4);function Kt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Lt(y,f,g,_){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,C.Z)(function*(y,f,g,_,M={}){return Sr(y,M,(0,C.Z)(function*(){let k={},X={};_&&("GET"===f?X=_:k={body:JSON.stringify(_)});const me=(0,V.xO)(Object.assign({key:y.config.apiKey},X)).slice(1),He=yield y._getAdditionalHeaders();return He["Content-Type"]="application/json",y.languageCode&&(He["X-Firebase-Locale"]=y.languageCode),dn.fetch()(Li(y,y.config.apiHost,g,me),Object.assign({method:f,headers:He,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function Sr(y,f,g){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,C.Z)(function*(y,f,g){y._canInitEmulator=!1;const _=Object.assign(Object.assign({},Wt),f);try{const M=new Jr(y),k=yield Promise.race([g(),M.promise]);M.clearNetworkTimeout();const X=yield k.json();if("needConfirmation"in X)throw ci(y,"account-exists-with-different-credential",X);if(k.ok&&!("errorMessage"in X))return X;{const me=k.ok?X.errorMessage:X.error.message,[He,ot]=me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw ci(y,"credential-already-in-use",X);if("EMAIL_EXISTS"===He)throw ci(y,"email-already-in-use",X);if("USER_DISABLED"===He)throw ci(y,"user-disabled",X);const wt=_[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw xe(y,wt,ot);Oe(y,wt)}}catch(M){if(M instanceof V.ZR)throw M;Oe(y,"network-request-failed")}})).apply(this,arguments)}function Yr(y,f,g,_){return bi.apply(this,arguments)}function bi(){return(bi=(0,C.Z)(function*(y,f,g,_,M={}){const k=yield Lt(y,f,g,_,M);return"mfaPendingCredential"in k&&Oe(y,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function Li(y,f,g,_){const M=`${f}${g}?${_}`;return y.config.emulator?Nn(y.config,M):`${y.config.apiScheme}://${M}`}class Jr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,_)=>{this.timer=setTimeout(()=>_(Te(this.auth,"network-request-failed")),fr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ci(y,f,g){const _={appName:y.name};g.email&&(_.email=g.email),g.phoneNumber&&(_.phoneNumber=g.phoneNumber);const M=Te(y,f,_);return M.customData._tokenResponse=g,M}function xr(){return(xr=(0,C.Z)(function*(y,f){return Lt(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function $n(y,f){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,C.Z)(function*(y,f){return Lt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Di(y,f){return gs.apply(this,arguments)}function gs(){return(gs=(0,C.Z)(function*(y,f){return Lt(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function On(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function ms(){return(ms=(0,C.Z)(function*(y,f=!1){const g=(0,V.m9)(y),_=yield g.getIdToken(f),M=Ke(_);z(M&&M.exp&&M.auth_time&&M.iat,g.auth,"internal-error");const k="object"==typeof M.firebase?M.firebase:void 0,X=k?.sign_in_provider;return{claims:M,token:_,authTime:On(Zt(M.auth_time)),issuedAtTime:On(Zt(M.iat)),expirationTime:On(Zt(M.exp)),signInProvider:X||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function Zt(y){return 1e3*Number(y)}function Ke(y){var f;const[g,_,M]=y.split(".");if(void 0===g||void 0===_||void 0===M)return Xe("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,V.tV)(_);return k?JSON.parse(k):(Xe("Failed to decode base64 JWT payload"),null)}catch(k){return Xe("Caught error parsing JWT payload as JSON",null===(f=k)||void 0===f?void 0:f.toString()),null}}function Lr(y,f){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,C.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(_){throw _ instanceof V.ZR&&_t(_)&&y.auth.currentUser===y&&(yield y.auth.signOut()),_}})).apply(this,arguments)}function _t({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Xr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const M=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const _=this.getInterval(f);this.timerId=setTimeout((0,C.Z)(function*(){yield g.iteration()}),_)}iteration(){var f=this;return(0,C.Z)(function*(){var g;try{yield f.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===(null===(g=_)||void 0===g?void 0:g.code)&&f.schedule(!0))}f.schedule()})()}}class Jn{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=On(this.lastLoginAt),this.creationTime=On(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vr(y){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,C.Z)(function*(y){var f;const g=y.auth,_=yield y.getIdToken(),M=yield Lr(y,Di(g,{idToken:_}));z(M?.users.length,g,"internal-error");const k=M.users[0];y._notifyReloadListener(k);const X=null!==(f=k.providerUserInfo)&&void 0!==f&&f.length?H(k.providerUserInfo):[],me=W(y.providerData,X),wt=!!y.isAnonymous&&!(y.email&&k.passwordHash||me?.length),vt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:me,metadata:new Jn(k.createdAt,k.lastLoginAt),isAnonymous:wt};Object.assign(y,vt)})).apply(this,arguments)}function q(){return(q=(0,C.Z)(function*(y){const f=(0,V.m9)(y);yield Vr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function W(y,f){return[...y.filter(_=>!f.some(M=>M.providerId===_.providerId)),...f]}function H(y){return y.map(f=>{var{providerId:g}=f,_=(0,re._T)(f,["providerId"]);return{providerId:g,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function Z(){return(Z=(0,C.Z)(function*(y,f){const g=yield Sr(y,{},(0,C.Z)(function*(){const _=(0,V.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:M,apiKey:k}=y.config,X=Li(y,M,"/v1/token",`key=${k}`),me=yield y._getAdditionalHeaders();return me["Content-Type"]="application/x-www-form-urlencoded",dn.fetch()(X,{method:"POST",headers:me,body:_})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Fe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){z(f.idToken,"internal-error"),z(typeof f.idToken<"u","internal-error"),z(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function bt(y){const f=Ke(y);return z(f,"internal-error"),z(typeof f.exp<"u","internal-error"),z(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var _=this;return(0,C.Z)(function*(){return z(!_.accessToken||_.refreshToken,f,"user-token-expired"),g||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(f,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var _=this;return(0,C.Z)(function*(){const{accessToken:M,refreshToken:k,expiresIn:X}=yield function K(y,f){return Z.apply(this,arguments)}(f,g);_.updateTokensAndExpiration(M,k,Number(X))})()}updateTokensAndExpiration(f,g,_){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(f,g){const{refreshToken:_,accessToken:M,expirationTime:k}=g,X=new Fe;return _&&(z("string"==typeof _,"internal-error",{appName:f}),X.refreshToken=_),M&&(z("string"==typeof M,"internal-error",{appName:f}),X.accessToken=M),k&&(z("number"==typeof k,"internal-error",{appName:f}),X.expirationTime=k),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Fe,this.toJSON())}_performRefresh(){return Se("not implemented")}}function Ze(y,f){z("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class ft{constructor(f){var{uid:g,auth:_,stsTokenManager:M}=f,k=(0,re._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=_,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new Jn(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,C.Z)(function*(){const _=yield Lr(g,g.stsTokenManager.getToken(g.auth,f));return z(_,g.auth,"internal-error"),g.accessToken!==_&&(g.accessToken=_,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),_})()}getIdTokenResult(f){return function hn(y){return ms.apply(this,arguments)}(this,f)}reload(){return function di(y){return q.apply(this,arguments)}(this)}_assign(f){this!==f&&(z(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new ft(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var _=this;return(0,C.Z)(function*(){let M=!1;f.idToken&&f.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(f),M=!0),g&&(yield Vr(_)),yield _.auth._persistUserIfCurrent(_),M&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var f=this;return(0,C.Z)(function*(){const g=yield f.getIdToken();return yield Lr(f,function mt(y,f){return xr.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var _,M,k,X,me,He,ot,wt;const vt=null!==(_=g.displayName)&&void 0!==_?_:void 0,br=null!==(M=g.email)&&void 0!==M?M:void 0,fs=null!==(k=g.phoneNumber)&&void 0!==k?k:void 0,Il=null!==(X=g.photoURL)&&void 0!==X?X:void 0,xf=null!==(me=g.tenantId)&&void 0!==me?me:void 0,El=null!==(He=g._redirectEventId)&&void 0!==He?He:void 0,Cu=null!==(ot=g.createdAt)&&void 0!==ot?ot:void 0,xc=null!==(wt=g.lastLoginAt)&&void 0!==wt?wt:void 0,{uid:yr,emailVerified:Dr,isAnonymous:Mc,providerData:Rc,stsTokenManager:Yd}=g;z(yr&&Yd,f,"internal-error");const ov=Fe.fromJSON(this.name,Yd);z("string"==typeof yr,f,"internal-error"),Ze(vt,f.name),Ze(br,f.name),z("boolean"==typeof Dr,f,"internal-error"),z("boolean"==typeof Mc,f,"internal-error"),Ze(fs,f.name),Ze(Il,f.name),Ze(xf,f.name),Ze(El,f.name),Ze(Cu,f.name),Ze(xc,f.name);const Jd=new ft({uid:yr,auth:f,email:br,emailVerified:Dr,displayName:vt,isAnonymous:Mc,photoURL:Il,phoneNumber:fs,tenantId:xf,stsTokenManager:ov,createdAt:Cu,lastLoginAt:xc});return Rc&&Array.isArray(Rc)&&(Jd.providerData=Rc.map(MI=>Object.assign({},MI))),El&&(Jd._redirectEventId=El),Jd}static _fromIdTokenResponse(f,g,_=!1){return(0,C.Z)(function*(){const M=new Fe;M.updateFromServerResponse(g);const k=new ft({uid:g.localId,auth:f,stsTokenManager:M,isAnonymous:_});return yield Vr(k),k})()}}const Jt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,C.Z)(function*(){return!0})()}_set(g,_){var M=this;return(0,C.Z)(function*(){M.storage[g]=_})()}_get(g){var _=this;return(0,C.Z)(function*(){const M=_.storage[g];return void 0===M?null:M})()}_remove(g){var _=this;return(0,C.Z)(function*(){delete _.storage[g]})()}_addListener(g,_){}_removeListener(g,_){}}return y.type="NONE",y})();function vr(y,f,g){return`firebase:${y}:${f}:${g}`}class $t{constructor(f,g,_){this.persistence=f,this.auth=g,this.userKey=_;const{config:M,name:k}=this.auth;this.fullUserKey=vr(this.userKey,M.apiKey,k),this.fullPersistenceKey=vr("persistence",M.apiKey,k),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,C.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?ft._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,C.Z)(function*(){if(g.persistence===f)return;const _=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,_?g.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,_="authUser"){return(0,C.Z)(function*(){if(!g.length)return new $t(oe(Jt),f,_);const M=(yield Promise.all(g.map(function(){var ot=(0,C.Z)(function*(wt){if(yield wt._isAvailable())return wt});return function(wt){return ot.apply(this,arguments)}}()))).filter(ot=>ot);let k=M[0]||oe(Jt);const X=vr(_,f.config.apiKey,f.name);let me=null;for(const ot of g)try{const wt=yield ot._get(X);if(wt){const vt=ft._fromJSON(f,wt);ot!==k&&(me=vt),k=ot;break}}catch{}const He=M.filter(ot=>ot._shouldAllowMigration);return k._shouldAllowMigration&&He.length?(k=He[0],me&&(yield k._set(X,me.toJSON())),yield Promise.all(g.map(function(){var ot=(0,C.Z)(function*(wt){if(wt!==k)try{yield wt._remove(X)}catch{}});return function(wt){return ot.apply(this,arguments)}}())),new $t(k,f,_)):new $t(k,f,_)})()}}function Ft(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(ei(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Pn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Mt(f))return"Blackberry";if(yt(f))return"Webos";if(or(f))return"Safari";if((f.includes("chrome/")||Mr(f))&&!f.includes("edge/"))return"Chrome";if(We(f))return"Android";{const _=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function Pn(y=(0,V.z$)()){return/firefox\//i.test(y)}function or(y=(0,V.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Mr(y=(0,V.z$)()){return/crios\//i.test(y)}function ei(y=(0,V.z$)()){return/iemobile/i.test(y)}function We(y=(0,V.z$)()){return/android/i.test(y)}function Mt(y=(0,V.z$)()){return/blackberry/i.test(y)}function yt(y=(0,V.z$)()){return/webos/i.test(y)}function pn(y=(0,V.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Xt(y=(0,V.z$)()){return pn(y)||We(y)||yt(y)||Mt(y)||/windows phone/i.test(y)||ei(y)}function Ti(y,f=[]){let g;switch(y){case"Browser":g=Ft((0,V.z$)());break;case"Worker":g=`${Ft((0,V.z$)())}-${y}`;break;default:g=y}const _=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ue.SDK_VERSION}/${_}`}class Nt{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const _=k=>new Promise((X,me)=>{try{X(f(k))}catch(He){me(He)}});_.onAbort=g,this.queue.push(_);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,C.Z)(function*(){var _;if(g.auth.currentUser===f)return;const M=[];try{for(const k of g.queue)yield k(f),k.onAbort&&M.push(k.onAbort)}catch(k){M.reverse();for(const X of M)try{X()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(_=k)||void 0===_?void 0:_.message})}})()}}class Vo{constructor(f,g,_){this.app=f,this.heartbeatServiceProvider=g,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uo(this),this.idTokenSubscription=new uo(this),this.beforeStateQueue=new Nt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=de,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(f,g){var _=this;return g&&(this._popupRedirectResolver=oe(g)),this._initializationPromise=this.queue((0,C.Z)(function*(){var M,k;if(!_._deleted&&(_.persistenceManager=yield $t.create(_,f),!_._deleted)){if(null!==(M=_._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(g),_.lastNotifiedUid=(null===(k=_.currentUser)||void 0===k?void 0:k.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,C.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,C.Z)(function*(){var _;const M=yield g.assertedPersistence.getCurrentUser();let k=M,X=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const me=null===(_=g.redirectUser)||void 0===_?void 0:_._redirectEventId,He=k?._redirectEventId,ot=yield g.tryRedirectSignIn(f);(!me||me===He)&&ot?.user&&(k=ot.user,X=!0)}if(!k)return g.directlySetCurrentUser(null);if(!k._redirectEventId){if(X)try{yield g.beforeStateQueue.runMiddleware(k)}catch(me){k=M,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(me))}return k?g.reloadAndSetCurrentUserOrClear(k):g.directlySetCurrentUser(null)}return z(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===k._redirectEventId?g.directlySetCurrentUser(k):g.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(f){var g=this;return(0,C.Z)(function*(){let _=null;try{_=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,C.Z)(function*(){var _;try{yield Vr(f)}catch(M){if("auth/network-request-failed"!==(null===(_=M)||void 0===_?void 0:_.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Je(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,C.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,C.Z)(function*(){const _=f?(0,V.m9)(f):null;return _&&z(_.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(_&&_._clone(g))})()}_updateCurrentUser(f,g=!1){var _=this;return(0,C.Z)(function*(){if(!_._deleted)return f&&z(_.tenantId===f.tenantId,_,"tenant-id-mismatch"),g||(yield _.beforeStateQueue.runMiddleware(f)),_.queue((0,C.Z)(function*(){yield _.directlySetCurrentUser(f),_.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,C.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,C.Z)(function*(){yield g.assertedPersistence.setPersistence(oe(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new V.LL("auth","Firebase",f())}onAuthStateChanged(f,g,_){return this.registerStateListener(this.authStateSubscription,f,g,_)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,_){return this.registerStateListener(this.idTokenSubscription,f,g,_)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var _=this;return(0,C.Z)(function*(){const M=yield _.getOrInitRedirectPersistenceManager(g);return null===f?M.removeCurrentUser():M.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,C.Z)(function*(){if(!g.redirectPersistenceManager){const _=f&&oe(f)||g._popupRedirectResolver;z(_,g,"argument-error"),g.redirectPersistenceManager=yield $t.create(g,[oe(_._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,C.Z)(function*(){var _,M;return g._isInitialized&&(yield g.queue((0,C.Z)(function*(){}))),(null===(_=g._currentUser)||void 0===_?void 0:_._redirectEventId)===f?g._currentUser:(null===(M=g.redirectUser)||void 0===M?void 0:M._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,C.Z)(function*(){if(f===g.currentUser)return g.queue((0,C.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,_,M){if(this._deleted)return()=>{};const k="function"==typeof g?g:g.next.bind(g),X=this._isInitialized?Promise.resolve():this._initializationPromise;return z(X,this,"internal-error"),X.then(()=>k(this.currentUser)),"function"==typeof g?f.addObserver(g,_,M):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,C.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Ti(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,C.Z)(function*(){var g;const _={"X-Client-Version":f.clientVersion};f.app.options.appId&&(_["X-Firebase-gmpid"]=f.app.options.appId);const M=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return M&&(_["X-Firebase-Client"]=M),_})()}}function bn(y){return(0,V.m9)(y)}class uo{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,V.ne)(g=>this.observer=g)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function it(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function is(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class ti{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return Se("not implemented")}_getIdTokenResponse(f){return Se("not implemented")}_linkToIdToken(f,g){return Se("not implemented")}_getReauthenticationResolver(f){return Se("not implemented")}}function Qt(y,f){return cn.apply(this,arguments)}function cn(){return(cn=(0,C.Z)(function*(y,f){return Lt(y,"POST","/v1/accounts:resetPassword",Kt(y,f))})).apply(this,arguments)}function Ja(y,f){return va.apply(this,arguments)}function va(){return(va=(0,C.Z)(function*(y,f){return Lt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ks(y,f){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,C.Z)(function*(y,f){return Lt(y,"POST","/v1/accounts:update",Kt(y,f))})).apply(this,arguments)}function vs(){return(vs=(0,C.Z)(function*(y,f){return Yr(y,"POST","/v1/accounts:signInWithPassword",Kt(y,f))})).apply(this,arguments)}function Ur(y,f){return kn.apply(this,arguments)}function kn(){return(kn=(0,C.Z)(function*(y,f){return Lt(y,"POST","/v1/accounts:sendOobCode",Kt(y,f))})).apply(this,arguments)}function Ql(y,f){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,C.Z)(function*(y,f){return Ur(y,f)})).apply(this,arguments)}function ur(y,f){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,C.Z)(function*(y,f){return Ur(y,f)})).apply(this,arguments)}function Ui(y,f){return jr.apply(this,arguments)}function jr(){return(jr=(0,C.Z)(function*(y,f){return Ur(y,f)})).apply(this,arguments)}function hi(y,f){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,C.Z)(function*(y,f){return Ur(y,f)})).apply(this,arguments)}function co(){return(co=(0,C.Z)(function*(y,f){return Yr(y,"POST","/v1/accounts:signInWithEmailLink",Kt(y,f))})).apply(this,arguments)}function Fs(){return(Fs=(0,C.Z)(function*(y,f){return Yr(y,"POST","/v1/accounts:signInWithEmailLink",Kt(y,f))})).apply(this,arguments)}class _s extends ti{constructor(f,g,_,M=null){super("password",_),this._email=f,this._password=g,this._tenantId=M}static _fromEmailAndPassword(f,g){return new _s(f,g,"password")}static _fromEmailAndCode(f,g,_=null){return new _s(f,g,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,C.Z)(function*(){switch(g.signInMethod){case"password":return function ys(y,f){return vs.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function wd(y,f){return co.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Oe(f,"internal-error")}})()}_linkToIdToken(f,g){var _=this;return(0,C.Z)(function*(){switch(_.signInMethod){case"password":return Ja(f,{idToken:g,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function er(y,f){return Fs.apply(this,arguments)}(f,{idToken:g,email:_._email,oobCode:_._password});default:Oe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function pr(y,f){return _n.apply(this,arguments)}function _n(){return(_n=(0,C.Z)(function*(y,f){return Yr(y,"POST","/v1/accounts:signInWithIdp",Kt(y,f))})).apply(this,arguments)}class ji extends ti{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new ji(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Oe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:_,signInMethod:M}=g,k=(0,re._T)(g,["providerId","signInMethod"]);if(!_||!M)return null;const X=new ji(_,M);return X.idToken=k.idToken||void 0,X.accessToken=k.accessToken||void 0,X.secret=k.secret,X.nonce=k.nonce,X.pendingToken=k.pendingToken||null,X}_getIdTokenResponse(f){return pr(f,this.buildRequest())}_linkToIdToken(f,g){const _=this.buildRequest();return _.idToken=g,pr(f,_)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,pr(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,V.xO)(g)}return f}}function Cd(y,f){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,C.Z)(function*(y,f){return Lt(y,"POST","/v1/accounts:sendVerificationCode",Kt(y,f))})).apply(this,arguments)}function Dn(){return(Dn=(0,C.Z)(function*(y,f){return Yr(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,f))})).apply(this,arguments)}function eu(){return(eu=(0,C.Z)(function*(y,f){const g=yield Yr(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,f));if(g.temporaryProof)throw ci(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const jo={USER_NOT_FOUND:"user-not-found"};function ho(){return(ho=(0,C.Z)(function*(y,f){return Yr(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),jo)})).apply(this,arguments)}class ss extends ti{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new ss({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new ss({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function $i(y,f){return Dn.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Ls(y,f){return eu.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function tu(y,f){return ho.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:_,verificationCode:M}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:_,code:M}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:_,phoneNumber:M,temporaryProof:k}=f;return _||g||M||k?new ss({verificationId:g,verificationCode:_,phoneNumber:M,temporaryProof:k}):null}}class Rt{constructor(f){var g,_,M,k,X,me;const He=(0,V.zd)((0,V.pd)(f)),ot=null!==(g=He.apiKey)&&void 0!==g?g:null,wt=null!==(_=He.oobCode)&&void 0!==_?_:null,vt=function bd(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=He.mode)&&void 0!==M?M:null);z(ot&&wt&&vt,"argument-error"),this.apiKey=ot,this.operation=vt,this.code=wt,this.continueUrl=null!==(k=He.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(X=He.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(me=He.tenantId)&&void 0!==me?me:null}static parseLink(f){const g=function Bo(y){const f=(0,V.zd)((0,V.pd)(y)).link,g=f?(0,V.zd)((0,V.pd)(f)).deep_link_id:null,_=(0,V.zd)((0,V.pd)(y)).deep_link_id;return(_?(0,V.zd)((0,V.pd)(_)).link:null)||_||g||f||y}(f);try{return new Rt(g)}catch{return null}}}let Hi=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,_){return _s._fromEmailAndPassword(g,_)}static credentialWithLink(g,_){const M=Rt.parseLink(_);return z(M,"argument-error"),_s._fromEmailAndCode(g,M.code,M.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class fi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class os extends fi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ir extends os{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return z("providerId"in g&&"signInMethod"in g,"argument-error"),ji._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return z(f.idToken||f.accessToken,"argument-error"),ji._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ir.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ir.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:_,oauthTokenSecret:M,pendingToken:k,nonce:X,providerId:me}=f;if(!_&&!M&&!g&&!k||!me)return null;try{return new Ir(me)._credential({idToken:g,accessToken:_,nonce:X,pendingToken:k})}catch{return null}}}let $o=(()=>{class y extends os{constructor(){super("facebook.com")}static credential(g){return ji._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),fo=(()=>{class y extends os{constructor(){super("google.com"),this.addScope("profile")}static credential(g,_){return ji._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:_})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:M}=g;if(!_&&!M)return null;try{return y.credential(_,M)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),po=(()=>{class y extends os{constructor(){super("github.com")}static credential(g){return ji._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Fn extends ti{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return pr(f,this.buildRequest())}_linkToIdToken(f,g){const _=this.buildRequest();return _.idToken=g,pr(f,_)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,pr(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:_,signInMethod:M,pendingToken:k}=g;return _&&M&&k&&_===M?new Fn(_,k):null}static _create(f,g){return new Fn(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class In extends fi{constructor(f){z(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return In.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return In.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Fn.fromJSON(f);return z(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:_}=f;if(!g||!_)return null;try{return Fn._create(_,g)}catch{return null}}}let Ho=(()=>{class y extends os{constructor(){super("twitter.com")}static credential(g,_){return ji._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:_})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:_,oauthTokenSecret:M}=g;if(!_||!M)return null;try{return y.credential(_,M)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Go(y,f){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,C.Z)(function*(y,f){return Yr(y,"POST","/v1/accounts:signUp",Kt(y,f))})).apply(this,arguments)}class $r{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,_,M=!1){return(0,C.Z)(function*(){const k=yield ft._fromIdTokenResponse(f,_,M),X=Jl(_);return new $r({user:k,providerId:X,_tokenResponse:_,operationType:g})})()}static _forOperation(f,g,_){return(0,C.Z)(function*(){yield f._updateTokensIfNecessary(_,!0);const M=Jl(_);return new $r({user:f,providerId:M,_tokenResponse:_,operationType:g})})()}}function Jl(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function nu(){return(nu=(0,C.Z)(function*(y){var f;const g=bn(y);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new $r({user:g.currentUser,providerId:null,operationType:"signIn"});const _=yield Go(g,{returnSecureToken:!0}),M=yield $r._fromIdTokenResponse(g,"signIn",_,!0);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class _a extends V.ZR{constructor(f,g,_,M){var k;super(g.code,g.message),this.operationType=_,this.user=M,Object.setPrototypeOf(this,_a.prototype),this.customData={appName:f.name,tenantId:null!==(k=f.tenantId)&&void 0!==k?k:void 0,_serverResponse:g.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(f,g,_,M){return new _a(f,g,_,M)}}function go(y,f,g,_){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?_a._fromErrorAndOperation(y,k,f,_):k})}function Ln(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function Tt(){return(Tt=(0,C.Z)(function*(y,f){const g=(0,V.m9)(y);yield D(!0,g,f);const{providerUserInfo:_}=yield $n(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),M=Ln(_||[]);return g.providerData=g.providerData.filter(k=>M.has(k.providerId)),M.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function ni(y,f){return gr.apply(this,arguments)}function gr(){return(gr=(0,C.Z)(function*(y,f,g=!1){const _=yield Lr(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return $r._forOperation(y,"link",_)})).apply(this,arguments)}function D(y,f,g){return P.apply(this,arguments)}function P(){return(P=(0,C.Z)(function*(y,f,g){yield Vr(f);const M=!1===y?"provider-already-linked":"no-such-provider";z(Ln(f.providerData).has(g)===y,f.auth,M)})).apply(this,arguments)}function T(y,f){return F.apply(this,arguments)}function F(){return(F=(0,C.Z)(function*(y,f,g=!1){var _;const{auth:M}=y,k="reauthenticate";try{const X=yield Lr(y,go(M,k,f,y),g);z(X.idToken,M,"internal-error");const me=Ke(X.idToken);z(me,M,"internal-error");const{sub:He}=me;return z(y.uid===He,M,"user-mismatch"),$r._forOperation(y,k,X)}catch(X){throw"auth/user-not-found"===(null===(_=X)||void 0===_?void 0:_.code)&&Oe(M,"user-mismatch"),X}})).apply(this,arguments)}function Q(y,f){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,C.Z)(function*(y,f,g=!1){const _="signIn",M=yield go(y,_,f),k=yield $r._fromIdTokenResponse(y,_,M);return g||(yield y._updateCurrentUser(k.user)),k})).apply(this,arguments)}function ie(y,f){return lt.apply(this,arguments)}function lt(){return(lt=(0,C.Z)(function*(y,f){return Q(bn(y),f)})).apply(this,arguments)}function on(y,f){return En.apply(this,arguments)}function En(){return(En=(0,C.Z)(function*(y,f){const g=(0,V.m9)(y);return yield D(!1,g,f.providerId),ni(g,f)})).apply(this,arguments)}function an(y,f){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,C.Z)(function*(y,f){return T((0,V.m9)(y),f)})).apply(this,arguments)}function zn(y,f){return un.apply(this,arguments)}function un(){return(un=(0,C.Z)(function*(y,f){return Yr(y,"POST","/v1/accounts:signInWithCustomToken",Kt(y,f))})).apply(this,arguments)}function Me(){return(Me=(0,C.Z)(function*(y,f){const g=bn(y),_=yield zn(g,{token:f,returnSecureToken:!0}),M=yield $r._fromIdTokenResponse(g,"signIn",_);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class St{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?qi._fromServerResponse(f,g):Oe(f,"internal-error")}}class qi extends St{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new qi(g)}}function zi(y,f,g){var _;z((null===(_=g.url)||void 0===_?void 0:_.length)>0,y,"invalid-continue-uri"),z(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(z(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(z(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Us(){return(Us=(0,C.Z)(function*(y,f,g){const _=(0,V.m9)(y),M={requestType:"PASSWORD_RESET",email:f};g&&zi(_,M,g),yield ur(_,M)})).apply(this,arguments)}function Wi(){return(Wi=(0,C.Z)(function*(y,f,g){yield Qt((0,V.m9)(y),{oobCode:f,newPassword:g})})).apply(this,arguments)}function js(){return(js=(0,C.Z)(function*(y,f){yield ks((0,V.m9)(y),{oobCode:f})})).apply(this,arguments)}function Xl(y,f){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,C.Z)(function*(y,f){const g=(0,V.m9)(y),_=yield Qt(g,{oobCode:f}),M=_.requestType;switch(z(M,g,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":z(_.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":z(_.mfaInfo,g,"internal-error");default:z(_.email,g,"internal-error")}let k=null;return _.mfaInfo&&(k=St._fromServerResponse(bn(g),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:k},operation:M}})).apply(this,arguments)}function ru(){return(ru=(0,C.Z)(function*(y,f){const{data:g}=yield Xl((0,V.m9)(y),f);return g.email})).apply(this,arguments)}function as(){return(as=(0,C.Z)(function*(y,f,g){const _=bn(y),M=yield Go(_,{returnSecureToken:!0,email:f,password:g}),k=yield $r._fromIdTokenResponse(_,"signIn",M);return yield _._updateCurrentUser(k.user),k})).apply(this,arguments)}function ri(){return(ri=(0,C.Z)(function*(y,f,g){const _=(0,V.m9)(y),M={requestType:"EMAIL_SIGNIN",email:f};z(g.handleCodeInApp,_,"argument-error"),g&&zi(_,M,g),yield Ui(_,M)})).apply(this,arguments)}function Ia(){return(Ia=(0,C.Z)(function*(y,f,g){const _=(0,V.m9)(y),M=Hi.credentialWithLink(f,g||Pe());return z(M._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),ie(_,M)})).apply(this,arguments)}function Td(y,f){return us.apply(this,arguments)}function us(){return(us=(0,C.Z)(function*(y,f){return Lt(y,"POST","/v1/accounts:createAuthUri",Kt(y,f))})).apply(this,arguments)}function $u(){return($u=(0,C.Z)(function*(y,f){const _={identifier:f,continueUri:ht()?Pe():"http://localhost"},{signinMethods:M}=yield Td((0,V.m9)(y),_);return M||[]})).apply(this,arguments)}function tc(){return(tc=(0,C.Z)(function*(y,f){const g=(0,V.m9)(y),M={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&zi(g.auth,M,f);const{email:k}=yield Ql(g.auth,M);k!==y.email&&(yield y.reload())})).apply(this,arguments)}function Cs(){return(Cs=(0,C.Z)(function*(y,f,g){const _=(0,V.m9)(y),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&zi(_.auth,k,g);const{email:X}=yield hi(_.auth,k);X!==y.email&&(yield y.reload())})).apply(this,arguments)}function Hu(y,f){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,C.Z)(function*(y,f){return Lt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function su(){return(su=(0,C.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const _=(0,V.m9)(y),k={idToken:yield _.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},X=yield Lr(_,Hu(_.auth,k));_.displayName=X.displayName||null,_.photoURL=X.photoUrl||null;const me=_.providerData.find(({providerId:He})=>"password"===He);me&&(me.displayName=_.displayName,me.photoURL=_.photoURL),yield _._updateTokensIfNecessary(X)})).apply(this,arguments)}function ou(y,f,g){return Un.apply(this,arguments)}function Un(){return(Un=(0,C.Z)(function*(y,f,g){const{auth:_}=y,k={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(k.email=f),g&&(k.password=g);const X=yield Lr(y,Ja(_,k));yield y._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class wn{constructor(f,g,_={}){this.isNewUser=f,this.providerId=g,this.profile=_}}class nc extends wn{constructor(f,g,_,M){super(f,g,_),this.username=M}}class rc extends wn{constructor(f,g){super(f,"facebook.com",g)}}class zu extends nc{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class tf extends wn{constructor(f,g){super(f,"google.com",g)}}class ic extends nc{constructor(f,g,_){super(f,"twitter.com",g,_)}}function nf(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function cs(y){var f,g;if(!y)return null;const{providerId:_}=y,M=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},k=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!_&&y?.idToken){const X=null===(g=null===(f=Ke(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(X)return new wn(k,"anonymous"!==X&&"custom"!==X?X:null)}if(!_)return null;switch(_){case"facebook.com":return new rc(k,M);case"github.com":return new zu(k,M);case"google.com":return new tf(k,M);case"twitter.com":return new ic(k,M,y.screenName||null);case"custom":case"anonymous":return new wn(k,null);default:return new wn(k,_,M)}}(g)}class $s{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new $s("enroll",f)}static _fromMfaPendingCredential(f){return new $s("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,_;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return $s._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(_=f.multiFactorSession)&&void 0!==_&&_.idToken)return $s._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Gr{constructor(f,g,_){this.session=f,this.hints=g,this.signInResolver=_}static _fromError(f,g){const _=bn(f),M=g.customData._serverResponse,k=(M.mfaInfo||[]).map(me=>St._fromServerResponse(_,me));z(M.mfaPendingCredential,_,"internal-error");const X=$s._fromMfaPendingCredential(M.mfaPendingCredential);return new Gr(X,k,function(){var me=(0,C.Z)(function*(He){const ot=yield He._process(_,X);delete M.mfaInfo,delete M.mfaPendingCredential;const wt=Object.assign(Object.assign({},M),{idToken:ot.idToken,refreshToken:ot.refreshToken});switch(g.operationType){case"signIn":const vt=yield $r._fromIdTokenResponse(_,g.operationType,wt);return yield _._updateCurrentUser(vt.user),vt;case"reauthenticate":return z(g.user,_,"internal-error"),$r._forOperation(g.user,g.operationType,wt);default:Oe(_,"internal-error")}});return function(He){return me.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,C.Z)(function*(){return g.signInResolver(f)})()}}function sc(y,f){return Lt(y,"POST","/v2/accounts/mfaEnrollment:start",Kt(y,f))}class Hs{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(_=>St._fromServerResponse(f.auth,_)))})}static _fromUser(f){return new Hs(f)}getSession(){var f=this;return(0,C.Z)(function*(){return $s._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var _=this;return(0,C.Z)(function*(){const M=f,k=yield _.getSession(),X=yield Lr(_.user,M._process(_.user.auth,k,g));return yield _.user._updateTokensIfNecessary(X),_.user.reload()})()}unenroll(f){var g=this;return(0,C.Z)(function*(){var _;const M="string"==typeof f?f:f.uid,k=yield g.user.getIdToken(),X=yield Lr(g.user,function dg(y,f){return Lt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Kt(y,f))}(g.user.auth,{idToken:k,mfaEnrollmentId:M}));g.enrolledFactors=g.enrolledFactors.filter(({uid:me})=>me!==M),yield g.user._updateTokensIfNecessary(X);try{yield g.user.reload()}catch(me){if("auth/user-token-expired"!==(null===(_=me)||void 0===_?void 0:_.code))throw me}})()}}const Gs=new WeakMap,bs="__sak";class ba{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(bs,"1"),this.storage.removeItem(bs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const qs=(()=>{class y extends ba{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,_)=>this.onStorageEvent(g,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ku(){const y=(0,V.z$)();return or(y)||pn(y)}()&&function Lo(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Xt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const _ of Object.keys(this.listeners)){const M=this.storage.getItem(_),k=this.localCache[_];M!==k&&g(_,k,M)}}onStorageEvent(g,_=!1){if(!g.key)return void this.forAllChangedKeys((me,He,ot)=>{this.notifyListeners(me,ot)});const M=g.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const me=this.storage.getItem(M);if(g.newValue!==me)null!==g.newValue?this.storage.setItem(M,g.newValue):this.storage.removeItem(M);else if(this.localCache[M]===g.newValue&&!_)return}const k=()=>{const me=this.storage.getItem(M);!_&&this.localCache[M]===me||this.notifyListeners(M,me)},X=this.storage.getItem(M);!function ar(){return(0,V.w1)()&&10===document.documentMode}()||X===g.newValue||g.newValue===g.oldValue?k():setTimeout(k,10)}notifyListeners(g,_){this.localCache[g]=_;const M=this.listeners[g];if(M)for(const k of Array.from(M))k(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,_,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:_,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(_)}_removeListener(g,_){this.listeners[g]&&(this.listeners[g].delete(_),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,_){var M=()=>super._set,k=this;return(0,C.Z)(function*(){yield M().call(k,g,_),k.localCache[g]=JSON.stringify(_)})()}_get(g){var _=()=>super._get,M=this;return(0,C.Z)(function*(){const k=yield _().call(M,g);return M.localCache[g]=JSON.stringify(k),k})()}_remove(g){var _=()=>super._remove,M=this;return(0,C.Z)(function*(){yield _().call(M,g),delete M.localCache[g]})()}}return y.type="LOCAL",y})(),ds=(()=>{class y extends ba{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,_){}_removeListener(g,_){}}return y.type="SESSION",y})();let Zu=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const _=this.receivers.find(k=>k.isListeningto(g));if(_)return _;const M=new y(g);return this.receivers.push(M),M}isListeningto(g){return this.eventTarget===g}handleEvent(g){var _=this;return(0,C.Z)(function*(){const M=g,{eventId:k,eventType:X,data:me}=M.data,He=_.handlersMap[X];if(!He?.size)return;M.ports[0].postMessage({status:"ack",eventId:k,eventType:X});const ot=Array.from(He).map(function(){var vt=(0,C.Z)(function*(br){return br(M.origin,me)});return function(br){return vt.apply(this,arguments)}}()),wt=yield function sf(y){return Promise.all(y.map(function(){var f=(0,C.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(_){return{fulfilled:!1,reason:_}}});return function(g){return f.apply(this,arguments)}}()))}(ot);M.ports[0].postMessage({status:"done",eventId:k,eventType:X,response:wt})})()}_subscribe(g,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(_)}_unsubscribe(g,_){this.handlersMap[g]&&_&&this.handlersMap[g].delete(_),(!_||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ko(y="",f=10){let g="";for(let _=0;_<f;_++)g+=Math.floor(10*Math.random());return y+g}class Qu{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,_=50){var M=this;return(0,C.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let X,me;return new Promise((He,ot)=>{const wt=Ko("",20);k.port1.start();const vt=setTimeout(()=>{ot(new Error("unsupported_event"))},_);me={messageChannel:k,onMessage(br){const fs=br;if(fs.data.eventId===wt)switch(fs.data.status){case"ack":clearTimeout(vt),X=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),He(fs.data.response);break;default:clearTimeout(vt),clearTimeout(X),ot(new Error("invalid_response"))}}},M.handlers.add(me),k.port1.addEventListener("message",me.onMessage),M.target.postMessage({eventType:f,eventId:wt,data:g},[k.port2])}).finally(()=>{me&&M.removeMessageHandler(me)})})()}}function gn(){return window}function yo(){return typeof gn().WorkerGlobalScope<"u"&&"function"==typeof gn().importScripts}function vo(){return(vo=(0,C.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Xu="firebaseLocalStorageDb",_o="firebaseLocalStorage",Rd="fbase_key";class Zo{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function uc(y,f){return y.transaction([_o],f?"readwrite":"readonly").objectStore(_o)}function Ws(){const y=indexedDB.open(Xu,1);return new Promise((f,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const _=y.result;try{_.createObjectStore(_o,{keyPath:Rd})}catch(M){g(M)}}),y.addEventListener("success",(0,C.Z)(function*(){const _=y.result;_.objectStoreNames.contains(_o)?f(_):(_.close(),yield function cu(){const y=indexedDB.deleteDatabase(Xu);return new Zo(y).toPromise()}(),f(yield Ws()))}))})}function el(y,f,g){return tl.apply(this,arguments)}function tl(){return(tl=(0,C.Z)(function*(y,f,g){const _=uc(y,!0).put({[Rd]:f,value:g});return new Zo(_).toPromise()})).apply(this,arguments)}function Ki(){return(Ki=(0,C.Z)(function*(y,f){const g=uc(y,!1).get(f),_=yield new Zo(g).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function gi(y,f){const g=uc(y,!0).delete(f);return new Zo(g).toPromise()}const Qo=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,C.Z)(function*(){return g.db||(g.db=yield Ws()),g.db})()}_withRetries(g){var _=this;return(0,C.Z)(function*(){let M=0;for(;;)try{const k=yield _._openDb();return yield g(k)}catch(k){if(M++>3)throw k;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,C.Z)(function*(){return yo()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,C.Z)(function*(){g.receiver=Zu._getInstance(function Ju(){return yo()?self:null}()),g.receiver._subscribe("keyChanged",function(){var _=(0,C.Z)(function*(M,k){return{keyProcessed:(yield g._poll()).includes(k.key)}});return function(M,k){return _.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var _=(0,C.Z)(function*(M,k){return["keyChanged"]});return function(M,k){return _.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,C.Z)(function*(){var _,M;if(g.activeServiceWorker=yield function zs(){return vo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Qu(g.activeServiceWorker);const k=yield g.sender._send("ping",{},800);!k||(null===(_=k[0])||void 0===_?void 0:_.fulfilled)&&(null===(M=k[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var _=this;return(0,C.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function Ta(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:g},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,C.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Ws();return yield el(g,bs,"1"),yield gi(g,bs),!0}catch{}return!1})()}_withPendingWrite(g){var _=this;return(0,C.Z)(function*(){_.pendingWrites++;try{yield g()}finally{_.pendingWrites--}})()}_set(g,_){var M=this;return(0,C.Z)(function*(){return M._withPendingWrite((0,C.Z)(function*(){return yield M._withRetries(k=>el(k,g,_)),M.localCache[g]=_,M.notifyServiceWorker(g)}))})()}_get(g){var _=this;return(0,C.Z)(function*(){const M=yield _._withRetries(k=>function nl(y,f){return Ki.apply(this,arguments)}(k,g));return _.localCache[g]=M,M})()}_remove(g){var _=this;return(0,C.Z)(function*(){return _._withPendingWrite((0,C.Z)(function*(){return yield _._withRetries(M=>gi(M,g)),delete _.localCache[g],_.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,C.Z)(function*(){const _=yield g._withRetries(X=>{const me=uc(X,!1).getAll();return new Zo(me).toPromise()});if(!_)return[];if(0!==g.pendingWrites)return[];const M=[],k=new Set;for(const{fbase_key:X,value:me}of _)k.add(X),JSON.stringify(g.localCache[X])!==JSON.stringify(me)&&(g.notifyListeners(X,me),M.push(X));for(const X of Object.keys(g.localCache))g.localCache[X]&&!k.has(X)&&(g.notifyListeners(X,null),M.push(X));return M})()}notifyListeners(g,_){this.localCache[g]=_;const M=this.listeners[g];if(M)for(const k of Array.from(M))k(_)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,C.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(_)}_removeListener(g,_){this.listeners[g]&&(this.listeners[g].delete(_),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Sa(y,f){return Lt(y,"POST","/v2/accounts/mfaSignIn:start",Kt(y,f))}function Zs(){return(Zs=(0,C.Z)(function*(y){return(yield Lt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function hs(y){return new Promise((f,g)=>{const _=document.createElement("script");_.setAttribute("src",y),_.onload=f,_.onerror=M=>{const k=Te("internal-error");k.customData=M,g(k)},_.type="text/javascript",_.charset="UTF-8",function Ds(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(_)})}function Io(y){return`__${y}${Math.floor(1e6*Math.random())}`}const qt=1e12;class hg{constructor(f){this.auth=f,this.counter=qt,this._widgets=new Map}render(f,g){const _=this.counter;return this._widgets.set(_,new Od(f,this.auth.name,g||{})),this.counter++,_}reset(f){var g;const _=f||qt;null===(g=this._widgets.get(_))||void 0===g||g.delete(),this._widgets.delete(_)}getResponse(f){var g;return(null===(g=this._widgets.get(f||qt))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,C.Z)(function*(){var _;return null===(_=g._widgets.get(f||qt))||void 0===_||_.execute(),""})()}}class Od{constructor(f,g,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof f?document.getElementById(f):f;z(M,"argument-error",{appName:g}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function du(y){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<y;_++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Pd=Io("rcb"),af=new sn(3e4,6e4);class kd{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=gn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return z(function Er(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(gn().grecaptcha):new Promise((_,M)=>{const k=gn().setTimeout(()=>{M(Te(f,"network-request-failed"))},af.get());gn()[Pd]=()=>{gn().clearTimeout(k),delete gn()[Pd];const me=gn().grecaptcha;if(!me)return void M(Te(f,"internal-error"));const He=me.render;me.render=(ot,wt)=>{const vt=He(ot,wt);return this.counter++,vt},this.hostLanguage=g,_(me)},hs(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:Pd,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(k),M(Te(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=gn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Fd{load(f){return(0,C.Z)(function*(){return new hg(f)})()}clearedOneInstance(){}}const hu="recaptcha",wr={theme:"light",type:"image"};class lc{constructor(f,g=Object.assign({},wr),_){this.parameters=g,this.type=hu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bn(_),this.isInvisible="invisible"===this.parameters.size,z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof f?document.getElementById(f):f;z(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fd:new kd,this.validateStartingState()}verify(){var f=this;return(0,C.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),_=f.getAssertedRecaptcha();return _.getResponse(g)||new Promise(k=>{const X=me=>{!me||(f.tokenChangeListeners.delete(X),k(me))};f.tokenChangeListeners.add(X),f.isInvisible&&_.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){z(!this.parameters.sitekey,this.auth,"argument-error"),z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(_=>_(g)),"function"==typeof f)f(g);else if("string"==typeof f){const _=gn()[f];"function"==typeof _&&_(g)}}}assertNotDestroyed(){z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,C.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const _=document.createElement("div");g.appendChild(_),g=_}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,C.Z)(function*(){z(ht()&&!yo(),f.auth,"internal-error"),yield function fu(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function mi(y){return Zs.apply(this,arguments)}(f.auth);z(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class lf{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=ss._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function qr(){return(qr=(0,C.Z)(function*(y,f,g){const _=bn(y),M=yield pu(_,f,(0,V.m9)(g));return new lf(M,k=>ie(_,k))})).apply(this,arguments)}function sl(){return(sl=(0,C.Z)(function*(y,f,g){const _=(0,V.m9)(y);yield D(!1,_,"phone");const M=yield pu(_.auth,f,(0,V.m9)(g));return new lf(M,k=>on(_,k))})).apply(this,arguments)}function Eo(){return(Eo=(0,C.Z)(function*(y,f,g){const _=(0,V.m9)(y),M=yield pu(_.auth,f,(0,V.m9)(g));return new lf(M,k=>an(_,k))})).apply(this,arguments)}function pu(y,f,g){return gu.apply(this,arguments)}function gu(){return(gu=(0,C.Z)(function*(y,f,g){var _;const M=yield g.verify();try{let k;if(z("string"==typeof M,y,"argument-error"),z(g.type===hu,y,"argument-error"),k="string"==typeof f?{phoneNumber:f}:f,"session"in k){const X=k.session;if("phoneNumber"in k)return z("enroll"===X.type,y,"internal-error"),(yield sc(y,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{z("signin"===X.type,y,"internal-error");const me=(null===(_=k.multiFactorHint)||void 0===_?void 0:_.uid)||k.multiFactorUid;return z(me,y,"missing-multi-factor-info"),(yield Sa(y,{mfaPendingCredential:X.credential,mfaEnrollmentId:me,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield Cd(y,{phoneNumber:k.phoneNumber,recaptchaToken:M});return X}}finally{g._reset()}})).apply(this,arguments)}function al(){return(al=(0,C.Z)(function*(y,f){yield ni((0,V.m9)(y),f)})).apply(this,arguments)}let Yo=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=bn(g)}verifyPhoneNumber(g,_){return pu(this.auth,g,(0,V.m9)(_))}static credential(g,_){return ss._fromVerification(g,_)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:_,temporaryProof:M}=g;return _&&M?ss._fromTokenResponse(_,M):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function wo(y,f){return f?oe(f):(z(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class ii extends ti{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return pr(f,this._buildIdpRequest())}_linkToIdToken(f,g){return pr(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return pr(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function cc(y){return Q(y.auth,new ii(y),y.bypassAuthState)}function Co(y){const{auth:f,user:g}=y;return z(g,f,"internal-error"),T(g,new ii(y),y.bypassAuthState)}function mu(y){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,C.Z)(function*(y){const{auth:f,user:g}=y;return z(g,f,"internal-error"),ni(g,new ii(y),y.bypassAuthState)})).apply(this,arguments)}class yu{constructor(f,g,_,M,k=!1){this.auth=f,this.resolver=_,this.user=M,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,C.Z)(function*(_,M){f.pendingPromise={resolve:_,reject:M};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(k){f.reject(k)}});return function(_,M){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,C.Z)(function*(){const{urlResponse:_,sessionId:M,postBody:k,tenantId:X,error:me,type:He}=f;if(me)return void g.reject(me);const ot={auth:g.auth,requestUri:_,sessionId:M,tenantId:X||void 0,postBody:k||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(He)(ot))}catch(wt){g.reject(wt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return cc;case"linkViaPopup":case"linkViaRedirect":return mu;case"reauthViaPopup":case"reauthViaRedirect":return Co;default:Oe(this.auth,"internal-error")}}resolve(f){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Aa=new sn(2e3,1e4);function Ma(){return(Ma=(0,C.Z)(function*(y,f,g){const _=bn(y);qe(y,f,fi);const M=wo(_,g);return new Ud(_,"signInViaPopup",f,M).executeNotNull()})).apply(this,arguments)}function ll(){return(ll=(0,C.Z)(function*(y,f,g){const _=(0,V.m9)(y);qe(_.auth,f,fi);const M=wo(_.auth,g);return new Ud(_.auth,"reauthViaPopup",f,M,_).executeNotNull()})).apply(this,arguments)}function Ra(){return(Ra=(0,C.Z)(function*(y,f,g){const _=(0,V.m9)(y);qe(_.auth,f,fi);const M=wo(_.auth,g);return new Ud(_.auth,"linkViaPopup",f,M,_).executeNotNull()})).apply(this,arguments)}let Ud=(()=>{class y extends yu{constructor(g,_,M,k,X){super(g,_,k,X),this.provider=M,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,C.Z)(function*(){const _=yield g.execute();return z(_,g.auth,"internal-error"),_})()}onExecution(){var g=this;return(0,C.Z)(function*(){ee(1===g.filter.length,"Popup operations only handle one event");const _=Ko();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],_),g.authWindow.associatedEvent=_,g.resolver._originValidation(g.auth).catch(M=>{g.reject(M)}),g.resolver._isIframeWebStorageSupported(g.auth,M=>{M||g.reject(Te(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var _,M;this.pollId=null!==(M=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Aa.get())};g()}}return y.currentPopupAction=null,y})();const bo=new Map;class Xo extends yu{constructor(f,g,_=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,_),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,C.Z)(function*(){let _=bo.get(g.auth._key());if(!_){try{const k=(yield function df(y,f){return Js.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;_=()=>Promise.resolve(k)}catch(M){_=()=>Promise.reject(M)}bo.set(g.auth._key(),_)}return g.bypassAuthState||bo.set(g.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,_=this;return(0,C.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(_,f);if("unknown"!==f.type){if(f.eventId){const M=yield _.auth._redirectUserForId(f.eventId);if(M)return _.user=M,g().call(_,f);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,C.Z)(function*(){})()}cleanUp(){}}function Js(){return(Js=(0,C.Z)(function*(y,f){const g=Wn(f),_=hc(y);if(!(yield _._isAvailable()))return!1;const M="true"===(yield _._get(g));return yield _._remove(g),M})).apply(this,arguments)}function dc(y,f){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,C.Z)(function*(y,f){return hc(y)._set(Wn(f),"true")})).apply(this,arguments)}function Do(y,f){bo.set(y._key(),f)}function hc(y){return oe(y._redirectPersistence)}function Wn(y){return vr("pendingRedirect",y.config.apiKey,y.name)}function b(){return(b=(0,C.Z)(function*(y,f,g){const _=bn(y);qe(y,f,fi);const M=wo(_,g);return yield dc(M,_),M._openRedirect(_,f,"signInViaRedirect")})).apply(this,arguments)}function B(){return(B=(0,C.Z)(function*(y,f,g){const _=(0,V.m9)(y);qe(_.auth,f,fi);const M=wo(_.auth,g);yield dc(M,_.auth);const k=yield gt(_);return M._openRedirect(_.auth,f,"reauthViaRedirect",k)})).apply(this,arguments)}function ke(){return(ke=(0,C.Z)(function*(y,f,g){const _=(0,V.m9)(y);qe(_.auth,f,fi);const M=wo(_.auth,g);yield D(!1,_,f.providerId),yield dc(M,_.auth);const k=yield gt(_);return M._openRedirect(_.auth,f,"linkViaRedirect",k)})).apply(this,arguments)}function pt(){return(pt=(0,C.Z)(function*(y,f){return yield bn(y)._initializationPromise,At(y,f,!1)})).apply(this,arguments)}function At(y,f){return kt.apply(this,arguments)}function kt(){return(kt=(0,C.Z)(function*(y,f,g=!1){const _=bn(y),M=wo(_,f),X=yield new Xo(_,M,g).execute();return X&&!g&&(delete X.user._redirectEventId,yield _._persistUserIfCurrent(X.user),yield _._setRedirectUser(null,f)),X})).apply(this,arguments)}function gt(y){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,C.Z)(function*(y){const f=Ko(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class vu{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(f,_)&&(g=!0,this.sendToConsumer(f,_),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function ta(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xi(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var _;if(f.error&&!xi(f)){const M=(null===(_=f.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";g.onError(Te(this.auth,M))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const _=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&_}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ea(f))}saveEventToCache(f){this.cachedEventUids.add(ea(f)),this.lastProcessedEventTime=Date.now()}}function ea(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function xi({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function Na(y){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,C.Z)(function*(y,f={}){return Lt(y,"GET","/v1/projects",f)})).apply(this,arguments)}const To=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ss=/^https?/;function ff(){return(ff=(0,C.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Na(y);for(const g of f)try{if(zy(g))return}catch{}Oe(y,"unauthorized-domain")})).apply(this,arguments)}function zy(y){const f=Pe(),{protocol:g,hostname:_}=new URL(f);if(y.startsWith("chrome-extension://")){const X=new URL(y);return""===X.hostname&&""===_?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&X.hostname===_}if(!Ss.test(g))return!1;if(To.test(y))return _===y;const M=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(_)}const Wy=new sn(3e4,6e4);function An(){const y=gn().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let pc=null;function dl(y){return pc=pc||function fg(y){return new Promise((f,g)=>{var _,M,k;function X(){An(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{An(),g(Te(y,"network-request-failed"))},timeout:Wy.get()})}if(null!==(M=null===(_=gn().gapi)||void 0===_?void 0:_.iframes)&&void 0!==M&&M.Iframe)f(gapi.iframes.getContext());else{if(null===(k=gn().gapi)||void 0===k||!k.load){const me=Io("iframefcb");return gn()[me]=()=>{gapi.load?X():g(Te(y,"network-request-failed"))},hs(`https://apis.google.com/js/api.js?onload=${me}`).catch(He=>g(He))}X()}}).catch(f=>{throw pc=null,f})}(y),pc}const As=new sn(5e3,15e3),Bd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pf(y){const f=y.config;z(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?Nn(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,_={apiKey:f.apiKey,appName:y.name,v:ue.SDK_VERSION},M=Zy.get(y.config.apiHost);M&&(_.eid=M);const k=y._getFrameworks();return k.length&&(_.fw=k.join(",")),`${g}?${(0,V.xO)(_).slice(1)}`}function $d(){return $d=(0,C.Z)(function*(y){const f=yield dl(y),g=gn().gapi;return z(g,y,"internal-error"),f.open({where:document.body,url:pf(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bd,dontclear:!0},_=>new Promise(function(){var M=(0,C.Z)(function*(k,X){yield _.restyle({setHideOnLeave:!1});const me=Te(y,"network-request-failed"),He=gn().setTimeout(()=>{X(me)},As.get());function ot(){gn().clearTimeout(He),k(_)}_.ping(ot).then(ot,()=>{X(me)})});return function(k,X){return M.apply(this,arguments)}}()))}),$d.apply(this,arguments)}const _u={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class hl{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hd(y,f,g,_,M,k){z(y.config.authDomain,y,"auth-domain-config-required"),z(y.config.apiKey,y,"invalid-api-key");const X={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:_,v:ue.SDK_VERSION,eventId:M};if(f instanceof fi){f.setDefaultLanguage(y.languageCode),X.providerId=f.providerId||"",(0,V.xb)(f.getCustomParameters())||(X.customParameters=JSON.stringify(f.getCustomParameters()));for(const[He,ot]of Object.entries(k||{}))X[He]=ot}if(f instanceof os){const He=f.getScopes().filter(ot=>""!==ot);He.length>0&&(X.scopes=He.join(","))}y.tenantId&&(X.tid=y.tenantId);const me=X;for(const He of Object.keys(me))void 0===me[He]&&delete me[He];return`${function Yy({config:y}){return y.emulator?Nn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,V.xO)(me).slice(1)}`}const _f="webStorageSupport";class ka extends class So{constructor(f){this.factorId=f}_process(f,g,_){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,_);case"signin":return this._finalizeSignIn(f,g.credential);default:return Se("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new ka(f)}_finalizeEnroll(f,g,_){return function xd(y,f){return Lt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Kt(y,f))}(f,{idToken:g,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Ks(y,f){return Lt(y,"POST","/v2/accounts/mfaSignIn:finalize",Kt(y,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let vg=(()=>{class y{constructor(){}static assertion(g){return ka._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var _g="@firebase/auth";class Eg{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,C.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(_=>{var M;f((null===(M=_)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Eu(){return window}function Ef(){return(Ef=(0,C.Z)(function*(y,f,g){var _;const{BuildInfo:M}=Eu();ee(f.sessionId,"AuthEvent did not contain a session ID");const k=yield bg(f.sessionId),X={};return pn()?X.ibi=M.packageName:We()?X.apn=M.packageName:Oe(y,"operation-not-supported-in-this-environment"),M.displayName&&(X.appDisplayName=M.displayName),X.sessionId=k,Hd(y,g,f.type,void 0,null!==(_=f.eventId)&&void 0!==_?_:void 0,X)})).apply(this,arguments)}function Cg(){return(Cg=(0,C.Z)(function*(y){const{BuildInfo:f}=Eu(),g={};pn()?g.iosBundleId=f.packageName:We()?g.androidPackageName=f.packageName:Oe(y,"operation-not-supported-in-this-environment"),yield Na(y,g)})).apply(this,arguments)}function Zi(){return(Zi=(0,C.Z)(function*(y,f,g){const{cordova:_}=Eu();let M=()=>{};try{yield new Promise((k,X)=>{let me=null;function He(){var vt;k();const br=null===(vt=_.plugins.browsertab)||void 0===vt?void 0:vt.close;"function"==typeof br&&br(),"function"==typeof g?.close&&g.close()}function ot(){me||(me=window.setTimeout(()=>{X(Te(y,"redirect-cancelled-by-user"))},2e3))}function wt(){"visible"===document?.visibilityState&&ot()}f.addPassiveListener(He),document.addEventListener("resume",ot,!1),We()&&document.addEventListener("visibilitychange",wt,!1),M=()=>{f.removePassiveListener(He),document.removeEventListener("resume",ot,!1),document.removeEventListener("visibilitychange",wt,!1),me&&window.clearTimeout(me)}})}finally{M()}})).apply(this,arguments)}function bg(y){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,C.Z)(function*(y){const f=nv(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function nv(y){if(ee(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let _=0;_<y.length;_++)g[_]=y.charCodeAt(_);return g}!function ev(y){(0,ue._registerComponent)(new ye.wA("auth",(f,{options:g})=>{const _=f.getProvider("app").getImmediate(),M=f.getProvider("heartbeat"),{apiKey:k,authDomain:X}=_.options;return((me,He)=>{z(k&&!k.includes(":"),"invalid-api-key",{appName:me.name}),z(!X?.includes(":"),"argument-error",{appName:me.name});const ot={apiKey:k,authDomain:X,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ti(y)},wt=new Vo(me,He,ot);return function ge(y,f){const g=f?.persistence||[],_=(Array.isArray(g)?g:[g]).map(oe);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(_,f?.popupRedirectResolver)}(wt,g),wt})(_,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,_)=>{f.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new ye.wA("auth-internal",f=>{const g=bn(f.getProvider("auth").getImmediate());return new Eg(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(_g,"0.20.5",function Xy(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ue.registerVersion)(_g,"0.20.5","esm2017")}("Browser");class Ae extends vu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,C.Z)(function*(){yield f.initPromise})()}}function Xs(y){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,C.Z)(function*(y){const f=yield st()._get(yc(y));return f&&(yield st()._remove(yc(y))),f})).apply(this,arguments)}function Fa(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const _=Math.floor(Math.random()*f.length);y.push(f.charAt(_))}return y.join("")}function st(){return oe(qs)}function yc(y){return vr("authEvent",y.config.apiKey,y.name)}function gl(y){if(!y?.includes("?"))return{};const[f,...g]=y.split("?");return(0,V.zd)(g.join("?"))}function Wd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Te("no-auth-event")}}function tr(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function wf(y=(0,V.z$)()){return!("file:"!==tr()&&"ionic:"!==tr()&&"capacitor:"!==tr()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ag(){try{const y=self.localStorage,f=Ko();if(y)return y.setItem(f,"1"),y.removeItem(f),!function Sg(y=(0,V.z$)()){return function Cf(){return(0,V.w1)()&&11===document?.documentMode}()||function Tg(y=(0,V.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,V.hl)()}catch{return Kd()&&(0,V.hl)()}return!1}function Kd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function xo(){return(function Ao(){return"http:"===tr()||"https:"===tr()}()||(0,V.ru)()||wf())&&!function Dg(){return(0,V.b$)()||(0,V.UG)()}()&&Ag()&&!Kd()}function _c(){return wf()&&typeof document<"u"}function yl(){return(yl=(0,C.Z)(function*(){return!!_c()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const Mi={LOCAL:"local",NONE:"none",SESSION:"session"},wu=z,Ic="persistence";function bf(y){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,C.Z)(function*(y){yield y._initializationPromise;const f=Df(),g=vr(Ic,y.config.apiKey,y.name);f&&f.setItem(g,y._getPersistence())})).apply(this,arguments)}function Df(){var y;try{return(null===(y=function _i(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const xg=z;class Nr{constructor(){this.browserResolver=oe(class Jy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ds,this._completeRedirectFn=At,this._overrideRedirectResult=Do}_openPopup(f,g,_,M){var k=this;return(0,C.Z)(function*(){var X;ee(null===(X=k.eventManagers[f._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const me=Hd(f,g,_,Pe(),M);return function yf(y,f,g,_=500,M=600){const k=Math.max((window.screen.availHeight-M)/2,0).toString(),X=Math.max((window.screen.availWidth-_)/2,0).toString();let me="";const He=Object.assign(Object.assign({},_u),{width:_.toString(),height:M.toString(),top:k,left:X}),ot=(0,V.z$)().toLowerCase();g&&(me=Mr(ot)?"_blank":g),Pn(ot)&&(f=f||"http://localhost",He.scrollbars="yes");const wt=Object.entries(He).reduce((br,[fs,Il])=>`${br}${fs}=${Il},`,"");if(function ln(y=(0,V.z$)()){var f;return pn(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(ot)&&"_self"!==me)return function vf(y,f){const g=document.createElement("a");g.href=y,g.target=f;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(_)}(f||"",me),new hl(null);const vt=window.open(f||"",me,wt);z(vt,y,"popup-blocked");try{vt.focus()}catch{}return new hl(vt)}(f,me,Ko())})()}_openRedirect(f,g,_,M){var k=this;return(0,C.Z)(function*(){return yield k._originValidation(f),function Yu(y){gn().location.href=y}(Hd(f,g,_,Pe(),M)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:M,promise:k}=this.eventManagers[g];return M?Promise.resolve(M):(ee(k,"If manager is not set, promise should be"),k)}const _=this.initAndGetManager(f);return this.eventManagers[g]={promise:_},_.catch(()=>{delete this.eventManagers[g]}),_}initAndGetManager(f){var g=this;return(0,C.Z)(function*(){const _=yield function gf(y){return $d.apply(this,arguments)}(f),M=new vu(f);return _.register("authEvent",k=>(z(k?.authEvent,f,"invalid-auth-event"),{status:M.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:M},g.iframes[f._key()]=_,M})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(_f,{type:_f},M=>{var k;const X=null===(k=M?.[0])||void 0===k?void 0:k[_f];void 0!==X&&g(!!X),Oe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function hf(y){return ff.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Xt()||or()||pn()}}),this.cordovaResolver=oe(class qd{constructor(){this._redirectPersistence=ds,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=At,this._overrideRedirectResult=Do}_initialize(f){var g=this;return(0,C.Z)(function*(){const _=f._key();let M=g.eventManagers.get(_);return M||(M=new Ae(f),g.eventManagers.set(_,M),g.attachCallbackListeners(f,M)),M})()}_openPopup(f){Oe(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,_,M){var k=this;return(0,C.Z)(function*(){!function mc(y){var f,g,_,M,k,X,me,He,ot,wt;const vt=Eu();z("function"==typeof(null===(f=vt?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),z(typeof(null===(g=vt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),z("function"==typeof(null===(k=null===(M=null===(_=vt?.cordova)||void 0===_?void 0:_.plugins)||void 0===M?void 0:M.browsertab)||void 0===k?void 0:k.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(He=null===(me=null===(X=vt?.cordova)||void 0===X?void 0:X.plugins)||void 0===me?void 0:me.browsertab)||void 0===He?void 0:He.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(wt=null===(ot=vt?.cordova)||void 0===ot?void 0:ot.InAppBrowser)||void 0===wt?void 0:wt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const X=yield k._initialize(f);yield X.initialized(),X.resetRedirect(),function cl(){bo.clear()}(),yield k._originValidation(f);const me=function fl(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:Fa(),postBody:null,tenantId:y.tenantId,error:Te(y,"no-auth-event")}}(f,_,M);yield function pl(y,f){return st()._set(yc(y),f)}(f,me);const He=yield function tv(y,f,g){return Ef.apply(this,arguments)}(f,me,g),ot=yield function gc(y){const{cordova:f}=Eu();return new Promise(g=>{f.plugins.browsertab.isAvailable(_=>{let M=null;_?f.plugins.browsertab.openUrl(y):M=f.InAppBrowser.open(y,function ut(y=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(M)})})}(He);return function Rr(y,f,g){return Zi.apply(this,arguments)}(f,X,ot)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function SI(y){return Cg.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:_,handleOpenURL:M,BuildInfo:k}=Eu(),X=setTimeout((0,C.Z)(function*(){yield Xs(f),g.onEvent(Wd())}),500),me=function(){var wt=(0,C.Z)(function*(vt){clearTimeout(X);const br=yield Xs(f);let fs=null;br&&vt?.url&&(fs=function xI(y,f){var g,_;const M=function Gd(y){const f=gl(y),g=f.link?decodeURIComponent(f.link):void 0,_=gl(g).link,M=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return gl(M).link||M||_||g||y}(f);if(M.includes("/__/auth/callback")){const k=gl(M),X=k.firebaseError?function Ot(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(k.firebaseError)):null,me=null===(_=null===(g=X?.code)||void 0===g?void 0:g.split("auth/"))||void 0===_?void 0:_[1],He=me?Te(me):null;return He?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:He,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:M,postBody:null}}return null}(br,vt.url)),g.onEvent(fs||Wd())});return function(br){return wt.apply(this,arguments)}}();typeof _<"u"&&"function"==typeof _.subscribe&&_.subscribe(null,me);const He=M,ot=`${k.packageName.toLowerCase()}://`;Eu().handleOpenURL=function(){var wt=(0,C.Z)(function*(vt){if(vt.toLowerCase().startsWith(ot)&&me({url:vt}),"function"==typeof He)try{He(vt)}catch(br){console.error(br)}});return function(vt){return wt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ds,this._completeRedirectFn=At,this._overrideRedirectResult=Do}_initialize(f){var g=this;return(0,C.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,_,M){var k=this;return(0,C.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(f,g,_,M)})()}_openRedirect(f,g,_,M){var k=this;return(0,C.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(f,g,_,M)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return _c()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xg(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,C.Z)(function*(){if(f.underlyingResolver)return;const g=yield function si(){return yl.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Tf(y){return y.unwrap()}function Cc(y){return bc(y)}function bc(y){const{_tokenResponse:f}=y instanceof V.ZR?y.customData:y;if(!f)return null;if(!(y instanceof V.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Yo.credentialFromResult(y);const g=f.providerId;if(!g||"password"===g)return null;let _;switch(g){case"google.com":_=fo;break;case"facebook.com":_=$o;break;case"github.com":_=po;break;case"twitter.com":_=Ho;break;default:const{oauthIdToken:M,oauthAccessToken:k,oauthTokenSecret:X,pendingToken:me,nonce:He}=f;return k||X||M||me?me?g.startsWith("saml.")?Fn._create(g,me):ji._fromParams({providerId:g,signInMethod:g,pendingToken:me,idToken:M,accessToken:k}):new Ir(g).credential({idToken:M,accessToken:k,rawNonce:He}):null}return y instanceof V.ZR?_.credentialFromError(y):_.credentialFromResult(y)}function Cr(y,f){return f.catch(g=>{throw g instanceof V.ZR&&function iv(y,f){var g,_;const M=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null===(_=f)||void 0===_?void 0:_.code))f.resolver=new Dc(y,function jn(y,f){var g;const _=(0,V.m9)(y),M=f;return z(f.customData.operationType,_,"argument-error"),z(null===(g=M.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,_,"argument-error"),Gr._fromError(_,M)}(y,f));else if(M){const k=bc(f),X=f;k&&(X.credential=k,X.tenantId=M.tenantId||void 0,X.email=M.email||void 0,X.phoneNumber=M.phoneNumber||void 0)}}(y,g),g}).then(g=>{const M=g.user;return{operationType:g.operationType,credential:Cc(g),additionalUserInfo:nf(g),user:na.getOrCreate(M)}})}function eo(y,f){return vl.apply(this,arguments)}function vl(){return(vl=(0,C.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:_=>Cr(y,g.confirm(_))}})).apply(this,arguments)}class Dc{constructor(f,g){this.resolver=g,this.auth=function wc(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Cr(Tf(this.auth),this.resolver.resolveSignIn(f))}}class na{constructor(f){this._delegate=f,this.multiFactor=function Md(y){const f=(0,V.m9)(y);return Gs.has(f)||Gs.set(f,Hs._fromUser(f)),Gs.get(f)}(f)}static getOrCreate(f){return na.USER_MAP.has(f)||na.USER_MAP.set(f,new na(f)),na.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,C.Z)(function*(){return Cr(g.auth,on(g._delegate,f))})()}linkWithPhoneNumber(f,g){var _=this;return(0,C.Z)(function*(){return eo(_.auth,function Ys(y,f,g){return sl.apply(this,arguments)}(_._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,C.Z)(function*(){return Cr(g.auth,function Vd(y,f,g){return Ra.apply(this,arguments)}(g._delegate,f,Nr))})()}linkWithRedirect(f){var g=this;return(0,C.Z)(function*(){return yield bf(bn(g.auth)),function ne(y,f,g){return function fe(y,f,g){return ke.apply(this,arguments)}(y,f,g)}(g._delegate,f,Nr)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,C.Z)(function*(){return Cr(g.auth,an(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return eo(this.auth,function ol(y,f,g){return Eo.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Cr(this.auth,function ul(y,f,g){return ll.apply(this,arguments)}(this._delegate,f,Nr))}reauthenticateWithRedirect(f){var g=this;return(0,C.Z)(function*(){return yield bf(bn(g.auth)),function A(y,f,g){return function R(y,f,g){return B.apply(this,arguments)}(y,f,g)}(g._delegate,f,Nr)})()}sendEmailVerification(f){return function Ea(y,f){return tc.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,C.Z)(function*(){return yield function Gi(y,f){return Tt.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function qu(y,f){return ou((0,V.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function ls(y,f){return ou((0,V.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function cf(y,f){return al.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Gu(y,f){return su.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function wa(y,f,g){return Cs.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}na.USER_MAP=new WeakMap;const Tc=z;let Sc=(()=>{class y{constructor(g,_){if(this.app=g,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=g.options;Tc(M,"invalid-api-key",{appName:g.name}),Tc(M,"invalid-api-key",{appName:g.name});const k=typeof window<"u"?Nr:void 0;this._delegate=_.initialize({options:{persistence:sv(M,g.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(se),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?na.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,_){!function Si(y,f,g){const _=bn(y);z(_._canInitEmulator,_,"emulator-config-failed"),z(/^https?:\/\//.test(f),_,"invalid-emulator-scheme");const M=!!g?.disableWarnings,k=it(f),{host:X,port:me}=function lo(y){const f=it(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!g)return{host:"",port:null};const _=g[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(_);if(M){const k=M[1];return{host:k,port:is(_.substr(k.length+1))}}{const[k,X]=_.split(":");return{host:k,port:is(X)}}}(f);_.config.emulator={url:`${k}//${X}${null===me?"":`:${me}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:X,port:me,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function _r(){function y(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,_)}applyActionCode(g){return function qo(y,f){return js.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Xl(this._delegate,g)}confirmPasswordReset(g,_){return function Es(y,f,g){return Wi.apply(this,arguments)}(this._delegate,g,_)}createUserWithEmailAndPassword(g,_){var M=this;return(0,C.Z)(function*(){return Cr(M._delegate,function Hr(y,f,g){return as.apply(this,arguments)}(M._delegate,g,_))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function iu(y,f){return $u.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function zo(y,f){return"EMAIL_SIGNIN"===Rt.parseLink(f)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,C.Z)(function*(){Tc(xo(),g._delegate,"operation-not-supported-in-this-environment");const _=yield function Qe(y,f){return pt.apply(this,arguments)}(g._delegate,Nr);return _?Cr(g._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function rv(y,f){bn(y)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,_,M){const{next:k,error:X,complete:me}=La(g,_,M);return this._delegate.onAuthStateChanged(k,X,me)}onIdTokenChanged(g,_,M){const{next:k,error:X,complete:me}=La(g,_,M);return this._delegate.onIdTokenChanged(k,X,me)}sendSignInLinkToEmail(g,_){return function ws(y,f,g){return ri.apply(this,arguments)}(this._delegate,g,_)}sendPasswordResetEmail(g,_){return function Vn(y,f,g){return Us.apply(this,arguments)}(this._delegate,g,_||void 0)}setPersistence(g){var _=this;return(0,C.Z)(function*(){let M;switch(function Zd(y,f){wu(Object.values(Mi).includes(f),y,"invalid-persistence-type"),(0,V.b$)()?wu(f!==Mi.SESSION,y,"unsupported-persistence-type"):(0,V.UG)()?wu(f===Mi.NONE,y,"unsupported-persistence-type"):Kd()?wu(f===Mi.NONE||f===Mi.LOCAL&&(0,V.hl)(),y,"unsupported-persistence-type"):wu(f===Mi.NONE||Ag(),y,"unsupported-persistence-type")}(_._delegate,g),g){case Mi.SESSION:M=ds;break;case Mi.LOCAL:M=(yield oe(Qo)._isAvailable())?Qo:qs;break;case Mi.NONE:M=Jt;break;default:return Oe("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Cr(this._delegate,function Sn(y){return nu.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Cr(this._delegate,ie(this._delegate,g))}signInWithCustomToken(g){return Cr(this._delegate,function lr(y,f){return Me.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,_){return Cr(this._delegate,function Dd(y,f,g){return ie((0,V.m9)(y),Hi.credential(f,g))}(this._delegate,g,_))}signInWithEmailLink(g,_){return Cr(this._delegate,function ec(y,f,g){return Ia.apply(this,arguments)}(this._delegate,g,_))}signInWithPhoneNumber(g,_){return eo(this._delegate,function Ld(y,f,g){return qr.apply(this,arguments)}(this._delegate,g,_))}signInWithPopup(g){var _=this;return(0,C.Z)(function*(){return Tc(xo(),_._delegate,"operation-not-supported-in-this-environment"),Cr(_._delegate,function xa(y,f,g){return Ma.apply(this,arguments)}(_._delegate,g,Nr))})()}signInWithRedirect(g){var _=this;return(0,C.Z)(function*(){return Tc(xo(),_._delegate,"operation-not-supported-in-this-environment"),yield bf(_._delegate),function fc(y,f,g){return function jd(y,f,g){return b.apply(this,arguments)}(y,f,g)}(_._delegate,g,Nr)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Bu(y,f){return ru.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Mi,y})();function La(y,f,g){let _=y;"function"!=typeof y&&({next:_,error:f,complete:g}=y);const M=_;return{next:X=>M(X&&na.getOrCreate(X)),error:f,complete:g}}function sv(y,f){const g=function Ec(y,f){const g=Df();if(!g)return[];const _=vr(Ic,y,f);switch(g.getItem(_)){case Mi.NONE:return[Jt];case Mi.LOCAL:return[Qo,ds];case Mi.SESSION:return[ds];default:return[]}}(y,f);if(typeof self<"u"&&!g.includes(Qo)&&g.push(Qo),typeof window<"u")for(const _ of[qs,ds])g.includes(_)||g.push(_);return g.includes(Jt)||g.push(Jt),g}class Sf{constructor(){this.providerId="phone",this._delegate=new Yo(Tf(d.Z.auth()))}static credential(f,g){return Yo.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}Sf.PHONE_SIGN_IN_METHOD=Yo.PHONE_SIGN_IN_METHOD,Sf.PROVIDER_ID=Yo.PROVIDER_ID;const Ii=z;class Ac{constructor(f,g,_=d.Z.app()){var M;Ii(null===(M=_.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new lc(f,g,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function _l(y){y.INTERNAL.registerComponent(new ye.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),_=f.getProvider("auth");return new Sc(g,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Hi,FacebookAuthProvider:$o,GithubAuthProvider:po,GoogleAuthProvider:fo,OAuthProvider:Ir,SAMLAuthProvider:In,PhoneAuthProvider:Sf,PhoneMultiFactorGenerator:vg,RecaptchaVerifier:Ac,TwitterAuthProvider:Ho,Auth:Sc,AuthCredential:ti,Error:V.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.18")}(d.Z)},4497:(ct,De)=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});var L=function(){function C(d,V,ue,re){this.id=C.nextId++,this.text="default text",this.cssClass="",this.closeOnClick=!1,this.showCloseBtn=!1,d&&(this.text=d),V&&(this.cssClass=V),ue&&(this.closeOnClick=ue),re&&(this.showCloseBtn=re)}return C.nextId=0,C}();De.FlashMessage=L},2570:function(ct,De,L){"use strict";var C=L(4650),d=L(5673),V=L(6895);function ue(Ie,se){1&Ie&&C.\u0275\u0275element(0,"div",3)}function re(Ie,se){if(1&Ie){var je=C.\u0275\u0275getCurrentView();C.\u0275\u0275elementStart(0,"button",7),C.\u0275\u0275listener("click",function(){C.\u0275\u0275restoreView(je);var ce=C.\u0275\u0275nextContext().$implicit,Ge=C.\u0275\u0275nextContext();return C.\u0275\u0275resetView(Ge.close(ce))}),C.\u0275\u0275elementStart(1,"span",8),C.\u0275\u0275text(2,"\xd7"),C.\u0275\u0275elementEnd()()}}var he=function(Ie){return{"alert-dismissible":Ie}};function ye(Ie,se){if(1&Ie){var je=C.\u0275\u0275getCurrentView();C.\u0275\u0275elementStart(0,"div",4),C.\u0275\u0275listener("click",function(){var Xe=C.\u0275\u0275restoreView(je).$implicit,Oe=C.\u0275\u0275nextContext();return C.\u0275\u0275resetView(Oe.alertClicked(Xe))}),C.\u0275\u0275template(1,re,3,0,"button",5),C.\u0275\u0275element(2,"div",6),C.\u0275\u0275elementEnd()}if(2&Ie){var de=se.$implicit;C.\u0275\u0275classMapInterpolate1("alert flash-message ",de.cssClass,""),C.\u0275\u0275styleProp("cursor",de.closeOnClick?"pointer":"inherit"),C.\u0275\u0275property("ngClass",C.\u0275\u0275pureFunction1(8,he,de.showCloseBtn)),C.\u0275\u0275advance(1),C.\u0275\u0275property("ngIf",de.showCloseBtn),C.\u0275\u0275advance(1),C.\u0275\u0275property("innerHTML",de.text,C.\u0275\u0275sanitizeHtml)}}var pe=this&&this.__decorate||function(Ie,se,je,de){var Xe,ce=arguments.length,Ge=ce<3?se:null===de?de=Object.getOwnPropertyDescriptor(se,je):de;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ge=Reflect.decorate(Ie,se,je,de);else for(var Oe=Ie.length-1;Oe>=0;Oe--)(Xe=Ie[Oe])&&(Ge=(ce<3?Xe(Ge):ce>3?Xe(se,je,Ge):Xe(se,je))||Ge);return ce>3&&Ge&&Object.defineProperty(se,je,Ge),Ge},_e=this&&this.__metadata||function(Ie,se){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Ie,se)};Object.defineProperty(De,"__esModule",{value:!0});var $=L(4650),G=L(4497),J=L(5673),Ue=function(){function Ie(se,je){this._flashMessagesService=se,this._cdRef=je,this._defaults={text:"default message",closeOnClick:!1,showCloseBtn:!1,cssClass:""},this.messages=[],this.classes="",this._grayOut=!1,this._flashMessagesService.show=this.show.bind(this),this._flashMessagesService.grayOut=this.grayOut.bind(this)}return Ie.prototype.ngOnInit=function(){},Ie.prototype.show=function(se,je){var de=this;void 0===je&&(je={});var ce={timeout:2500,closeOnClick:!1,showCloseBtn:!1,cssClass:"",text:"default message"};for(var Ge in je)ce[Ge]=je[Ge];var Xe=new G.FlashMessage(se,ce.cssClass,ce.closeOnClick,ce.showCloseBtn);Xe.timer=window.setTimeout(function(){de._remove(Xe),de._cdRef.detectChanges()},ce.timeout),this.messages.push(Xe),this._cdRef.detectChanges()},Ie.prototype.close=function(se){clearTimeout(se.timer),this._remove(se),this._cdRef.detectChanges()},Ie.prototype.alertClicked=function(se){se.closeOnClick&&this.close(se)},Ie.prototype.grayOut=function(se){void 0===se&&(se=!1),this._grayOut=se},Ie.prototype._remove=function(se){this.messages=this.messages.filter(function(je){return je.id!==se.id})},(Ie=pe([_e("design:paramtypes",[J.FlashMessagesService,$.ChangeDetectorRef])],Ie)).\u0275fac=function(je){return new(je||Ie)(C.\u0275\u0275directiveInject(d.FlashMessagesService),C.\u0275\u0275directiveInject(C.ChangeDetectorRef))},Ie.\u0275cmp=C.\u0275\u0275defineComponent({type:Ie,selectors:[["flash-messages"]],decls:3,vars:2,consts:[["id","flashMessages",1,"flash-messages"],["id","grayOutDiv",4,"ngIf"],[3,"class","ngClass","cursor","click",4,"ngFor","ngForOf"],["id","grayOutDiv"],[3,"ngClass","click"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(je,de){1&je&&(C.\u0275\u0275elementStart(0,"div",0),C.\u0275\u0275template(1,ue,1,0,"div",1),C.\u0275\u0275template(2,ye,3,10,"div",2),C.\u0275\u0275elementEnd()),2&je&&(C.\u0275\u0275advance(1),C.\u0275\u0275property("ngIf",de._grayOut&&de.messages.length),C.\u0275\u0275advance(1),C.\u0275\u0275property("ngForOf",de.messages))},dependencies:[V.NgClass,V.NgForOf,V.NgIf],encapsulation:2}),Ie}();De.FlashMessagesComponent=Ue},5673:function(ct,De,L){"use strict";var C=L(4650);Object.defineProperty(De,"__esModule",{value:!0}),L(4650);var ue=function(){function re(){}return re.\u0275fac=function(ye){return new(ye||re)},re.\u0275prov=C.\u0275\u0275defineInjectable({token:re,factory:function(he){return re.\u0275fac(he)}}),re}();De.FlashMessagesService=ue},3241:(ct,De,L)=>{var d=L(2570),V=L(8533);De.qz=V.FlashMessagesModule;var ue=L(5673);De.GQ=ue.FlashMessagesService,De.cS=d.FlashMessagesComponent},8533:function(ct,De,L){"use strict";var C=L(4650);L(2570),L(6895),Object.defineProperty(De,"__esModule",{value:!0}),L(4650);var he=L(6895),pe=(L(2570),L(5673)),_e=function(){function $(){}var G;return G=$,$.forRoot=function(){return{ngModule:G,providers:[pe.FlashMessagesService]}},$.\u0275fac=function(Ue){return new(Ue||$)},$.\u0275mod=C.\u0275\u0275defineNgModule({type:$}),$.\u0275inj=C.\u0275\u0275defineInjector({imports:[he.CommonModule]}),$}();De.FlashMessagesModule=_e},9751:(ct,De,L)=>{"use strict";L.d(De,{y:()=>pe});var C=L(2961),d=L(727),V=L(8822),ue=L(9635),re=L(2416),he=L(576),ye=L(2806);let pe=(()=>{class J{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const se=new J;return se.source=this,se.operator=Ie,se}subscribe(Ie,se,je){const de=function G(J){return J&&J instanceof C.Lv||function $(J){return J&&(0,he.m)(J.next)&&(0,he.m)(J.error)&&(0,he.m)(J.complete)}(J)&&(0,d.Nn)(J)}(Ie)?Ie:new C.Hp(Ie,se,je);return(0,ye.x)(()=>{const{operator:ce,source:Ge}=this;de.add(ce?ce.call(de,Ge):Ge?this._subscribe(de):this._trySubscribe(de))}),de}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(se){Ie.error(se)}}forEach(Ie,se){return new(se=_e(se))((je,de)=>{const ce=new C.Hp({next:Ge=>{try{Ie(Ge)}catch(Xe){de(Xe),ce.unsubscribe()}},error:de,complete:je});this.subscribe(ce)})}_subscribe(Ie){var se;return null===(se=this.source)||void 0===se?void 0:se.subscribe(Ie)}[V.L](){return this}pipe(...Ie){return(0,ue.U)(Ie)(this)}toPromise(Ie){return new(Ie=_e(Ie))((se,je)=>{let de;this.subscribe(ce=>de=ce,ce=>je(ce),()=>se(de))})}}return J.create=Ue=>new J(Ue),J})();function _e(J){var Ue;return null!==(Ue=J??re.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(ct,De,L)=>{"use strict";L.d(De,{x:()=>ye});var C=L(9751),d=L(727);const ue=(0,L(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=L(8737),he=L(2806);let ye=(()=>{class _e extends C.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const J=new pe(this,this);return J.operator=G,J}_throwIfClosed(){if(this.closed)throw new ue}next(G){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(G)}})}error(G){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:J}=this;for(;J.length;)J.shift().error(G)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:J,isStopped:Ue,observers:Ie}=this;return J||Ue?d.Lc:(this.currentObservers=null,Ie.push(G),new d.w0(()=>{this.currentObservers=null,(0,re.P)(Ie,G)}))}_checkFinalizedStatuses(G){const{hasError:J,thrownError:Ue,isStopped:Ie}=this;J?G.error(Ue):Ie&&G.complete()}asObservable(){const G=new C.y;return G.source=this,G}}return _e.create=($,G)=>new pe($,G),_e})();class pe extends ye{constructor($,G){super(),this.destination=$,this.source=G}next($){var G,J;null===(J=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===J||J.call(G,$)}error($){var G,J;null===(J=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===J||J.call(G,$)}complete(){var $,G;null===(G=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===G||G.call($)}_subscribe($){var G,J;return null!==(J=null===(G=this.source)||void 0===G?void 0:G.subscribe($))&&void 0!==J?J:d.Lc}}},2961:(ct,De,L)=>{"use strict";L.d(De,{Hp:()=>je,Lv:()=>J});var C=L(576),d=L(727),V=L(2416),ue=L(7849);function re(){}const he=_e("C",void 0,void 0);function _e(Oe,Te,xe){return{kind:Oe,value:Te,error:xe}}var $=L(3410),G=L(2806);class J extends d.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,d.Nn)(Te)&&Te.add(this)):this.destination=Xe}static create(Te,xe,qe){return new je(Te,xe,qe)}next(Te){this.isStopped?Ge(function pe(Oe){return _e("N",Oe,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?Ge(function ye(Oe){return _e("E",void 0,Oe)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?Ge(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Ie(Oe,Te){return Ue.call(Oe,Te)}class se{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:xe}=this;if(xe.next)try{xe.next(Te)}catch(qe){de(qe)}}error(Te){const{partialObserver:xe}=this;if(xe.error)try{xe.error(Te)}catch(qe){de(qe)}else de(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(xe){de(xe)}}}class je extends J{constructor(Te,xe,qe){let ze;if(super(),(0,C.m)(Te)||!Te)ze={next:Te??void 0,error:xe??void 0,complete:qe??void 0};else{let z;this&&V.v.useDeprecatedNextContext?(z=Object.create(Te),z.unsubscribe=()=>this.unsubscribe(),ze={next:Te.next&&Ie(Te.next,z),error:Te.error&&Ie(Te.error,z),complete:Te.complete&&Ie(Te.complete,z)}):ze=Te}this.destination=new se(ze)}}function de(Oe){V.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Oe):(0,ue.h)(Oe)}function Ge(Oe,Te){const{onStoppedNotification:xe}=V.v;xe&&$.z.setTimeout(()=>xe(Oe,Te))}const Xe={closed:!0,next:re,error:function ce(Oe){throw Oe},complete:re}},727:(ct,De,L)=>{"use strict";L.d(De,{Lc:()=>he,w0:()=>re,Nn:()=>ye});var C=L(576);const V=(0,L(3888).d)(_e=>function(G){_e(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((J,Ue)=>`${Ue+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ue=L(8737);class re{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Ie of G)Ie.remove(this);else G.remove(this);const{initialTeardown:J}=this;if((0,C.m)(J))try{J()}catch(Ie){$=Ie instanceof V?Ie.errors:[Ie]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Ie of Ue)try{pe(Ie)}catch(se){$=$??[],se instanceof V?$=[...$,...se.errors]:$.push(se)}}if($)throw new V($)}}add($){var G;if($&&$!==this)if(this.closed)pe($);else{if($ instanceof re){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push($)}}_hasParent($){const{_parentage:G}=this;return G===$||Array.isArray(G)&&G.includes($)}_addParent($){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push($),G):G?[G,$]:$}_removeParent($){const{_parentage:G}=this;G===$?this._parentage=null:Array.isArray(G)&&(0,ue.P)(G,$)}remove($){const{_finalizers:G}=this;G&&(0,ue.P)(G,$),$ instanceof re&&$._removeParent(this)}}re.EMPTY=(()=>{const _e=new re;return _e.closed=!0,_e})();const he=re.EMPTY;function ye(_e){return _e instanceof re||_e&&"closed"in _e&&(0,C.m)(_e.remove)&&(0,C.m)(_e.add)&&(0,C.m)(_e.unsubscribe)}function pe(_e){(0,C.m)(_e)?_e():_e.unsubscribe()}},2416:(ct,De,L)=>{"use strict";L.d(De,{v:()=>C});const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ct,De,L)=>{"use strict";L.d(De,{E:()=>d});const d=new(L(9751).y)(re=>re.complete())},8996:(ct,De,L)=>{"use strict";L.d(De,{D:()=>Te});var C=L(8421),d=L(5363),V=L(9468),he=L(9751),pe=L(2202),_e=L(576),$=L(9672);function J(xe,qe){if(!xe)throw new Error("Iterable cannot be null");return new he.y(ze=>{(0,$.f)(ze,qe,()=>{const z=xe[Symbol.asyncIterator]();(0,$.f)(ze,qe,()=>{z.next().then(Se=>{Se.done?ze.complete():ze.next(Se.value)})},0,!0)})})}var Ue=L(3670),Ie=L(8239),se=L(1144),je=L(6495),de=L(2206),ce=L(4532),Ge=L(3260);function Te(xe,qe){return qe?function Oe(xe,qe){if(null!=xe){if((0,Ue.c)(xe))return function ue(xe,qe){return(0,C.Xf)(xe).pipe((0,V.R)(qe),(0,d.Q)(qe))}(xe,qe);if((0,se.z)(xe))return function ye(xe,qe){return new he.y(ze=>{let z=0;return qe.schedule(function(){z===xe.length?ze.complete():(ze.next(xe[z++]),ze.closed||this.schedule())})})}(xe,qe);if((0,Ie.t)(xe))return function re(xe,qe){return(0,C.Xf)(xe).pipe((0,V.R)(qe),(0,d.Q)(qe))}(xe,qe);if((0,de.D)(xe))return J(xe,qe);if((0,je.T)(xe))return function G(xe,qe){return new he.y(ze=>{let z;return(0,$.f)(ze,qe,()=>{z=xe[pe.h](),(0,$.f)(ze,qe,()=>{let Se,ee;try{({value:Se,done:ee}=z.next())}catch(le){return void ze.error(le)}ee?ze.complete():ze.next(Se)},0,!0)}),()=>(0,_e.m)(z?.return)&&z.return()})}(xe,qe);if((0,Ge.L)(xe))return function Xe(xe,qe){return J((0,Ge.Q)(xe),qe)}(xe,qe)}throw(0,ce.z)(xe)}(xe,qe):(0,C.Xf)(xe)}},8421:(ct,De,L)=>{"use strict";L.d(De,{Xf:()=>Ue});var C=L(655),d=L(1144),V=L(8239),ue=L(9751),re=L(3670),he=L(2206),ye=L(4532),pe=L(6495),_e=L(3260),$=L(576),G=L(7849),J=L(8822);function Ue(Oe){if(Oe instanceof ue.y)return Oe;if(null!=Oe){if((0,re.c)(Oe))return function Ie(Oe){return new ue.y(Te=>{const xe=Oe[J.L]();if((0,$.m)(xe.subscribe))return xe.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,d.z)(Oe))return function se(Oe){return new ue.y(Te=>{for(let xe=0;xe<Oe.length&&!Te.closed;xe++)Te.next(Oe[xe]);Te.complete()})}(Oe);if((0,V.t)(Oe))return function je(Oe){return new ue.y(Te=>{Oe.then(xe=>{Te.closed||(Te.next(xe),Te.complete())},xe=>Te.error(xe)).then(null,G.h)})}(Oe);if((0,he.D)(Oe))return ce(Oe);if((0,pe.T)(Oe))return function de(Oe){return new ue.y(Te=>{for(const xe of Oe)if(Te.next(xe),Te.closed)return;Te.complete()})}(Oe);if((0,_e.L)(Oe))return function Ge(Oe){return ce((0,_e.Q)(Oe))}(Oe)}throw(0,ye.z)(Oe)}function ce(Oe){return new ue.y(Te=>{(function Xe(Oe,Te){var xe,qe,ze,z;return(0,C.mG)(this,void 0,void 0,function*(){try{for(xe=(0,C.KL)(Oe);!(qe=yield xe.next()).done;)if(Te.next(qe.value),Te.closed)return}catch(Se){ze={error:Se}}finally{try{qe&&!qe.done&&(z=xe.return)&&(yield z.call(xe))}finally{if(ze)throw ze.error}}Te.complete()})})(Oe,Te).catch(xe=>Te.error(xe))})}},6451:(ct,De,L)=>{"use strict";L.d(De,{T:()=>he});var C=L(8189),d=L(8421),V=L(515),ue=L(7669),re=L(8996);function he(...ye){const pe=(0,ue.yG)(ye),_e=(0,ue._6)(ye,1/0),$=ye;return $.length?1===$.length?(0,d.Xf)($[0]):(0,C.J)(_e)((0,re.D)($,pe)):V.E}},5403:(ct,De,L)=>{"use strict";L.d(De,{x:()=>d});var C=L(2961);function d(ue,re,he,ye,pe){return new V(ue,re,he,ye,pe)}class V extends C.Lv{constructor(re,he,ye,pe,_e,$){super(re),this.onFinalize=_e,this.shouldUnsubscribe=$,this._next=he?function(G){try{he(G)}catch(J){re.error(J)}}:super._next,this._error=pe?function(G){try{pe(G)}catch(J){re.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(G){re.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},4004:(ct,De,L)=>{"use strict";L.d(De,{U:()=>V});var C=L(4482),d=L(5403);function V(ue,re){return(0,C.e)((he,ye)=>{let pe=0;he.subscribe((0,d.x)(ye,_e=>{ye.next(ue.call(re,_e,pe++))}))})}},8189:(ct,De,L)=>{"use strict";L.d(De,{J:()=>V});var C=L(5577),d=L(4671);function V(ue=1/0){return(0,C.z)(d.y,ue)}},5577:(ct,De,L)=>{"use strict";L.d(De,{z:()=>pe});var C=L(4004),d=L(8421),V=L(4482),ue=L(9672),re=L(5403),ye=L(576);function pe(_e,$,G=1/0){return(0,ye.m)($)?pe((J,Ue)=>(0,C.U)((Ie,se)=>$(J,Ie,Ue,se))((0,d.Xf)(_e(J,Ue))),G):("number"==typeof $&&(G=$),(0,V.e)((J,Ue)=>function he(_e,$,G,J,Ue,Ie,se,je){const de=[];let ce=0,Ge=0,Xe=!1;const Oe=()=>{Xe&&!de.length&&!ce&&$.complete()},Te=qe=>ce<J?xe(qe):de.push(qe),xe=qe=>{Ie&&$.next(qe),ce++;let ze=!1;(0,d.Xf)(G(qe,Ge++)).subscribe((0,re.x)($,z=>{Ue?.(z),Ie?Te(z):$.next(z)},()=>{ze=!0},void 0,()=>{if(ze)try{for(ce--;de.length&&ce<J;){const z=de.shift();se?(0,ue.f)($,se,()=>xe(z)):xe(z)}Oe()}catch(z){$.error(z)}}))};return _e.subscribe((0,re.x)($,Te,()=>{Xe=!0,Oe()})),()=>{je?.()}}(J,Ue,_e,G)))}},5363:(ct,De,L)=>{"use strict";L.d(De,{Q:()=>ue});var C=L(9672),d=L(4482),V=L(5403);function ue(re,he=0){return(0,d.e)((ye,pe)=>{ye.subscribe((0,V.x)(pe,_e=>(0,C.f)(pe,re,()=>pe.next(_e),he),()=>(0,C.f)(pe,re,()=>pe.complete(),he),_e=>(0,C.f)(pe,re,()=>pe.error(_e),he)))})}},3099:(ct,De,L)=>{"use strict";L.d(De,{B:()=>re});var C=L(8421),d=L(7579),V=L(2961),ue=L(4482);function re(ye={}){const{connector:pe=(()=>new d.x),resetOnError:_e=!0,resetOnComplete:$=!0,resetOnRefCountZero:G=!0}=ye;return J=>{let Ue,Ie,se,je=0,de=!1,ce=!1;const Ge=()=>{Ie?.unsubscribe(),Ie=void 0},Xe=()=>{Ge(),Ue=se=void 0,de=ce=!1},Oe=()=>{const Te=Ue;Xe(),Te?.unsubscribe()};return(0,ue.e)((Te,xe)=>{je++,!ce&&!de&&Ge();const qe=se=se??pe();xe.add(()=>{je--,0===je&&!ce&&!de&&(Ie=he(Oe,G))}),qe.subscribe(xe),!Ue&&je>0&&(Ue=new V.Hp({next:ze=>qe.next(ze),error:ze=>{ce=!0,Ge(),Ie=he(Xe,_e,ze),qe.error(ze)},complete:()=>{de=!0,Ge(),Ie=he(Xe,$),qe.complete()}}),(0,C.Xf)(Te).subscribe(Ue))})(J)}}function he(ye,pe,..._e){if(!0===pe)return void ye();if(!1===pe)return;const $=new V.Hp({next:()=>{$.unsubscribe(),ye()}});return pe(..._e).subscribe($)}},9468:(ct,De,L)=>{"use strict";L.d(De,{R:()=>d});var C=L(4482);function d(V,ue=0){return(0,C.e)((re,he)=>{he.add(V.schedule(()=>re.subscribe(he),ue))})}},8505:(ct,De,L)=>{"use strict";L.d(De,{b:()=>re});var C=L(576),d=L(4482),V=L(5403),ue=L(4671);function re(he,ye,pe){const _e=(0,C.m)(he)||ye||pe?{next:he,error:ye,complete:pe}:he;return _e?(0,d.e)(($,G)=>{var J;null===(J=_e.subscribe)||void 0===J||J.call(_e);let Ue=!0;$.subscribe((0,V.x)(G,Ie=>{var se;null===(se=_e.next)||void 0===se||se.call(_e,Ie),G.next(Ie)},()=>{var Ie;Ue=!1,null===(Ie=_e.complete)||void 0===Ie||Ie.call(_e),G.complete()},Ie=>{var se;Ue=!1,null===(se=_e.error)||void 0===se||se.call(_e,Ie),G.error(Ie)},()=>{var Ie,se;Ue&&(null===(Ie=_e.unsubscribe)||void 0===Ie||Ie.call(_e)),null===(se=_e.finalize)||void 0===se||se.call(_e)}))}):ue.y}},4408:(ct,De,L)=>{"use strict";L.d(De,{o:()=>re});var C=L(727);class d extends C.w0{constructor(ye,pe){super()}schedule(ye,pe=0){return this}}const V={setInterval(he,ye,...pe){const{delegate:_e}=V;return _e?.setInterval?_e.setInterval(he,ye,...pe):setInterval(he,ye,...pe)},clearInterval(he){const{delegate:ye}=V;return(ye?.clearInterval||clearInterval)(he)},delegate:void 0};var ue=L(8737);class re extends d{constructor(ye,pe){super(ye,pe),this.scheduler=ye,this.work=pe,this.pending=!1}schedule(ye,pe=0){if(this.closed)return this;this.state=ye;const _e=this.id,$=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId($,_e,pe)),this.pending=!0,this.delay=pe,this.id=this.id||this.requestAsyncId($,this.id,pe),this}requestAsyncId(ye,pe,_e=0){return V.setInterval(ye.flush.bind(ye,this),_e)}recycleAsyncId(ye,pe,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return pe;V.clearInterval(pe)}execute(ye,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(ye,pe);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,pe){let $,_e=!1;try{this.work(ye)}catch(G){_e=!0,$=G||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ye,scheduler:pe}=this,{actions:_e}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(_e,this),null!=ye&&(this.id=this.recycleAsyncId(pe,ye,null)),this.delay=null,super.unsubscribe()}}}},7565:(ct,De,L)=>{"use strict";L.d(De,{v:()=>V});var C=L(6063);class d{constructor(re,he=d.now){this.schedulerActionCtor=re,this.now=he}schedule(re,he=0,ye){return new this.schedulerActionCtor(this,re).schedule(ye,he)}}d.now=C.l.now;class V extends d{constructor(re,he=d.now){super(re,he),this.actions=[],this._active=!1,this._scheduled=void 0}flush(re){const{actions:he}=this;if(this._active)return void he.push(re);let ye;this._active=!0;do{if(ye=re.execute(re.state,re.delay))break}while(re=he.shift());if(this._active=!1,ye){for(;re=he.shift();)re.unsubscribe();throw ye}}}},4986:(ct,De,L)=>{"use strict";L.d(De,{z:()=>V});var C=L(4408);const V=new(L(7565).v)(C.o)},6063:(ct,De,L)=>{"use strict";L.d(De,{l:()=>C});const C={now:()=>(C.delegate||Date).now(),delegate:void 0}},3410:(ct,De,L)=>{"use strict";L.d(De,{z:()=>C});const C={setTimeout(d,V,...ue){const{delegate:re}=C;return re?.setTimeout?re.setTimeout(d,V,...ue):setTimeout(d,V,...ue)},clearTimeout(d){const{delegate:V}=C;return(V?.clearTimeout||clearTimeout)(d)},delegate:void 0}},2202:(ct,De,L)=>{"use strict";L.d(De,{h:()=>d});const d=function C(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ct,De,L)=>{"use strict";L.d(De,{L:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ct,De,L)=>{"use strict";L.d(De,{_6:()=>he,jO:()=>ue,yG:()=>re});var C=L(576);function V(ye){return ye[ye.length-1]}function ue(ye){return(0,C.m)(V(ye))?ye.pop():void 0}function re(ye){return function d(ye){return ye&&(0,C.m)(ye.schedule)}(V(ye))?ye.pop():void 0}function he(ye,pe){return"number"==typeof V(ye)?ye.pop():pe}},8737:(ct,De,L)=>{"use strict";function C(d,V){if(d){const ue=d.indexOf(V);0<=ue&&d.splice(ue,1)}}L.d(De,{P:()=>C})},3888:(ct,De,L)=>{"use strict";function C(d){const ue=d(re=>{Error.call(re),re.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}L.d(De,{d:()=>C})},2806:(ct,De,L)=>{"use strict";L.d(De,{O:()=>ue,x:()=>V});var C=L(2416);let d=null;function V(re){if(C.v.useDeprecatedSynchronousErrorHandling){const he=!d;if(he&&(d={errorThrown:!1,error:null}),re(),he){const{errorThrown:ye,error:pe}=d;if(d=null,ye)throw pe}}else re()}function ue(re){C.v.useDeprecatedSynchronousErrorHandling&&d&&(d.errorThrown=!0,d.error=re)}},9672:(ct,De,L)=>{"use strict";function C(d,V,ue,re=0,he=!1){const ye=V.schedule(function(){ue(),he?d.add(this.schedule(null,re)):this.unsubscribe()},re);if(d.add(ye),!he)return ye}L.d(De,{f:()=>C})},4671:(ct,De,L)=>{"use strict";function C(d){return d}L.d(De,{y:()=>C})},1144:(ct,De,L)=>{"use strict";L.d(De,{z:()=>C});const C=d=>d&&"number"==typeof d.length&&"function"!=typeof d},2206:(ct,De,L)=>{"use strict";L.d(De,{D:()=>d});var C=L(576);function d(V){return Symbol.asyncIterator&&(0,C.m)(V?.[Symbol.asyncIterator])}},576:(ct,De,L)=>{"use strict";function C(d){return"function"==typeof d}L.d(De,{m:()=>C})},3670:(ct,De,L)=>{"use strict";L.d(De,{c:()=>V});var C=L(8822),d=L(576);function V(ue){return(0,d.m)(ue[C.L])}},6495:(ct,De,L)=>{"use strict";L.d(De,{T:()=>V});var C=L(2202),d=L(576);function V(ue){return(0,d.m)(ue?.[C.h])}},8239:(ct,De,L)=>{"use strict";L.d(De,{t:()=>d});var C=L(576);function d(V){return(0,C.m)(V?.then)}},3260:(ct,De,L)=>{"use strict";L.d(De,{L:()=>ue,Q:()=>V});var C=L(655),d=L(576);function V(re){return(0,C.FC)(this,arguments,function*(){const ye=re.getReader();try{for(;;){const{value:pe,done:_e}=yield(0,C.qq)(ye.read());if(_e)return yield(0,C.qq)(void 0);yield yield(0,C.qq)(pe)}}finally{ye.releaseLock()}})}function ue(re){return(0,d.m)(re?.getReader)}},4482:(ct,De,L)=>{"use strict";L.d(De,{A:()=>d,e:()=>V});var C=L(576);function d(ue){return(0,C.m)(ue?.lift)}function V(ue){return re=>{if(d(re))return re.lift(function(he){try{return ue(he,this)}catch(ye){this.error(ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(ct,De,L)=>{"use strict";L.d(De,{U:()=>V,z:()=>d});var C=L(4671);function d(...ue){return V(ue)}function V(ue){return 0===ue.length?C.y:1===ue.length?ue[0]:function(he){return ue.reduce((ye,pe)=>pe(ye),he)}}},7849:(ct,De,L)=>{"use strict";L.d(De,{h:()=>V});var C=L(2416),d=L(3410);function V(ue){d.z.setTimeout(()=>{const{onUnhandledError:re}=C.v;if(!re)throw ue;re(ue)})}},4532:(ct,De,L)=>{"use strict";function C(d){return new TypeError(`You provided ${null!==d&&"object"==typeof d?"an invalid object":`'${d}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(De,{z:()=>C})},655:(ct,De,L)=>{"use strict";function ue(ee,le){var oe={};for(var be in ee)Object.prototype.hasOwnProperty.call(ee,be)&&le.indexOf(be)<0&&(oe[be]=ee[be]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var ge=0;for(be=Object.getOwnPropertySymbols(ee);ge<be.length;ge++)le.indexOf(be[ge])<0&&Object.prototype.propertyIsEnumerable.call(ee,be[ge])&&(oe[be[ge]]=ee[be[ge]])}return oe}function pe(ee,le,oe,be){return new(oe||(oe=Promise))(function(Pe,ht){function Gt(sn){try{Je(be.next(sn))}catch(Nn){ht(Nn)}}function Bt(sn){try{Je(be.throw(sn))}catch(Nn){ht(Nn)}}function Je(sn){sn.done?Pe(sn.value):function ge(Pe){return Pe instanceof oe?Pe:new oe(function(ht){ht(Pe)})}(sn.value).then(Gt,Bt)}Je((be=be.apply(ee,le||[])).next())})}function de(ee){return this instanceof de?(this.v=ee,this):new de(ee)}function ce(ee,le,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,be=oe.apply(ee,le||[]),Pe=[];return ge={},ht("next"),ht("throw"),ht("return"),ge[Symbol.asyncIterator]=function(){return this},ge;function ht(dn){be[dn]&&(ge[dn]=function(Wt){return new Promise(function(fr,Kt){Pe.push([dn,Wt,fr,Kt])>1||Gt(dn,Wt)})})}function Gt(dn,Wt){try{!function Bt(dn){dn.value instanceof de?Promise.resolve(dn.value.v).then(Je,sn):Nn(Pe[0][2],dn)}(be[dn](Wt))}catch(fr){Nn(Pe[0][3],fr)}}function Je(dn){Gt("next",dn)}function sn(dn){Gt("throw",dn)}function Nn(dn,Wt){dn(Wt),Pe.shift(),Pe.length&&Gt(Pe[0][0],Pe[0][1])}}function Xe(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,le=ee[Symbol.asyncIterator];return le?le.call(ee):(ee=function J(ee){var le="function"==typeof Symbol&&Symbol.iterator,oe=le&&ee[le],be=0;if(oe)return oe.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&be>=ee.length&&(ee=void 0),{value:ee&&ee[be++],done:!ee}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),oe={},be("next"),be("throw"),be("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function be(Pe){oe[Pe]=ee[Pe]&&function(ht){return new Promise(function(Gt,Bt){!function ge(Pe,ht,Gt,Bt){Promise.resolve(Bt).then(function(Je){Pe({value:Je,done:Gt})},ht)}(Gt,Bt,(ht=ee[Pe](ht)).done,ht.value)})}}}L.d(De,{FC:()=>ce,KL:()=>Xe,_T:()=>ue,mG:()=>pe,qq:()=>de})},6895:(ct,De,L)=>{"use strict";L.r(De),L.d(De,{APP_BASE_HREF:()=>Ge,AsyncPipe:()=>$i,CommonModule:()=>Br,CurrencyPipe:()=>$o,DATE_PIPE_DEFAULT_TIMEZONE:()=>tu,DOCUMENT:()=>ye,DatePipe:()=>ho,DecimalPipe:()=>os,FormStyle:()=>le,FormatWidth:()=>be,HashLocationStrategy:()=>Oe,I18nPluralPipe:()=>bd,I18nSelectPipe:()=>Bo,JsonPipe:()=>Rt,KeyValuePipe:()=>Hi,LOCATION_INITIALIZED:()=>$,Location:()=>Te,LocationStrategy:()=>de,LowerCasePipe:()=>Dn,NgClass:()=>va,NgComponentOutlet:()=>ks,NgForOf:()=>Ur,NgForOfContext:()=>vs,NgIf:()=>Xn,NgIfContext:()=>ur,NgLocaleLocalization:()=>Qt,NgLocalization:()=>_r,NgPlural:()=>co,NgPluralCase:()=>er,NgStyle:()=>Fs,NgSwitch:()=>jr,NgSwitchCase:()=>hi,NgSwitchDefault:()=>Hn,NgTemplateOutlet:()=>_s,NumberFormatStyle:()=>Se,NumberSymbol:()=>ge,PathLocationStrategy:()=>Xe,PercentPipe:()=>Ir,PlatformLocation:()=>pe,Plural:()=>ee,SlicePipe:()=>Yl,TitleCasePipe:()=>eu,TranslationWidth:()=>oe,UpperCasePipe:()=>jo,VERSION:()=>_a,ViewportScroller:()=>go,WeekDay:()=>Pe,XhrFactory:()=>gr,formatCurrency:()=>Nt,formatDate:()=>Lr,formatNumber:()=>bn,formatPercent:()=>Vo,getCurrencySymbol:()=>Di,getLocaleCurrencyCode:()=>Yr,getLocaleCurrencyName:()=>Ar,getLocaleCurrencySymbol:()=>Sr,getLocaleDateFormat:()=>Wt,getLocaleDateTimeFormat:()=>Kt,getLocaleDayNames:()=>Bt,getLocaleDayPeriods:()=>Gt,getLocaleDirection:()=>xr,getLocaleEraNames:()=>sn,getLocaleExtraDayPeriodRules:()=>ci,getLocaleExtraDayPeriods:()=>mt,getLocaleFirstDayOfWeek:()=>Nn,getLocaleId:()=>ht,getLocaleMonthNames:()=>Je,getLocaleNumberFormat:()=>Fi,getLocaleNumberSymbol:()=>Lt,getLocalePluralCase:()=>Li,getLocaleTimeFormat:()=>fr,getLocaleWeekEndRange:()=>dn,getNumberOfCurrencyDigits:()=>On,isPlatformBrowser:()=>$r,isPlatformServer:()=>Jl,isPlatformWorkerApp:()=>Sn,isPlatformWorkerUi:()=>nu,registerLocaleData:()=>cn,\u0275BrowserPlatformLocation:()=>G,\u0275DomAdapter:()=>he,\u0275NullViewportScroller:()=>ni,\u0275PLATFORM_BROWSER_ID:()=>In,\u0275PLATFORM_SERVER_ID:()=>Ho,\u0275PLATFORM_WORKER_APP_ID:()=>Go,\u0275PLATFORM_WORKER_UI_ID:()=>Vs,\u0275getDOM:()=>V,\u0275parseCookieValue:()=>Ja,\u0275setRootDomAdapter:()=>re});var C=L(4650);let d=null;function V(){return d}function re(D){d||(d=D)}class he{}const ye=new C.InjectionToken("DocumentToken");let pe=(()=>{class D{historyGo(T){throw new Error("Not implemented")}}return D.\u0275fac=function(T){return new(T||D)},D.\u0275prov=C.\u0275\u0275defineInjectable({token:D,factory:function(){return function _e(){return(0,C.\u0275\u0275inject)(G)}()},providedIn:"platform"}),D})();const $=new C.InjectionToken("Location Initialized");let G=(()=>{class D extends pe{constructor(T){super(),this._doc=T,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(T){const F=V().getGlobalEventTarget(this._doc,"window");return F.addEventListener("popstate",T,!1),()=>F.removeEventListener("popstate",T)}onHashChange(T){const F=V().getGlobalEventTarget(this._doc,"window");return F.addEventListener("hashchange",T,!1),()=>F.removeEventListener("hashchange",T)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(T){this.location.pathname=T}pushState(T,F,Q){J()?this._history.pushState(T,F,Q):this.location.hash=Q}replaceState(T,F,Q){J()?this._history.replaceState(T,F,Q):this.location.hash=Q}forward(){this._history.forward()}back(){this._history.back()}historyGo(T=0){this._history.go(T)}getState(){return this._history.state}}return D.\u0275fac=function(T){return new(T||D)(C.\u0275\u0275inject(ye))},D.\u0275prov=C.\u0275\u0275defineInjectable({token:D,factory:function(){return function Ue(){return new G((0,C.\u0275\u0275inject)(ye))}()},providedIn:"platform"}),D})();function J(){return!!window.history.pushState}function Ie(D,P){if(0==D.length)return P;if(0==P.length)return D;let T=0;return D.endsWith("/")&&T++,P.startsWith("/")&&T++,2==T?D+P.substring(1):1==T?D+P:D+"/"+P}function se(D){const P=D.match(/#|\?|$/),T=P&&P.index||D.length;return D.slice(0,T-("/"===D[T-1]?1:0))+D.slice(T)}function je(D){return D&&"?"!==D[0]?"?"+D:D}let de=(()=>{class D{historyGo(T){throw new Error("Not implemented")}}return D.\u0275fac=function(T){return new(T||D)},D.\u0275prov=C.\u0275\u0275defineInjectable({token:D,factory:function(){return function ce(){const D=(0,C.\u0275\u0275inject)(ye).location;return new Xe((0,C.\u0275\u0275inject)(pe),D&&D.origin||"")}()},providedIn:"root"}),D})();const Ge=new C.InjectionToken("appBaseHref");let Xe=(()=>{class D extends de{constructor(T,F){if(super(),this._platformLocation=T,this._removeListenerFns=[],null==F&&(F=this._platformLocation.getBaseHrefFromDOM()),null==F)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=F}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}prepareExternalUrl(T){return Ie(this._baseHref,T)}path(T=!1){const F=this._platformLocation.pathname+je(this._platformLocation.search),Q=this._platformLocation.hash;return Q&&T?`${F}${Q}`:F}pushState(T,F,Q,Ce){const ie=this.prepareExternalUrl(Q+je(Ce));this._platformLocation.pushState(T,F,ie)}replaceState(T,F,Q,Ce){const ie=this.prepareExternalUrl(Q+je(Ce));this._platformLocation.replaceState(T,F,ie)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}}return D.\u0275fac=function(T){return new(T||D)(C.\u0275\u0275inject(pe),C.\u0275\u0275inject(Ge,8))},D.\u0275prov=C.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac}),D})(),Oe=(()=>{class D extends de{constructor(T,F){super(),this._platformLocation=T,this._baseHref="",this._removeListenerFns=[],null!=F&&(this._baseHref=F)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}path(T=!1){let F=this._platformLocation.hash;return null==F&&(F="#"),F.length>0?F.substring(1):F}prepareExternalUrl(T){const F=Ie(this._baseHref,T);return F.length>0?"#"+F:F}pushState(T,F,Q,Ce){let ie=this.prepareExternalUrl(Q+je(Ce));0==ie.length&&(ie=this._platformLocation.pathname),this._platformLocation.pushState(T,F,ie)}replaceState(T,F,Q,Ce){let ie=this.prepareExternalUrl(Q+je(Ce));0==ie.length&&(ie=this._platformLocation.pathname),this._platformLocation.replaceState(T,F,ie)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}}return D.\u0275fac=function(T){return new(T||D)(C.\u0275\u0275inject(pe),C.\u0275\u0275inject(Ge,8))},D.\u0275prov=C.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac}),D})(),Te=(()=>{class D{constructor(T){this._subject=new C.EventEmitter,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=T;const F=this._locationStrategy.getBaseHref();this._baseHref=se(ze(F)),this._locationStrategy.onPopState(Q=>{this._subject.emit({url:this.path(!0),pop:!0,state:Q.state,type:Q.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(T=!1){return this.normalize(this._locationStrategy.path(T))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(T,F=""){return this.path()==this.normalize(T+je(F))}normalize(T){return D.stripTrailingSlash(function qe(D,P){return D&&P.startsWith(D)?P.substring(D.length):P}(this._baseHref,ze(T)))}prepareExternalUrl(T){return T&&"/"!==T[0]&&(T="/"+T),this._locationStrategy.prepareExternalUrl(T)}go(T,F="",Q=null){this._locationStrategy.pushState(Q,"",T,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+je(F)),Q)}replaceState(T,F="",Q=null){this._locationStrategy.replaceState(Q,"",T,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+je(F)),Q)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(T=0){this._locationStrategy.historyGo?.(T)}onUrlChange(T){return this._urlChangeListeners.push(T),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(F=>{this._notifyUrlChangeListeners(F.url,F.state)})),()=>{const F=this._urlChangeListeners.indexOf(T);this._urlChangeListeners.splice(F,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(T="",F){this._urlChangeListeners.forEach(Q=>Q(T,F))}subscribe(T,F,Q){return this._subject.subscribe({next:T,error:F,complete:Q})}}return D.normalizeQueryParams=je,D.joinWithSlash=Ie,D.stripTrailingSlash=se,D.\u0275fac=function(T){return new(T||D)(C.\u0275\u0275inject(de))},D.\u0275prov=C.\u0275\u0275defineInjectable({token:D,factory:function(){return function xe(){return new Te((0,C.\u0275\u0275inject)(de))}()},providedIn:"root"}),D})();function ze(D){return D.replace(/\/index.html$/,"")}const z={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Se=(()=>((Se=Se||{})[Se.Decimal=0]="Decimal",Se[Se.Percent=1]="Percent",Se[Se.Currency=2]="Currency",Se[Se.Scientific=3]="Scientific",Se))(),ee=(()=>((ee=ee||{})[ee.Zero=0]="Zero",ee[ee.One=1]="One",ee[ee.Two=2]="Two",ee[ee.Few=3]="Few",ee[ee.Many=4]="Many",ee[ee.Other=5]="Other",ee))(),le=(()=>((le=le||{})[le.Format=0]="Format",le[le.Standalone=1]="Standalone",le))(),oe=(()=>((oe=oe||{})[oe.Narrow=0]="Narrow",oe[oe.Abbreviated=1]="Abbreviated",oe[oe.Wide=2]="Wide",oe[oe.Short=3]="Short",oe))(),be=(()=>((be=be||{})[be.Short=0]="Short",be[be.Medium=1]="Medium",be[be.Long=2]="Long",be[be.Full=3]="Full",be))(),ge=(()=>((ge=ge||{})[ge.Decimal=0]="Decimal",ge[ge.Group=1]="Group",ge[ge.List=2]="List",ge[ge.PercentSign=3]="PercentSign",ge[ge.PlusSign=4]="PlusSign",ge[ge.MinusSign=5]="MinusSign",ge[ge.Exponential=6]="Exponential",ge[ge.SuperscriptingExponent=7]="SuperscriptingExponent",ge[ge.PerMille=8]="PerMille",ge[ge.Infinity=9]="Infinity",ge[ge.NaN=10]="NaN",ge[ge.TimeSeparator=11]="TimeSeparator",ge[ge.CurrencyDecimal=12]="CurrencyDecimal",ge[ge.CurrencyGroup=13]="CurrencyGroup",ge))(),Pe=(()=>((Pe=Pe||{})[Pe.Sunday=0]="Sunday",Pe[Pe.Monday=1]="Monday",Pe[Pe.Tuesday=2]="Tuesday",Pe[Pe.Wednesday=3]="Wednesday",Pe[Pe.Thursday=4]="Thursday",Pe[Pe.Friday=5]="Friday",Pe[Pe.Saturday=6]="Saturday",Pe))();function ht(D){return(0,C.\u0275findLocaleData)(D)[C.\u0275LocaleDataIndex.LocaleId]}function Gt(D,P,T){const F=(0,C.\u0275findLocaleData)(D),Ce=$n([F[C.\u0275LocaleDataIndex.DayPeriodsFormat],F[C.\u0275LocaleDataIndex.DayPeriodsStandalone]],P);return $n(Ce,T)}function Bt(D,P,T){const F=(0,C.\u0275findLocaleData)(D),Ce=$n([F[C.\u0275LocaleDataIndex.DaysFormat],F[C.\u0275LocaleDataIndex.DaysStandalone]],P);return $n(Ce,T)}function Je(D,P,T){const F=(0,C.\u0275findLocaleData)(D),Ce=$n([F[C.\u0275LocaleDataIndex.MonthsFormat],F[C.\u0275LocaleDataIndex.MonthsStandalone]],P);return $n(Ce,T)}function sn(D,P){return $n((0,C.\u0275findLocaleData)(D)[C.\u0275LocaleDataIndex.Eras],P)}function Nn(D){return(0,C.\u0275findLocaleData)(D)[C.\u0275LocaleDataIndex.FirstDayOfWeek]}function dn(D){return(0,C.\u0275findLocaleData)(D)[C.\u0275LocaleDataIndex.WeekendRange]}function Wt(D,P){return $n((0,C.\u0275findLocaleData)(D)[C.\u0275LocaleDataIndex.DateFormat],P)}function fr(D,P){return $n((0,C.\u0275findLocaleData)(D)[C.\u0275LocaleDataIndex.TimeFormat],P)}function Kt(D,P){return $n((0,C.\u0275findLocaleData)(D)[C.\u0275LocaleDataIndex.DateTimeFormat],P)}function Lt(D,P){const T=(0,C.\u0275findLocaleData)(D),F=T[C.\u0275LocaleDataIndex.NumberSymbols][P];if(typeof F>"u"){if(P===ge.CurrencyDecimal)return T[C.\u0275LocaleDataIndex.NumberSymbols][ge.Decimal];if(P===ge.CurrencyGroup)return T[C.\u0275LocaleDataIndex.NumberSymbols][ge.Group]}return F}function Fi(D,P){return(0,C.\u0275findLocaleData)(D)[C.\u0275LocaleDataIndex.NumberFormats][P]}function Sr(D){return(0,C.\u0275findLocaleData)(D)[C.\u0275LocaleDataIndex.CurrencySymbol]||null}function Ar(D){return(0,C.\u0275findLocaleData)(D)[C.\u0275LocaleDataIndex.CurrencyName]||null}function Yr(D){return(0,C.\u0275getLocaleCurrencyCode)(D)}const Li=C.\u0275getLocalePluralCase;function Jr(D){if(!D[C.\u0275LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${D[C.\u0275LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ci(D){const P=(0,C.\u0275findLocaleData)(D);return Jr(P),(P[C.\u0275LocaleDataIndex.ExtraData][2]||[]).map(F=>"string"==typeof F?Tn(F):[Tn(F[0]),Tn(F[1])])}function mt(D,P,T){const F=(0,C.\u0275findLocaleData)(D);Jr(F);const Ce=$n([F[C.\u0275LocaleDataIndex.ExtraData][0],F[C.\u0275LocaleDataIndex.ExtraData][1]],P)||[];return $n(Ce,T)||[]}function xr(D){return(0,C.\u0275findLocaleData)(D)[C.\u0275LocaleDataIndex.Directionality]}function $n(D,P){for(let T=P;T>-1;T--)if(typeof D[T]<"u")return D[T];throw new Error("Locale data API: locale data undefined")}function Tn(D){const[P,T]=D.split(":");return{hours:+P,minutes:+T}}function Di(D,P,T="en"){const F=function bi(D){return(0,C.\u0275findLocaleData)(D)[C.\u0275LocaleDataIndex.Currencies]}(T)[D]||z[D]||[],Q=F[1];return"narrow"===P&&"string"==typeof Q?Q:F[0]||D}function On(D){let P;const T=z[D];return T&&(P=T[2]),"number"==typeof P?P:2}const qn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,hn={},ms=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Zt=(()=>((Zt=Zt||{})[Zt.Short=0]="Short",Zt[Zt.ShortGMT=1]="ShortGMT",Zt[Zt.Long=2]="Long",Zt[Zt.Extended=3]="Extended",Zt))(),Ke=(()=>((Ke=Ke||{})[Ke.FullYear=0]="FullYear",Ke[Ke.Month=1]="Month",Ke[Ke.Date=2]="Date",Ke[Ke.Hours=3]="Hours",Ke[Ke.Minutes=4]="Minutes",Ke[Ke.Seconds=5]="Seconds",Ke[Ke.FractionalSeconds=6]="FractionalSeconds",Ke[Ke.Day=7]="Day",Ke))(),bt=(()=>((bt=bt||{})[bt.DayPeriods=0]="DayPeriods",bt[bt.Days=1]="Days",bt[bt.Months=2]="Months",bt[bt.Eras=3]="Eras",bt))();function Lr(D,P,T,F){let Q=function or(D){if(ei(D))return D;if("number"==typeof D&&!isNaN(D))return new Date(D);if("string"==typeof D){if(D=D.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(D)){const[Q,Ce=1,ie=1]=D.split("-").map(lt=>+lt);return Yn(Q,Ce-1,ie)}const T=parseFloat(D);if(!isNaN(D-T))return new Date(T);let F;if(F=D.match(qn))return function Mr(D){const P=new Date(0);let T=0,F=0;const Q=D[8]?P.setUTCFullYear:P.setFullYear,Ce=D[8]?P.setUTCHours:P.setHours;D[9]&&(T=Number(D[9]+D[10]),F=Number(D[9]+D[11])),Q.call(P,Number(D[1]),Number(D[2])-1,Number(D[3]));const ie=Number(D[4]||0)-T,lt=Number(D[5]||0)-F,on=Number(D[6]||0),En=Math.floor(1e3*parseFloat("0."+(D[7]||0)));return Ce.call(P,ie,lt,on,En),P}(F)}const P=new Date(D);if(!ei(P))throw new Error(`Unable to convert "${D}" into a date`);return P}(D);P=_t(T,P)||P;let lt,ie=[];for(;P;){if(lt=ms.exec(P),!lt){ie.push(P);break}{ie=ie.concat(lt.slice(1));const an=ie.pop();if(!an)break;P=an}}let on=Q.getTimezoneOffset();F&&(on=$t(F,on),Q=function Pn(D,P,T){const F=T?-1:1,Q=D.getTimezoneOffset();return function Ft(D,P){return(D=new Date(D.getTime())).setMinutes(D.getMinutes()+P),D}(D,F*($t(P,Q)-Q))}(Q,F,!0));let En="";return ie.forEach(an=>{const Vt=function vr(D){if(Jt[D])return Jt[D];let P;switch(D){case"G":case"GG":case"GGG":P=q(bt.Eras,oe.Abbreviated);break;case"GGGG":P=q(bt.Eras,oe.Wide);break;case"GGGGG":P=q(bt.Eras,oe.Narrow);break;case"y":P=Yt(Ke.FullYear,1,0,!1,!0);break;case"yy":P=Yt(Ke.FullYear,2,0,!0,!0);break;case"yyy":P=Yt(Ke.FullYear,3,0,!1,!0);break;case"yyyy":P=Yt(Ke.FullYear,4,0,!1,!0);break;case"Y":P=fn(1);break;case"YY":P=fn(2,!0);break;case"YYY":P=fn(3);break;case"YYYY":P=fn(4);break;case"M":case"L":P=Yt(Ke.Month,1,1);break;case"MM":case"LL":P=Yt(Ke.Month,2,1);break;case"MMM":P=q(bt.Months,oe.Abbreviated);break;case"MMMM":P=q(bt.Months,oe.Wide);break;case"MMMMM":P=q(bt.Months,oe.Narrow);break;case"LLL":P=q(bt.Months,oe.Abbreviated,le.Standalone);break;case"LLLL":P=q(bt.Months,oe.Wide,le.Standalone);break;case"LLLLL":P=q(bt.Months,oe.Narrow,le.Standalone);break;case"w":P=ft(1);break;case"ww":P=ft(2);break;case"W":P=ft(1,!0);break;case"d":P=Yt(Ke.Date,1);break;case"dd":P=Yt(Ke.Date,2);break;case"c":case"cc":P=Yt(Ke.Day,1);break;case"ccc":P=q(bt.Days,oe.Abbreviated,le.Standalone);break;case"cccc":P=q(bt.Days,oe.Wide,le.Standalone);break;case"ccccc":P=q(bt.Days,oe.Narrow,le.Standalone);break;case"cccccc":P=q(bt.Days,oe.Short,le.Standalone);break;case"E":case"EE":case"EEE":P=q(bt.Days,oe.Abbreviated);break;case"EEEE":P=q(bt.Days,oe.Wide);break;case"EEEEE":P=q(bt.Days,oe.Narrow);break;case"EEEEEE":P=q(bt.Days,oe.Short);break;case"a":case"aa":case"aaa":P=q(bt.DayPeriods,oe.Abbreviated);break;case"aaaa":P=q(bt.DayPeriods,oe.Wide);break;case"aaaaa":P=q(bt.DayPeriods,oe.Narrow);break;case"b":case"bb":case"bbb":P=q(bt.DayPeriods,oe.Abbreviated,le.Standalone,!0);break;case"bbbb":P=q(bt.DayPeriods,oe.Wide,le.Standalone,!0);break;case"bbbbb":P=q(bt.DayPeriods,oe.Narrow,le.Standalone,!0);break;case"B":case"BB":case"BBB":P=q(bt.DayPeriods,oe.Abbreviated,le.Format,!0);break;case"BBBB":P=q(bt.DayPeriods,oe.Wide,le.Format,!0);break;case"BBBBB":P=q(bt.DayPeriods,oe.Narrow,le.Format,!0);break;case"h":P=Yt(Ke.Hours,1,-12);break;case"hh":P=Yt(Ke.Hours,2,-12);break;case"H":P=Yt(Ke.Hours,1);break;case"HH":P=Yt(Ke.Hours,2);break;case"m":P=Yt(Ke.Minutes,1);break;case"mm":P=Yt(Ke.Minutes,2);break;case"s":P=Yt(Ke.Seconds,1);break;case"ss":P=Yt(Ke.Seconds,2);break;case"S":P=Yt(Ke.FractionalSeconds,1);break;case"SS":P=Yt(Ke.FractionalSeconds,2);break;case"SSS":P=Yt(Ke.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":P=H(Zt.Short);break;case"ZZZZZ":P=H(Zt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":P=H(Zt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":P=H(Zt.Long);break;default:return null}return Jt[D]=P,P}(an);En+=Vt?Vt(Q,T,on):"''"===an?"'":an.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),En}function Yn(D,P,T){const F=new Date(0);return F.setFullYear(D,P,T),F.setHours(0,0,0),F}function _t(D,P){const T=ht(D);if(hn[T]=hn[T]||{},hn[T][P])return hn[T][P];let F="";switch(P){case"shortDate":F=Wt(D,be.Short);break;case"mediumDate":F=Wt(D,be.Medium);break;case"longDate":F=Wt(D,be.Long);break;case"fullDate":F=Wt(D,be.Full);break;case"shortTime":F=fr(D,be.Short);break;case"mediumTime":F=fr(D,be.Medium);break;case"longTime":F=fr(D,be.Long);break;case"fullTime":F=fr(D,be.Full);break;case"short":const Q=_t(D,"shortTime"),Ce=_t(D,"shortDate");F=Xr(Kt(D,be.Short),[Q,Ce]);break;case"medium":const ie=_t(D,"mediumTime"),lt=_t(D,"mediumDate");F=Xr(Kt(D,be.Medium),[ie,lt]);break;case"long":const on=_t(D,"longTime"),En=_t(D,"longDate");F=Xr(Kt(D,be.Long),[on,En]);break;case"full":const an=_t(D,"fullTime"),Vt=_t(D,"fullDate");F=Xr(Kt(D,be.Full),[an,Vt])}return F&&(hn[T][P]=F),F}function Xr(D,P){return P&&(D=D.replace(/\{([^}]+)}/g,function(T,F){return null!=P&&F in P?P[F]:T})),D}function Jn(D,P,T="-",F,Q){let Ce="";(D<0||Q&&D<=0)&&(Q?D=1-D:(D=-D,Ce=T));let ie=String(D);for(;ie.length<P;)ie="0"+ie;return F&&(ie=ie.slice(ie.length-P)),Ce+ie}function Yt(D,P,T=0,F=!1,Q=!1){return function(Ce,ie){let lt=function di(D,P){switch(D){case Ke.FullYear:return P.getFullYear();case Ke.Month:return P.getMonth();case Ke.Date:return P.getDate();case Ke.Hours:return P.getHours();case Ke.Minutes:return P.getMinutes();case Ke.Seconds:return P.getSeconds();case Ke.FractionalSeconds:return P.getMilliseconds();case Ke.Day:return P.getDay();default:throw new Error(`Unknown DateType value "${D}".`)}}(D,Ce);if((T>0||lt>-T)&&(lt+=T),D===Ke.Hours)0===lt&&-12===T&&(lt=12);else if(D===Ke.FractionalSeconds)return function Vr(D,P){return Jn(D,3).substring(0,P)}(lt,P);const on=Lt(ie,ge.MinusSign);return Jn(lt,P,on,F,Q)}}function q(D,P,T=le.Format,F=!1){return function(Q,Ce){return function W(D,P,T,F,Q,Ce){switch(T){case bt.Months:return Je(P,Q,F)[D.getMonth()];case bt.Days:return Bt(P,Q,F)[D.getDay()];case bt.DayPeriods:const ie=D.getHours(),lt=D.getMinutes();if(Ce){const En=ci(P),an=mt(P,Q,F),Vt=En.findIndex(zn=>{if(Array.isArray(zn)){const[un,lr]=zn,Me=ie>=un.hours&&lt>=un.minutes,St=ie<lr.hours||ie===lr.hours&&lt<lr.minutes;if(un.hours<lr.hours){if(Me&&St)return!0}else if(Me||St)return!0}else if(zn.hours===ie&&zn.minutes===lt)return!0;return!1});if(-1!==Vt)return an[Vt]}return Gt(P,Q,F)[ie<12?0:1];case bt.Eras:return sn(P,F)[D.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${T}`)}}(Q,Ce,D,P,T,F)}}function H(D){return function(P,T,F){const Q=-1*F,Ce=Lt(T,ge.MinusSign),ie=Q>0?Math.floor(Q/60):Math.ceil(Q/60);switch(D){case Zt.Short:return(Q>=0?"+":"")+Jn(ie,2,Ce)+Jn(Math.abs(Q%60),2,Ce);case Zt.ShortGMT:return"GMT"+(Q>=0?"+":"")+Jn(ie,1,Ce);case Zt.Long:return"GMT"+(Q>=0?"+":"")+Jn(ie,2,Ce)+":"+Jn(Math.abs(Q%60),2,Ce);case Zt.Extended:return 0===F?"Z":(Q>=0?"+":"")+Jn(ie,2,Ce)+":"+Jn(Math.abs(Q%60),2,Ce);default:throw new Error(`Unknown zone width "${D}"`)}}}function Ze(D){return Yn(D.getFullYear(),D.getMonth(),D.getDate()+(4-D.getDay()))}function ft(D,P=!1){return function(T,F){let Q;if(P){const Ce=new Date(T.getFullYear(),T.getMonth(),1).getDay()-1,ie=T.getDate();Q=1+Math.floor((ie+Ce)/7)}else{const Ce=Ze(T),ie=function Fe(D){const P=Yn(D,0,1).getDay();return Yn(D,0,1+(P<=4?4:11)-P)}(Ce.getFullYear()),lt=Ce.getTime()-ie.getTime();Q=1+Math.round(lt/6048e5)}return Jn(Q,D,Lt(F,ge.MinusSign))}}function fn(D,P=!1){return function(T,F){return Jn(Ze(T).getFullYear(),D,Lt(F,ge.MinusSign),P)}}const Jt={};function $t(D,P){D=D.replace(/:/g,"");const T=Date.parse("Jan 01, 1970 00:00:00 "+D)/6e4;return isNaN(T)?P:T}function ei(D){return D instanceof Date&&!isNaN(D.valueOf())}const We=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Ti(D,P,T,F,Q,Ce,ie=!1){let lt="",on=!1;if(isFinite(D)){let En=function it(D){let F,Q,Ce,ie,lt,P=Math.abs(D)+"",T=0;for((Q=P.indexOf("."))>-1&&(P=P.replace(".","")),(Ce=P.search(/e/i))>0?(Q<0&&(Q=Ce),Q+=+P.slice(Ce+1),P=P.substring(0,Ce)):Q<0&&(Q=P.length),Ce=0;"0"===P.charAt(Ce);Ce++);if(Ce===(lt=P.length))F=[0],Q=1;else{for(lt--;"0"===P.charAt(lt);)lt--;for(Q-=Ce,F=[],ie=0;Ce<=lt;Ce++,ie++)F[ie]=Number(P.charAt(Ce))}return Q>22&&(F=F.splice(0,21),T=Q-1,Q=1),{digits:F,exponent:T,integerLen:Q}}(D);ie&&(En=function Si(D){if(0===D.digits[0])return D;const P=D.digits.length-D.integerLen;return D.exponent?D.exponent+=2:(0===P?D.digits.push(0,0):1===P&&D.digits.push(0),D.integerLen+=2),D}(En));let an=P.minInt,Vt=P.minFrac,zn=P.maxFrac;if(Ce){const zi=Ce.match(We);if(null===zi)throw new Error(`${Ce} is not a valid digit info`);const Vn=zi[1],Us=zi[3],Es=zi[5];null!=Vn&&(an=is(Vn)),null!=Us&&(Vt=is(Us)),null!=Es?zn=is(Es):null!=Us&&Vt>zn&&(zn=Vt)}!function lo(D,P,T){if(P>T)throw new Error(`The minimum number of digits after fraction (${P}) is higher than the maximum (${T}).`);let F=D.digits,Q=F.length-D.integerLen;const Ce=Math.min(Math.max(P,Q),T);let ie=Ce+D.integerLen,lt=F[ie];if(ie>0){F.splice(Math.max(D.integerLen,ie));for(let Vt=ie;Vt<F.length;Vt++)F[Vt]=0}else{Q=Math.max(0,Q),D.integerLen=1,F.length=Math.max(1,ie=Ce+1),F[0]=0;for(let Vt=1;Vt<ie;Vt++)F[Vt]=0}if(lt>=5)if(ie-1<0){for(let Vt=0;Vt>ie;Vt--)F.unshift(0),D.integerLen++;F.unshift(1),D.integerLen++}else F[ie-1]++;for(;Q<Math.max(0,Ce);Q++)F.push(0);let on=0!==Ce;const En=P+D.integerLen,an=F.reduceRight(function(Vt,zn,un,lr){return lr[un]=(zn+=Vt)<10?zn:zn-10,on&&(0===lr[un]&&un>=En?lr.pop():on=!1),zn>=10?1:0},0);an&&(F.unshift(an),D.integerLen++)}(En,Vt,zn);let un=En.digits,lr=En.integerLen;const Me=En.exponent;let St=[];for(on=un.every(zi=>!zi);lr<an;lr++)un.unshift(0);for(;lr<0;lr++)un.unshift(0);lr>0?St=un.splice(lr,un.length):(St=un,un=[0]);const qi=[];for(un.length>=P.lgSize&&qi.unshift(un.splice(-P.lgSize,un.length).join(""));un.length>P.gSize;)qi.unshift(un.splice(-P.gSize,un.length).join(""));un.length&&qi.unshift(un.join("")),lt=qi.join(Lt(T,F)),St.length&&(lt+=Lt(T,Q)+St.join("")),Me&&(lt+=Lt(T,ge.Exponential)+"+"+Me)}else lt=Lt(T,ge.Infinity);return lt=D<0&&!on?P.negPre+lt+P.negSuf:P.posPre+lt+P.posSuf,lt}function Nt(D,P,T,F,Q){const ie=uo(Fi(P,Se.Currency),Lt(P,ge.MinusSign));return ie.minFrac=On(F),ie.maxFrac=ie.minFrac,Ti(D,ie,P,ge.CurrencyGroup,ge.CurrencyDecimal,Q).replace("\xa4",T).replace("\xa4","").trim()}function Vo(D,P,T){return Ti(D,uo(Fi(P,Se.Percent),Lt(P,ge.MinusSign)),P,ge.Group,ge.Decimal,T,!0).replace(new RegExp("%","g"),Lt(P,ge.PercentSign))}function bn(D,P,T){return Ti(D,uo(Fi(P,Se.Decimal),Lt(P,ge.MinusSign)),P,ge.Group,ge.Decimal,T)}function uo(D,P="-"){const T={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},F=D.split(";"),Q=F[0],Ce=F[1],ie=-1!==Q.indexOf(".")?Q.split("."):[Q.substring(0,Q.lastIndexOf("0")+1),Q.substring(Q.lastIndexOf("0")+1)],lt=ie[0],on=ie[1]||"";T.posPre=lt.substring(0,lt.indexOf("#"));for(let an=0;an<on.length;an++){const Vt=on.charAt(an);"0"===Vt?T.minFrac=T.maxFrac=an+1:"#"===Vt?T.maxFrac=an+1:T.posSuf+=Vt}const En=lt.split(",");if(T.gSize=En[1]?En[1].length:0,T.lgSize=En[2]||En[1]?(En[2]||En[1]).length:0,Ce){const an=Q.length-T.posPre.length-T.posSuf.length,Vt=Ce.indexOf("#");T.negPre=Ce.substring(0,Vt).replace(/'/g,""),T.negSuf=Ce.slice(Vt+an).replace(/'/g,"")}else T.negPre=P+T.posPre,T.negSuf=T.posSuf;return T}function is(D){const P=parseInt(D);if(isNaN(P))throw new Error("Invalid integer literal when parsing "+D);return P}let _r=(()=>{class D{}return D.\u0275fac=function(T){return new(T||D)},D.\u0275prov=C.\u0275\u0275defineInjectable({token:D,factory:function(T){let F=null;return T?F=new T:(Q=C.\u0275\u0275inject(C.LOCALE_ID),F=new Qt(Q)),F;var Q},providedIn:"root"}),D})();function ti(D,P,T,F){let Q=`=${D}`;if(P.indexOf(Q)>-1||(Q=T.getPluralCategory(D,F),P.indexOf(Q)>-1))return Q;if(P.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${D}"`)}let Qt=(()=>{class D extends _r{constructor(T){super(),this.locale=T}getPluralCategory(T,F){switch(Li(F||this.locale)(T)){case ee.Zero:return"zero";case ee.One:return"one";case ee.Two:return"two";case ee.Few:return"few";case ee.Many:return"many";default:return"other"}}}return D.\u0275fac=function(T){return new(T||D)(C.\u0275\u0275inject(C.LOCALE_ID))},D.\u0275prov=C.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac}),D})();function cn(D,P,T){return(0,C.\u0275registerLocaleData)(D,P,T)}function Ja(D,P){P=encodeURIComponent(P);for(const T of D.split(";")){const F=T.indexOf("="),[Q,Ce]=-1==F?[T,""]:[T.slice(0,F),T.slice(F+1)];if(Q.trim()===P)return decodeURIComponent(Ce)}return null}let va=(()=>{class D{constructor(T,F,Q,Ce){this._iterableDiffers=T,this._keyValueDiffers=F,this._ngEl=Q,this._renderer=Ce,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(T){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof T?T.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(T){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof T?T.split(/\s+/):T,this._rawClass&&((0,C.\u0275isListLikeIterable)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const T=this._iterableDiffer.diff(this._rawClass);T&&this._applyIterableChanges(T)}else if(this._keyValueDiffer){const T=this._keyValueDiffer.diff(this._rawClass);T&&this._applyKeyValueChanges(T)}}_applyKeyValueChanges(T){T.forEachAddedItem(F=>this._toggleClass(F.key,F.currentValue)),T.forEachChangedItem(F=>this._toggleClass(F.key,F.currentValue)),T.forEachRemovedItem(F=>{F.previousValue&&this._toggleClass(F.key,!1)})}_applyIterableChanges(T){T.forEachAddedItem(F=>{if("string"!=typeof F.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,C.\u0275stringify)(F.item)}`);this._toggleClass(F.item,!0)}),T.forEachRemovedItem(F=>this._toggleClass(F.item,!1))}_applyClasses(T){T&&(Array.isArray(T)||T instanceof Set?T.forEach(F=>this._toggleClass(F,!0)):Object.keys(T).forEach(F=>this._toggleClass(F,!!T[F])))}_removeClasses(T){T&&(Array.isArray(T)||T instanceof Set?T.forEach(F=>this._toggleClass(F,!1)):Object.keys(T).forEach(F=>this._toggleClass(F,!1)))}_toggleClass(T,F){(T=T.trim())&&T.split(/\s+/g).forEach(Q=>{F?this._renderer.addClass(this._ngEl.nativeElement,Q):this._renderer.removeClass(this._ngEl.nativeElement,Q)})}}return D.\u0275fac=function(T){return new(T||D)(C.\u0275\u0275directiveInject(C.IterableDiffers),C.\u0275\u0275directiveInject(C.KeyValueDiffers),C.\u0275\u0275directiveInject(C.ElementRef),C.\u0275\u0275directiveInject(C.Renderer2))},D.\u0275dir=C.\u0275\u0275defineDirective({type:D,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),D})(),ks=(()=>{class D{constructor(T){this._viewContainerRef=T,this.ngComponentOutlet=null}ngOnChanges(T){const{_viewContainerRef:F,ngComponentOutletNgModule:Q,ngComponentOutletNgModuleFactory:Ce}=this;if(F.clear(),this._componentRef=void 0,this.ngComponentOutlet){const ie=this.ngComponentOutletInjector||F.parentInjector;(T.ngComponentOutletNgModule||T.ngComponentOutletNgModuleFactory)&&(this._moduleRef&&this._moduleRef.destroy(),this._moduleRef=Q?(0,C.createNgModule)(Q,Vi(ie)):Ce?Ce.create(Vi(ie)):void 0),this._componentRef=F.createComponent(this.ngComponentOutlet,{index:F.length,injector:ie,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return D.\u0275fac=function(T){return new(T||D)(C.\u0275\u0275directiveInject(C.ViewContainerRef))},D.\u0275dir=C.\u0275\u0275defineDirective({type:D,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[C.\u0275\u0275NgOnChangesFeature]}),D})();function Vi(D){return D.get(C.NgModuleRef).injector}class vs{constructor(P,T,F,Q){this.$implicit=P,this.ngForOf=T,this.index=F,this.count=Q}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ur=(()=>{class D{constructor(T,F,Q){this._viewContainer=T,this._template=F,this._differs=Q,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(T){this._ngForOf=T,this._ngForOfDirty=!0}set ngForTrackBy(T){this._trackByFn=T}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(T){T&&(this._template=T)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const T=this._ngForOf;!this._differ&&T&&(this._differ=this._differs.find(T).create(this.ngForTrackBy))}if(this._differ){const T=this._differ.diff(this._ngForOf);T&&this._applyChanges(T)}}_applyChanges(T){const F=this._viewContainer;T.forEachOperation((Q,Ce,ie)=>{if(null==Q.previousIndex)F.createEmbeddedView(this._template,new vs(Q.item,this._ngForOf,-1,-1),null===ie?void 0:ie);else if(null==ie)F.remove(null===Ce?void 0:Ce);else if(null!==Ce){const lt=F.get(Ce);F.move(lt,ie),kn(lt,Q)}});for(let Q=0,Ce=F.length;Q<Ce;Q++){const lt=F.get(Q).context;lt.index=Q,lt.count=Ce,lt.ngForOf=this._ngForOf}T.forEachIdentityChange(Q=>{kn(F.get(Q.currentIndex),Q)})}static ngTemplateContextGuard(T,F){return!0}}return D.\u0275fac=function(T){return new(T||D)(C.\u0275\u0275directiveInject(C.ViewContainerRef),C.\u0275\u0275directiveInject(C.TemplateRef),C.\u0275\u0275directiveInject(C.IterableDiffers))},D.\u0275dir=C.\u0275\u0275defineDirective({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),D})();function kn(D,P){D.context.$implicit=P.item}let Xn=(()=>{class D{constructor(T,F){this._viewContainer=T,this._context=new ur,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=F}set ngIf(T){this._context.$implicit=this._context.ngIf=T,this._updateView()}set ngIfThen(T){Uo("ngIfThen",T),this._thenTemplateRef=T,this._thenViewRef=null,this._updateView()}set ngIfElse(T){Uo("ngIfElse",T),this._elseTemplateRef=T,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(T,F){return!0}}return D.\u0275fac=function(T){return new(T||D)(C.\u0275\u0275directiveInject(C.ViewContainerRef),C.\u0275\u0275directiveInject(C.TemplateRef))},D.\u0275dir=C.\u0275\u0275defineDirective({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),D})();class ur{constructor(){this.$implicit=null,this.ngIf=null}}function Uo(D,P){if(P&&!P.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,C.\u0275stringify)(P)}'.`)}class Ui{constructor(P,T){this._viewContainerRef=P,this._templateRef=T,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(P){P&&!this._created?this.create():!P&&this._created&&this.destroy()}}let jr=(()=>{class D{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(T){this._ngSwitch=T,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(T){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(T)}_matchCase(T){const F=T==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||F,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),F}_updateDefaultCases(T){if(this._defaultViews&&T!==this._defaultUsed){this._defaultUsed=T;for(let F=0;F<this._defaultViews.length;F++)this._defaultViews[F].enforceState(T)}}}return D.\u0275fac=function(T){return new(T||D)},D.\u0275dir=C.\u0275\u0275defineDirective({type:D,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),D})(),hi=(()=>{class D{constructor(T,F,Q){this.ngSwitch=Q,Q._addCase(),this._view=new Ui(T,F)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return D.\u0275fac=function(T){return new(T||D)(C.\u0275\u0275directiveInject(C.ViewContainerRef),C.\u0275\u0275directiveInject(C.TemplateRef),C.\u0275\u0275directiveInject(jr,9))},D.\u0275dir=C.\u0275\u0275defineDirective({type:D,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),D})(),Hn=(()=>{class D{constructor(T,F,Q){Q._addDefault(new Ui(T,F))}}return D.\u0275fac=function(T){return new(T||D)(C.\u0275\u0275directiveInject(C.ViewContainerRef),C.\u0275\u0275directiveInject(C.TemplateRef),C.\u0275\u0275directiveInject(jr,9))},D.\u0275dir=C.\u0275\u0275defineDirective({type:D,selectors:[["","ngSwitchDefault",""]],standalone:!0}),D})(),co=(()=>{class D{constructor(T){this._localization=T,this._caseViews={}}set ngPlural(T){this._switchValue=T,this._updateView()}addCase(T,F){this._caseViews[T]=F}_updateView(){this._clearViews();const T=Object.keys(this._caseViews),F=ti(this._switchValue,T,this._localization);this._activateView(this._caseViews[F])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(T){T&&(this._activeView=T,this._activeView.create())}}return D.\u0275fac=function(T){return new(T||D)(C.\u0275\u0275directiveInject(_r))},D.\u0275dir=C.\u0275\u0275defineDirective({type:D,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"},standalone:!0}),D})(),er=(()=>{class D{constructor(T,F,Q,Ce){this.value=T;const ie=!isNaN(Number(T));Ce.addCase(ie?`=${T}`:T,new Ui(Q,F))}}return D.\u0275fac=function(T){return new(T||D)(C.\u0275\u0275injectAttribute("ngPluralCase"),C.\u0275\u0275directiveInject(C.TemplateRef),C.\u0275\u0275directiveInject(C.ViewContainerRef),C.\u0275\u0275directiveInject(co,1))},D.\u0275dir=C.\u0275\u0275defineDirective({type:D,selectors:[["","ngPluralCase",""]],standalone:!0}),D})(),Fs=(()=>{class D{constructor(T,F,Q){this._ngEl=T,this._differs=F,this._renderer=Q,this._ngStyle=null,this._differ=null}set ngStyle(T){this._ngStyle=T,!this._differ&&T&&(this._differ=this._differs.find(T).create())}ngDoCheck(){if(this._differ){const T=this._differ.diff(this._ngStyle);T&&this._applyChanges(T)}}_setStyle(T,F){const[Q,Ce]=T.split("."),ie=-1===Q.indexOf("-")?void 0:C.RendererStyleFlags2.DashCase;null!=F?this._renderer.setStyle(this._ngEl.nativeElement,Q,Ce?`${F}${Ce}`:F,ie):this._renderer.removeStyle(this._ngEl.nativeElement,Q,ie)}_applyChanges(T){T.forEachRemovedItem(F=>this._setStyle(F.key,null)),T.forEachAddedItem(F=>this._setStyle(F.key,F.currentValue)),T.forEachChangedItem(F=>this._setStyle(F.key,F.currentValue))}}return D.\u0275fac=function(T){return new(T||D)(C.\u0275\u0275directiveInject(C.ElementRef),C.\u0275\u0275directiveInject(C.KeyValueDiffers),C.\u0275\u0275directiveInject(C.Renderer2))},D.\u0275dir=C.\u0275\u0275defineDirective({type:D,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),D})(),_s=(()=>{class D{constructor(T){this._viewContainerRef=T,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(T){if(T.ngTemplateOutlet||T.ngTemplateOutletInjector){const F=this._viewContainerRef;if(this._viewRef&&F.remove(F.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Q,ngTemplateOutletContext:Ce,ngTemplateOutletInjector:ie}=this;this._viewRef=F.createEmbeddedView(Q,Ce,ie?{injector:ie}:void 0)}else this._viewRef=null}else this._viewRef&&T.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return D.\u0275fac=function(T){return new(T||D)(C.\u0275\u0275directiveInject(C.ViewContainerRef))},D.\u0275dir=C.\u0275\u0275defineDirective({type:D,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[C.\u0275\u0275NgOnChangesFeature]}),D})();function _n(D,P){return new C.\u0275RuntimeError(2100,!1)}class Xa{createSubscription(P,T){return P.subscribe({next:T,error:F=>{throw F}})}dispose(P){P.unsubscribe()}}class ji{createSubscription(P,T){return P.then(T,F=>{throw F})}dispose(P){}}const Cd=new ji,Bi=new Xa;let $i=(()=>{class D{constructor(T){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=T}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(T){return this._obj?T!==this._obj?(this._dispose(),this.transform(T)):this._latestValue:(T&&this._subscribe(T),this._latestValue)}_subscribe(T){this._obj=T,this._strategy=this._selectStrategy(T),this._subscription=this._strategy.createSubscription(T,F=>this._updateLatestValue(T,F))}_selectStrategy(T){if((0,C.\u0275isPromise)(T))return Cd;if((0,C.\u0275isSubscribable)(T))return Bi;throw _n()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(T,F){T===this._obj&&(this._latestValue=F,this._ref.markForCheck())}}return D.\u0275fac=function(T){return new(T||D)(C.\u0275\u0275directiveInject(C.ChangeDetectorRef,16))},D.\u0275pipe=C.\u0275\u0275definePipe({name:"async",type:D,pure:!1,standalone:!0}),D})(),Dn=(()=>{class D{transform(T){if(null==T)return null;if("string"!=typeof T)throw _n();return T.toLowerCase()}}return D.\u0275fac=function(T){return new(T||D)},D.\u0275pipe=C.\u0275\u0275definePipe({name:"lowercase",type:D,pure:!0,standalone:!0}),D})();const Ls=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let eu=(()=>{class D{transform(T){if(null==T)return null;if("string"!=typeof T)throw _n();return T.replace(Ls,F=>F[0].toUpperCase()+F.slice(1).toLowerCase())}}return D.\u0275fac=function(T){return new(T||D)},D.\u0275pipe=C.\u0275\u0275definePipe({name:"titlecase",type:D,pure:!0,standalone:!0}),D})(),jo=(()=>{class D{transform(T){if(null==T)return null;if("string"!=typeof T)throw _n();return T.toUpperCase()}}return D.\u0275fac=function(T){return new(T||D)},D.\u0275pipe=C.\u0275\u0275definePipe({name:"uppercase",type:D,pure:!0,standalone:!0}),D})();const tu=new C.InjectionToken("DATE_PIPE_DEFAULT_TIMEZONE");let ho=(()=>{class D{constructor(T,F){this.locale=T,this.defaultTimezone=F}transform(T,F="mediumDate",Q,Ce){if(null==T||""===T||T!=T)return null;try{return Lr(T,F,Ce||this.locale,Q??this.defaultTimezone??void 0)}catch(ie){throw _n()}}}return D.\u0275fac=function(T){return new(T||D)(C.\u0275\u0275directiveInject(C.LOCALE_ID,16),C.\u0275\u0275directiveInject(tu,24))},D.\u0275pipe=C.\u0275\u0275definePipe({name:"date",type:D,pure:!0,standalone:!0}),D})();const ss=/#/g;let bd=(()=>{class D{constructor(T){this._localization=T}transform(T,F,Q){if(null==T)return"";if("object"!=typeof F||null===F)throw _n();return F[ti(T,Object.keys(F),this._localization,Q)].replace(ss,T.toString())}}return D.\u0275fac=function(T){return new(T||D)(C.\u0275\u0275directiveInject(_r,16))},D.\u0275pipe=C.\u0275\u0275definePipe({name:"i18nPlural",type:D,pure:!0,standalone:!0}),D})(),Bo=(()=>{class D{transform(T,F){if(null==T)return"";if("object"!=typeof F||"string"!=typeof T)throw _n();return F.hasOwnProperty(T)?F[T]:F.hasOwnProperty("other")?F.other:""}}return D.\u0275fac=function(T){return new(T||D)},D.\u0275pipe=C.\u0275\u0275definePipe({name:"i18nSelect",type:D,pure:!0,standalone:!0}),D})(),Rt=(()=>{class D{transform(T){return JSON.stringify(T,null,2)}}return D.\u0275fac=function(T){return new(T||D)},D.\u0275pipe=C.\u0275\u0275definePipe({name:"json",type:D,pure:!1,standalone:!0}),D})(),Hi=(()=>{class D{constructor(T){this.differs=T,this.keyValues=[],this.compareFn=fi}transform(T,F=fi){if(!T||!(T instanceof Map)&&"object"!=typeof T)return null;this.differ||(this.differ=this.differs.find(T).create());const Q=this.differ.diff(T),Ce=F!==this.compareFn;return Q&&(this.keyValues=[],Q.forEachItem(ie=>{this.keyValues.push(function Is(D,P){return{key:D,value:P}}(ie.key,ie.currentValue))})),(Q||Ce)&&(this.keyValues.sort(F),this.compareFn=F),this.keyValues}}return D.\u0275fac=function(T){return new(T||D)(C.\u0275\u0275directiveInject(C.KeyValueDiffers,16))},D.\u0275pipe=C.\u0275\u0275definePipe({name:"keyvalue",type:D,pure:!1,standalone:!0}),D})();function fi(D,P){const T=D.key,F=P.key;if(T===F)return 0;if(void 0===T)return 1;if(void 0===F)return-1;if(null===T)return 1;if(null===F)return-1;if("string"==typeof T&&"string"==typeof F)return T<F?-1:1;if("number"==typeof T&&"number"==typeof F)return T-F;if("boolean"==typeof T&&"boolean"==typeof F)return T<F?-1:1;const Q=String(T),Ce=String(F);return Q==Ce?0:Q<Ce?-1:1}let os=(()=>{class D{constructor(T){this._locale=T}transform(T,F,Q){if(!fo(T))return null;Q=Q||this._locale;try{return bn(po(T),Q,F)}catch(Ce){throw _n()}}}return D.\u0275fac=function(T){return new(T||D)(C.\u0275\u0275directiveInject(C.LOCALE_ID,16))},D.\u0275pipe=C.\u0275\u0275definePipe({name:"number",type:D,pure:!0,standalone:!0}),D})(),Ir=(()=>{class D{constructor(T){this._locale=T}transform(T,F,Q){if(!fo(T))return null;Q=Q||this._locale;try{return Vo(po(T),Q,F)}catch(Ce){throw _n()}}}return D.\u0275fac=function(T){return new(T||D)(C.\u0275\u0275directiveInject(C.LOCALE_ID,16))},D.\u0275pipe=C.\u0275\u0275definePipe({name:"percent",type:D,pure:!0,standalone:!0}),D})(),$o=(()=>{class D{constructor(T,F="USD"){this._locale=T,this._defaultCurrencyCode=F}transform(T,F=this._defaultCurrencyCode,Q="symbol",Ce,ie){if(!fo(T))return null;ie=ie||this._locale,"boolean"==typeof Q&&(Q=Q?"symbol":"code");let lt=F||this._defaultCurrencyCode;"code"!==Q&&(lt="symbol"===Q||"symbol-narrow"===Q?Di(lt,"symbol"===Q?"wide":"narrow",ie):Q);try{return Nt(po(T),ie,lt,F,Ce)}catch(on){throw _n()}}}return D.\u0275fac=function(T){return new(T||D)(C.\u0275\u0275directiveInject(C.LOCALE_ID,16),C.\u0275\u0275directiveInject(C.DEFAULT_CURRENCY_CODE,16))},D.\u0275pipe=C.\u0275\u0275definePipe({name:"currency",type:D,pure:!0,standalone:!0}),D})();function fo(D){return!(null==D||""===D||D!=D)}function po(D){if("string"==typeof D&&!isNaN(Number(D)-parseFloat(D)))return Number(D);if("number"!=typeof D)throw new Error(`${D} is not a number`);return D}let Yl=(()=>{class D{transform(T,F,Q){if(null==T)return null;if(!this.supports(T))throw _n();return T.slice(F,Q)}supports(T){return"string"==typeof T||Array.isArray(T)}}return D.\u0275fac=function(T){return new(T||D)},D.\u0275pipe=C.\u0275\u0275definePipe({name:"slice",type:D,pure:!1,standalone:!0}),D})(),Br=(()=>{class D{}return D.\u0275fac=function(T){return new(T||D)},D.\u0275mod=C.\u0275\u0275defineNgModule({type:D}),D.\u0275inj=C.\u0275\u0275defineInjector({}),D})();const In="browser",Ho="server",Go="browserWorkerApp",Vs="browserWorkerUi";function $r(D){return D===In}function Jl(D){return D===Ho}function Sn(D){return D===Go}function nu(D){return D===Vs}const _a=new C.Version("14.1.0");let go=(()=>{class D{}return D.\u0275prov=(0,C.\u0275\u0275defineInjectable)({token:D,providedIn:"root",factory:()=>new Ln((0,C.\u0275\u0275inject)(ye),window)}),D})();class Ln{constructor(P,T){this.document=P,this.window=T,this.offset=()=>[0,0]}setOffset(P){this.offset=Array.isArray(P)?()=>P:P}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(P){this.supportsScrolling()&&this.window.scrollTo(P[0],P[1])}scrollToAnchor(P){if(!this.supportsScrolling())return;const T=function Tt(D,P){const T=D.getElementById(P)||D.getElementsByName(P)[0];if(T)return T;if("function"==typeof D.createTreeWalker&&D.body&&(D.body.createShadowRoot||D.body.attachShadow)){const F=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let Q=F.currentNode;for(;Q;){const Ce=Q.shadowRoot;if(Ce){const ie=Ce.getElementById(P)||Ce.querySelector(`[name="${P}"]`);if(ie)return ie}Q=F.nextNode()}}return null}(this.document,P);T&&(this.scrollToElement(T),T.focus())}setHistoryScrollRestoration(P){if(this.supportScrollRestoration()){const T=this.window.history;T&&T.scrollRestoration&&(T.scrollRestoration=P)}}scrollToElement(P){const T=P.getBoundingClientRect(),F=T.left+this.window.pageXOffset,Q=T.top+this.window.pageYOffset,Ce=this.offset();this.window.scrollTo(F-Ce[0],Q-Ce[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const P=Gi(this.window.history)||Gi(Object.getPrototypeOf(this.window.history));return!(!P||!P.writable&&!P.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Gi(D){return Object.getOwnPropertyDescriptor(D,"scrollRestoration")}class ni{setOffset(P){}getScrollPosition(){return[0,0]}scrollToPosition(P){}scrollToAnchor(P){}setHistoryScrollRestoration(P){}}class gr{}},4650:(ct,De,L)=>{"use strict";L.r(De),L.d(De,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>hg,ANIMATION_MODULE_TYPE:()=>JT,APP_BOOTSTRAP_LISTENER:()=>H0,APP_ID:()=>pC,APP_INITIALIZER:()=>$0,ApplicationInitStatus:()=>Ny,ApplicationModule:()=>uI,ApplicationRef:()=>Zp,Attribute:()=>yi,COMPILER_OPTIONS:()=>zl,CUSTOM_ELEMENTS_SCHEMA:()=>xc,ChangeDetectionStrategy:()=>qn,ChangeDetectorRef:()=>RC,Compiler:()=>RD,CompilerFactory:()=>Oy,Component:()=>DD,ComponentFactory:()=>y,ComponentFactoryResolver:()=>k,ComponentRef:()=>_l,ContentChild:()=>af,ContentChildren:()=>Pd,DEFAULT_CURRENCY_CODE:()=>xD,DebugElement:()=>Jp,DebugEventListener:()=>$D,DebugNode:()=>Uy,DefaultIterableDiffer:()=>Wh,Directive:()=>My,ENVIRONMENT_INITIALIZER:()=>_c,ElementRef:()=>He,EmbeddedViewRef:()=>PC,EnvironmentInjector:()=>eo,ErrorHandler:()=>Of,EventEmitter:()=>Po,Host:()=>At,HostBinding:()=>QT,HostListener:()=>Qr,INJECTOR:()=>si,Inject:()=>fe,InjectFlags:()=>mt,Injectable:()=>lE,InjectionToken:()=>qt,Injector:()=>Tu,Input:()=>dr,IterableDiffers:()=>ju,KeyValueDiffers:()=>jy,LOCALE_ID:()=>md,MissingTranslationStrategy:()=>ga,ModuleWithComponentFactories:()=>$p,NO_ERRORS_SCHEMA:()=>yr,NgModule:()=>fC,NgModuleFactory:()=>Pw,NgModuleRef:()=>kh,NgProbeToken:()=>kD,NgZone:()=>Ns,Optional:()=>ke,Output:()=>ZT,PACKAGE_ROOT_URL:()=>Vu,PLATFORM_ID:()=>AD,PLATFORM_INITIALIZER:()=>yC,Pipe:()=>TD,PlatformRef:()=>Vy,Query:()=>du,QueryList:()=>Uh,ReflectiveInjector:()=>Et,ReflectiveKey:()=>Su,Renderer2:()=>br,RendererFactory2:()=>vt,RendererStyleFlags2:()=>Yi,ResolvedReflectiveFactory:()=>Ov,Sanitizer:()=>Il,SecurityContext:()=>mr,Self:()=>Qe,SimpleChange:()=>Hi,SkipSelf:()=>pt,TRANSLATIONS:()=>MD,TRANSLATIONS_FORMAT:()=>vC,TemplateRef:()=>kp,Testability:()=>PD,TestabilityRegistry:()=>Kp,Type:()=>lc,VERSION:()=>El,Version:()=>xf,ViewChild:()=>kd,ViewChildren:()=>uf,ViewContainerRef:()=>Bh,ViewEncapsulation:()=>Zt,ViewRef:()=>OC,asNativeElements:()=>HD,assertPlatform:()=>DC,createComponent:()=>eT,createEnvironmentInjector:()=>Op,createNgModule:()=>e0,createNgModuleRef:()=>kw,createPlatform:()=>EC,createPlatformFactory:()=>bC,defineInjectable:()=>fr,destroyPlatform:()=>LD,enableProdMode:()=>Kl,forwardRef:()=>G,getDebugNode:()=>Xp,getModuleFactory:()=>UD,getNgModuleById:()=>vd,getPlatform:()=>Ly,importProvidersFrom:()=>Mi,inject:()=>jd,isDevMode:()=>xC,platformCore:()=>WD,reflectComponentType:()=>GC,resolveForwardRef:()=>J,setTestabilityGetter:()=>Wl,\u0275ALLOW_MULTIPLE_PLATFORMS:()=>Qa,\u0275APP_ID_RANDOM_PROVIDER:()=>SD,\u0275ChangeDetectorStatus:()=>hn,\u0275ComponentFactory:()=>y,\u0275Console:()=>Za,\u0275DEFAULT_LOCALE_ID:()=>cd,\u0275INJECTOR_SCOPE:()=>wc,\u0275LContext:()=>eh,\u0275LifecycleHooksFeature:()=>LE,\u0275LocaleDataIndex:()=>Ct,\u0275NG_COMP_DEF:()=>Xr,\u0275NG_DIR_DEF:()=>Jn,\u0275NG_ELEMENT_ID:()=>q,\u0275NG_INJ_DEF:()=>Li,\u0275NG_MOD_DEF:()=>Yt,\u0275NG_PIPE_DEF:()=>Vr,\u0275NG_PROV_DEF:()=>bi,\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>Cu,\u0275NO_CHANGE:()=>Pt,\u0275NgModuleFactory:()=>Fh,\u0275NoopNgZone:()=>Wp,\u0275ReflectionCapabilities:()=>ll,\u0275Render3ComponentFactory:()=>Yc,\u0275Render3ComponentRef:()=>t_,\u0275Render3NgModuleRef:()=>t0,\u0275RuntimeError:()=>se,\u0275TESTABILITY:()=>W0,\u0275TESTABILITY_GETTER:()=>qh,\u0275ViewRef:()=>Pi,\u0275_sanitizeHtml:()=>zd,\u0275_sanitizeUrl:()=>gc,\u0275allowSanitizationBypassAndThrow:()=>ka,\u0275bypassSanitizationTrustHtml:()=>_g,\u0275bypassSanitizationTrustResourceUrl:()=>ev,\u0275bypassSanitizationTrustScript:()=>Eg,\u0275bypassSanitizationTrustStyle:()=>Ig,\u0275bypassSanitizationTrustUrl:()=>Xy,\u0275clearResolutionOfComponentResourcesQueue:()=>Ss,\u0275coerceToBoolean:()=>Kh,\u0275compileComponent:()=>oC,\u0275compileDirective:()=>Sy,\u0275compileNgModule:()=>Cy,\u0275compileNgModuleDefs:()=>by,\u0275compileNgModuleFactory:()=>Z0,\u0275compilePipe:()=>B0,\u0275createInjector:()=>Zg,\u0275defaultIterableDiffers:()=>ng,\u0275defaultKeyValueDiffers:()=>ps,\u0275detectChanges:()=>zE,\u0275devModeEqual:()=>qE,\u0275findLocaleData:()=>Bm,\u0275flushModuleScopingQueueAsMuchAsPossible:()=>x0,\u0275getDebugNode:()=>Xp,\u0275getDebugNodeR2:()=>VC,\u0275getDirectives:()=>fd,\u0275getHostElement:()=>Hl,\u0275getInjectableDef:()=>Lt,\u0275getLContext:()=>Ri,\u0275getLocaleCurrencyCode:()=>jl,\u0275getLocalePluralCase:()=>S_,\u0275getSanitizationBypassType:()=>vg,\u0275getUnknownElementStrictMode:()=>Rc,\u0275getUnknownPropertyStrictMode:()=>Jd,\u0275global:()=>Ke,\u0275injectChangeDetectorRef:()=>NC,\u0275internalBootstrapApplication:()=>CC,\u0275isBoundToModule:()=>Uu,\u0275isDefaultChangeDetectionStrategy:()=>ms,\u0275isListLikeIterable:()=>Al,\u0275isObservable:()=>a_,\u0275isPromise:()=>Wr,\u0275isStandalone:()=>Lu,\u0275isSubscribable:()=>bm,\u0275ivyEnabled:()=>Id,\u0275makeDecorator:()=>Ds,\u0275markDirty:()=>up,\u0275noSideEffects:()=>On,\u0275patchComponentDefWithScope:()=>O0,\u0275publishDefaultGlobalUtils:()=>ND,\u0275publishGlobalUtil:()=>ko,\u0275registerLocaleData:()=>Nh,\u0275resetCompiledComponents:()=>N0,\u0275resetJitOptions:()=>Ey,\u0275resolveComponentResources:()=>ea,\u0275setAllowDuplicateNgModuleIdsForTest:()=>Ky,\u0275setClassMetadata:()=>ly,\u0275setCurrentInjector:()=>Do,\u0275setDocument:()=>Zy,\u0275setLocaleId:()=>qm,\u0275setUnknownElementStrictMode:()=>Mc,\u0275setUnknownPropertyStrictMode:()=>ov,\u0275store:()=>cp,\u0275stringify:()=>pe,\u0275transitiveScopesFor:()=>ql,\u0275unregisterLocaleData:()=>Yb,\u0275unwrapSafeValue:()=>So,\u0275whenRendered:()=>VE,\u0275\u0275CopyDefinitionFeature:()=>HE,\u0275\u0275FactoryTarget:()=>Er,\u0275\u0275InheritDefinitionFeature:()=>Nu,\u0275\u0275NgOnChangesFeature:()=>fi,\u0275\u0275ProvidersFeature:()=>iy,\u0275\u0275StandaloneFeature:()=>sy,\u0275\u0275advance:()=>Kf,\u0275\u0275attribute:()=>Ml,\u0275\u0275attributeInterpolate1:()=>ym,\u0275\u0275attributeInterpolate2:()=>nd,\u0275\u0275attributeInterpolate3:()=>vm,\u0275\u0275attributeInterpolate4:()=>Ro,\u0275\u0275attributeInterpolate5:()=>_m,\u0275\u0275attributeInterpolate6:()=>rd,\u0275\u0275attributeInterpolate7:()=>r_,\u0275\u0275attributeInterpolate8:()=>i_,\u0275\u0275attributeInterpolateV:()=>jt,\u0275\u0275classMap:()=>nw,\u0275\u0275classMapInterpolate1:()=>vp,\u0275\u0275classMapInterpolate2:()=>Th,\u0275\u0275classMapInterpolate3:()=>Ll,\u0275\u0275classMapInterpolate4:()=>aw,\u0275\u0275classMapInterpolate5:()=>b_,\u0275\u0275classMapInterpolate6:()=>uw,\u0275\u0275classMapInterpolate7:()=>lw,\u0275\u0275classMapInterpolate8:()=>cw,\u0275\u0275classMapInterpolateV:()=>Sh,\u0275\u0275classProp:()=>v_,\u0275\u0275contentQuery:()=>Xw,\u0275\u0275defineComponent:()=>H,\u0275\u0275defineDirective:()=>vr,\u0275\u0275defineInjectable:()=>Wt,\u0275\u0275defineInjector:()=>Kt,\u0275\u0275defineNgModule:()=>ft,\u0275\u0275definePipe:()=>$t,\u0275\u0275directiveInject:()=>Ee,\u0275\u0275disableBindings:()=>lr,\u0275\u0275element:()=>o_,\u0275\u0275elementContainer:()=>Cm,\u0275\u0275elementContainerEnd:()=>Nl,\u0275\u0275elementContainerStart:()=>wm,\u0275\u0275elementEnd:()=>hp,\u0275\u0275elementStart:()=>dp,\u0275\u0275enableBindings:()=>un,\u0275\u0275getCurrentView:()=>WE,\u0275\u0275getInheritedFactory:()=>rl,\u0275\u0275hostProperty:()=>jm,\u0275\u0275i18n:()=>ey,\u0275\u0275i18nApply:()=>Q_,\u0275\u0275i18nAttributes:()=>ty,\u0275\u0275i18nEnd:()=>Xm,\u0275\u0275i18nExp:()=>Wa,\u0275\u0275i18nPostprocess:()=>Nw,\u0275\u0275i18nStart:()=>Mp,\u0275\u0275inject:()=>Wn,\u0275\u0275injectAttribute:()=>Sa,\u0275\u0275invalidFactory:()=>Le,\u0275\u0275invalidFactoryDep:()=>fc,\u0275\u0275listener:()=>id,\u0275\u0275loadQuery:()=>vy,\u0275\u0275namespaceHTML:()=>zu,\u0275\u0275namespaceMathML:()=>rc,\u0275\u0275namespaceSVG:()=>nc,\u0275\u0275nextContext:()=>d_,\u0275\u0275ngDeclareClassMetadata:()=>Ed,\u0275\u0275ngDeclareComponent:()=>KD,\u0275\u0275ngDeclareDirective:()=>lI,\u0275\u0275ngDeclareFactory:()=>ZD,\u0275\u0275ngDeclareInjectable:()=>YD,\u0275\u0275ngDeclareInjector:()=>By,\u0275\u0275ngDeclareNgModule:()=>JD,\u0275\u0275ngDeclarePipe:()=>XD,\u0275\u0275pipe:()=>fy,\u0275\u0275pipeBind1:()=>zw,\u0275\u0275pipeBind2:()=>py,\u0275\u0275pipeBind3:()=>Ww,\u0275\u0275pipeBind4:()=>gy,\u0275\u0275pipeBindV:()=>p0,\u0275\u0275projection:()=>QE,\u0275\u0275projectionDef:()=>ZE,\u0275\u0275property:()=>Im,\u0275\u0275propertyInterpolate:()=>sd,\u0275\u0275propertyInterpolate1:()=>Ch,\u0275\u0275propertyInterpolate2:()=>h_,\u0275\u0275propertyInterpolate3:()=>Dm,\u0275\u0275propertyInterpolate4:()=>Tm,\u0275\u0275propertyInterpolate5:()=>Sm,\u0275\u0275propertyInterpolate6:()=>f_,\u0275\u0275propertyInterpolate7:()=>Am,\u0275\u0275propertyInterpolate8:()=>p_,\u0275\u0275propertyInterpolateV:()=>g_,\u0275\u0275pureFunction0:()=>cy,\u0275\u0275pureFunction1:()=>Lw,\u0275\u0275pureFunction2:()=>Vw,\u0275\u0275pureFunction3:()=>dy,\u0275\u0275pureFunction4:()=>hy,\u0275\u0275pureFunction5:()=>Uw,\u0275\u0275pureFunction6:()=>l0,\u0275\u0275pureFunction7:()=>jw,\u0275\u0275pureFunction8:()=>c0,\u0275\u0275pureFunctionV:()=>d0,\u0275\u0275queryRefresh:()=>D0,\u0275\u0275reference:()=>s_,\u0275\u0275registerNgModuleType:()=>dl,\u0275\u0275resetView:()=>zi,\u0275\u0275resolveBody:()=>Pg,\u0275\u0275resolveDocument:()=>Uf,\u0275\u0275resolveWindow:()=>Og,\u0275\u0275restoreView:()=>qi,\u0275\u0275sanitizeHtml:()=>zr,\u0275\u0275sanitizeResourceUrl:()=>Ao,\u0275\u0275sanitizeScript:()=>wf,\u0275\u0275sanitizeStyle:()=>vc,\u0275\u0275sanitizeUrl:()=>tr,\u0275\u0275sanitizeUrlOrResourceUrl:()=>Sg,\u0275\u0275setComponentScope:()=>K,\u0275\u0275setNgModuleScope:()=>fn,\u0275\u0275styleMap:()=>da,\u0275\u0275styleMapInterpolate1:()=>Vl,\u0275\u0275styleMapInterpolate2:()=>Ul,\u0275\u0275styleMapInterpolate3:()=>D_,\u0275\u0275styleMapInterpolate4:()=>dw,\u0275\u0275styleMapInterpolate5:()=>hw,\u0275\u0275styleMapInterpolate6:()=>Fm,\u0275\u0275styleMapInterpolate7:()=>_p,\u0275\u0275styleMapInterpolate8:()=>fw,\u0275\u0275styleMapInterpolateV:()=>T_,\u0275\u0275styleProp:()=>y_,\u0275\u0275stylePropInterpolate1:()=>ad,\u0275\u0275stylePropInterpolate2:()=>Ah,\u0275\u0275stylePropInterpolate3:()=>ud,\u0275\u0275stylePropInterpolate4:()=>Lm,\u0275\u0275stylePropInterpolate5:()=>Vm,\u0275\u0275stylePropInterpolate6:()=>ts,\u0275\u0275stylePropInterpolate7:()=>Um,\u0275\u0275stylePropInterpolate8:()=>xh,\u0275\u0275stylePropInterpolateV:()=>Mh,\u0275\u0275syntheticHostListener:()=>No,\u0275\u0275syntheticHostProperty:()=>za,\u0275\u0275template:()=>Eh,\u0275\u0275templateRefExtractor:()=>S0,\u0275\u0275text:()=>kl,\u0275\u0275textInterpolate:()=>Pu,\u0275\u0275textInterpolate1:()=>Fl,\u0275\u0275textInterpolate2:()=>Rm,\u0275\u0275textInterpolate3:()=>mp,\u0275\u0275textInterpolate4:()=>yp,\u0275\u0275textInterpolate5:()=>Nm,\u0275\u0275textInterpolate6:()=>Om,\u0275\u0275textInterpolate7:()=>C_,\u0275\u0275textInterpolate8:()=>Pm,\u0275\u0275textInterpolateV:()=>km,\u0275\u0275trustConstantHtml:()=>Dg,\u0275\u0275trustConstantResourceUrl:()=>Cf,\u0275\u0275viewQuery:()=>Jw});var C=L(7579),d=L(727),V=L(9751),ue=L(6451),re=L(3099);function he(i){for(let s in i)if(i[s]===he)return s;throw Error("Could not find renamed property on target object.")}function ye(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function pe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(pe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function _e(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const $=he({__forward_ref__:he});function G(i){return i.__forward_ref__=G,i.toString=function(){return pe(this())},i}function J(i){return Ue(i)?i():i}function Ue(i){return"function"==typeof i&&i.hasOwnProperty($)&&i.__forward_ref__===G}class se extends Error{constructor(s,a){super(function je(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function de(i){return"string"==typeof i?i:null==i?"":String(i)}function ce(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():de(i)}function Te(i,s){throw new se(-201,!1)}function Je(i,s,a,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}function Wt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}const fr=Wt;function Kt(i){return{providers:i.providers||[],imports:i.imports||[]}}function Lt(i){return Fi(i,bi)||Fi(i,Jr)}function Fi(i,s){return i.hasOwnProperty(s)?i[s]:null}function Yr(i){return i&&(i.hasOwnProperty(Li)||i.hasOwnProperty(ci))?i[Li]:null}const bi=he({\u0275prov:he}),Li=he({\u0275inj:he}),Jr=he({ngInjectableDef:he}),ci=he({ngInjectorDef:he});var mt=(()=>((mt=mt||{})[mt.Default=0]="Default",mt[mt.Host=1]="Host",mt[mt.Self=2]="Self",mt[mt.SkipSelf=4]="SkipSelf",mt[mt.Optional=8]="Optional",mt))();let xr;function Tn(i){const s=xr;return xr=i,s}function Di(i,s,a){const u=Lt(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&mt.Optional?null:void 0!==s?s:void Te(pe(i))}function On(i){return{toString:i}.toString()}var qn=(()=>((qn=qn||{})[qn.OnPush=0]="OnPush",qn[qn.Default=1]="Default",qn))(),hn=(()=>((hn=hn||{})[hn.CheckOnce=0]="CheckOnce",hn[hn.Checked=1]="Checked",hn[hn.CheckAlways=2]="CheckAlways",hn[hn.Detached=3]="Detached",hn[hn.Errored=4]="Errored",hn[hn.Destroyed=5]="Destroyed",hn))();function ms(i){return null==i||i===qn.Default}var Zt=(()=>{return(i=Zt||(Zt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Zt;var i})();const Ke=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Yn={},_t=[],Xr=he({\u0275cmp:he}),Jn=he({\u0275dir:he}),Vr=he({\u0275pipe:he}),Yt=he({\u0275mod:he}),di=he({\u0275fac:he}),q=he({__NG_ELEMENT_ID__:he});let W=0;function H(i){return On(()=>{const a=!0===i.standalone,u={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===qn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||_t,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Zt.Emulated,id:"c"+W++,styles:i.styles||_t,_:null,setInput:null,schemas:i.schemas||null,tView:null},p=i.dependencies,v=i.features;return c.inputs=Jt(i.inputs,u),c.outputs=Jt(i.outputs),v&&v.forEach(I=>I(c)),c.directiveDefs=p?()=>("function"==typeof p?p():p).map(Z).filter(Fe):null,c.pipeDefs=p?()=>("function"==typeof p?p():p).map(or).filter(Fe):null,c})}function K(i,s,a){const u=i.\u0275cmp;u.directiveDefs=()=>("function"==typeof s?s():s).map(Z),u.pipeDefs=()=>("function"==typeof a?a():a).map(or)}function Z(i){return Ft(i)||Pn(i)}function Fe(i){return null!==i}const Ze={};function ft(i){return On(()=>{const s={type:i.type,bootstrap:i.bootstrap||_t,declarations:i.declarations||_t,imports:i.imports||_t,exports:i.exports||_t,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Ze[i.id]=i.type),s})}function fn(i,s){return On(()=>{const a=Mr(i,!0);a.declarations=s.declarations||_t,a.imports=s.imports||_t,a.exports=s.exports||_t})}function Jt(i,s){if(null==i)return Yn;const a={};for(const u in i)if(i.hasOwnProperty(u)){let c=i[u],p=c;Array.isArray(c)&&(p=c[1],c=c[0]),a[c]=u,s&&(s[c]=p)}return a}const vr=H;function $t(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Ft(i){return i[Xr]||null}function Pn(i){return i[Jn]||null}function or(i){return i[Vr]||null}function Mr(i,s){const a=i[Yt]||null;if(!a&&!0===s)throw new Error(`Type ${pe(i)} does not have '\u0275mod' property.`);return a}function Xn(i){return Array.isArray(i)&&"object"==typeof i[1]}function ur(i){return Array.isArray(i)&&!0===i[1]}function Uo(i){return 0!=(8&i.flags)}function Ui(i){return 2==(2&i.flags)}function jr(i){return 1==(1&i.flags)}function hi(i){return null!==i.template}function Hn(i){return 0!=(256&i[2])}function Is(i,s){return i.hasOwnProperty(di)?i[di]:null}class Hi{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function fi(){return os}function os(i){return i.type.prototype.ngOnChanges&&(i.setInput=$o),Ir}function Ir(){const i=po(this),s=i?.current;if(s){const a=i.previous;if(a===Yn)i.previous=s;else for(let u in s)a[u]=s[u];i.current=null,this.ngOnChanges(s)}}function $o(i,s,a,u){const c=po(i)||function Yl(i,s){return i[fo]=s}(i,{previous:Yn,current:null}),p=c.current||(c.current={}),v=c.previous,I=this.declaredInputs[a],w=v[I];p[I]=new Hi(w&&w.currentValue,s,v===Yn),i[u]=s}fi.ngInherit=!0;const fo="__ngSimpleChanges__";function po(i){return i[fo]||null}let Fn=null;const Br=i=>{Fn=i},In=function(i,s,a){Fn?.(i,s,a)};function Sn(i){for(;Array.isArray(i);)i=i[0];return i}function go(i,s){return Sn(s[i])}function Ln(i,s){return Sn(s[i.index])}function Tt(i,s){return i.data[s]}function ni(i,s){return i[s]}function gr(i,s){const a=s[i];return Xn(a)?a:a[0]}function D(i){return 4==(4&i[2])}function P(i){return 64==(64&i[2])}function F(i,s){return null==s?null:i[s]}function Q(i){i[18]=0}function Ce(i,s){i[5]+=s;let a=i,u=i[3];for(;null!==u&&(1===s&&1===a[5]||-1===s&&0===a[5]);)u[5]+=s,a=u,u=u[3]}const ie={lFrame:Ca(null),bindingsEnabled:!0};function zn(){return ie.bindingsEnabled}function un(){ie.bindingsEnabled=!0}function lr(){ie.bindingsEnabled=!1}function Me(){return ie.lFrame.lView}function St(){return ie.lFrame.tView}function qi(i){return ie.lFrame.contextLView=i,i[8]}function zi(i){return ie.lFrame.contextLView=null,i}function Vn(){let i=Us();for(;null!==i&&64===i.type;)i=i.parent;return i}function Us(){return ie.lFrame.currentTNode}function Es(){const i=ie.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}function Wi(i,s){const a=ie.lFrame;a.currentTNode=i,a.isParent=s}function qo(){return ie.lFrame.isParent}function js(){ie.lFrame.isParent=!1}function Hr(){const i=ie.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function as(){return ie.lFrame.bindingIndex}function Dd(i){return ie.lFrame.bindingIndex=i}function ws(){return ie.lFrame.bindingIndex++}function ri(i){const s=ie.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function ec(i){ie.lFrame.inI18n=i}function Ia(i,s){const a=ie.lFrame;a.bindingIndex=a.bindingRootIndex=i,us(s)}function us(i){ie.lFrame.currentDirectiveIndex=i}function iu(i){const s=ie.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function $u(){return ie.lFrame.currentQueryIndex}function Ea(i){ie.lFrame.currentQueryIndex=i}function tc(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function wa(i,s,a){if(a&mt.SkipSelf){let c=s,p=i;for(;!(c=c.parent,null!==c||a&mt.Host||(c=tc(p),null===c||(p=p[15],10&c.type))););if(null===c)return!1;s=c,i=p}const u=ie.lFrame=Hu();return u.currentTNode=s,u.lView=i,!0}function Cs(i){const s=Hu(),a=i[1];ie.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Hu(){const i=ie.lFrame,s=null===i?null:i.child;return null===s?Ca(i):s}function Ca(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Gu(){const i=ie.lFrame;return ie.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const su=Gu;function qu(){const i=Gu();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Un(){return ie.lFrame.selectedIndex}function cs(i){ie.lFrame.selectedIndex=i}function wn(){const i=ie.lFrame;return Tt(i.tView,i.selectedIndex)}function nc(){ie.lFrame.currentNamespace="svg"}function rc(){ie.lFrame.currentNamespace="math"}function zu(){!function tf(){ie.lFrame.currentNamespace=null}()}function Sd(i,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:I,ngAfterViewInit:w,ngAfterViewChecked:x,ngOnDestroy:O}=p;v&&(i.contentHooks||(i.contentHooks=[])).push(-a,v),I&&((i.contentHooks||(i.contentHooks=[])).push(a,I),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,I)),w&&(i.viewHooks||(i.viewHooks=[])).push(-a,w),x&&((i.viewHooks||(i.viewHooks=[])).push(a,x),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,x)),null!=O&&(i.destroyHooks||(i.destroyHooks=[])).push(a,O)}}function Ad(i,s,a){cg(i,s,3,a)}function au(i,s,a,u){(3&i[2])===a&&cg(i,s,a,u)}function rf(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function cg(i,s,a,u){const p=u??-1,v=s.length-1;let I=0;for(let w=void 0!==u?65535&i[18]:0;w<v;w++)if("number"==typeof s[w+1]){if(I=s[w],null!=u&&I>=u)break}else s[w]<0&&(i[18]+=65536),(I<p||-1==p)&&(Wu(i,a,s,w),i[18]=(4294901760&i[18])+w+2),w++}function Wu(i,s,a,u){const c=a[u]<0,p=a[u+1],I=i[c?-a[u]:a[u]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048,In(4,I,p);try{p.call(I)}finally{In(5,I,p)}}}else{In(4,I,p);try{p.call(I)}finally{In(5,I,p)}}}class uu{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Gs(i,s,a){let u=0;for(;u<a.length;){const c=a[u];if("number"==typeof c){if(0!==c)break;u++;const p=a[u++],v=a[u++],I=a[u++];i.setAttribute(s,v,I,p)}else{const p=c,v=a[++u];bs(p)?i.setProperty(s,p,v):i.setAttribute(s,p,v),u++}}return u}function Md(i){return 3===i||4===i||6===i}function bs(i){return 64===i.charCodeAt(0)}function ba(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const c=s[u];"number"==typeof c?a=c:0===a||Ku(i,a,c,null,-1===a||2===a?s[++u]:null)}}return i}function Ku(i,s,a,u,c){let p=0,v=i.length;if(-1===s)v=-1;else for(;p<i.length;){const I=i[p++];if("number"==typeof I){if(I===s){v=-1;break}if(I>s){v=p-1;break}}}for(;p<i.length;){const I=i[p];if("number"==typeof I)break;if(I===a){if(null===u)return void(null!==c&&(i[p+1]=c));if(u===i[p+1])return void(i[p+2]=c)}p++,null!==u&&p++,null!==c&&p++}-1!==v&&(i.splice(v,0,s),p=v+1),i.splice(p++,0,a),null!==u&&i.splice(p++,0,u),null!==c&&i.splice(p++,0,c)}function oc(i){return-1!==i}function mo(i){return 32767&i}function qs(i,s){let a=function pi(i){return i>>16}(i),u=s;for(;a>0;)u=u[15],a--;return u}let Da=!0;function ds(i){const s=Da;return Da=i,s}let Qu=0;const gn={};function yo(i,s){const a=vo(i,s);if(-1!==a)return a;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,zs(u.data,i),zs(s,null),zs(u.blueprint,null));const c=Ta(i,s),p=i.injectorIndex;if(oc(c)){const v=mo(c),I=qs(c,s),w=I[1].data;for(let x=0;x<8;x++)s[p+x]=I[v+x]|w[v+x]}return s[p+8]=c,p}function zs(i,s){i.push(0,0,0,0,0,0,0,0,s)}function vo(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Ta(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,c=s;for(;null!==c;){if(u=Qo(c),null===u)return-1;if(a++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Ju(i,s,a){!function Yu(i,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(q)&&(u=a[q]),null==u&&(u=a[q]=Qu++);const c=255&u;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function ac(i,s,a){if(a&mt.Optional)return i;Te()}function _o(i,s,a,u){if(a&mt.Optional&&void 0===u&&(u=null),0==(a&(mt.Self|mt.Host))){const c=i[9],p=Tn(void 0);try{return c?c.get(s,u,a&mt.Optional):Di(s,u,a&mt.Optional)}finally{Tn(p)}}return ac(u,0,a)}function Rd(i,s,a,u=mt.Default,c){if(null!==i){if(1024&s[2]){const v=function Nd(i,s,a,u,c){let p=i,v=s;for(;null!==p&&null!==v&&1024&v[2]&&!(256&v[2]);){const I=Zo(p,v,a,u|mt.Self,gn);if(I!==gn)return I;let w=p.parent;if(!w){const x=v[21];if(x){const O=x.get(a,gn,u);if(O!==gn)return O}w=Qo(v),v=v[15]}p=w}return c}(i,s,a,u,gn);if(v!==gn)return v}const p=Zo(i,s,a,u,gn);if(p!==gn)return p}return _o(s,a,u,c)}function Zo(i,s,a,u,c){const p=function el(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(q)?i[q]:void 0;return"number"==typeof s?s>=0?255&s:gi:s}(a);if("function"==typeof p){if(!wa(s,i,u))return u&mt.Host?ac(c,0,u):_o(s,a,u,c);try{const v=p(u);if(null!=v||u&mt.Optional)return v;Te()}finally{su()}}else if("number"==typeof p){let v=null,I=vo(i,s),w=-1,x=u&mt.Host?s[16][6]:null;for((-1===I||u&mt.SkipSelf)&&(w=-1===I?Ta(i,s):s[I+8],-1!==w&&nl(u,!1)?(v=s[1],I=mo(w),s=qs(w,s)):I=-1);-1!==I;){const O=s[1];if(tl(p,I,O.data)){const j=uc(I,s,a,v,u,x);if(j!==gn)return j}w=s[I+8],-1!==w&&nl(u,s[1].data[I+8]===x)&&tl(p,I,s)?(v=O,I=mo(w),s=qs(w,s)):I=-1}}return c}function uc(i,s,a,u,c,p){const v=s[1],I=v.data[i+8],O=cu(I,v,a,null==u?Ui(I)&&Da:u!=v&&0!=(3&I.type),c&mt.Host&&p===I);return null!==O?Ws(s,v,O,I):gn}function cu(i,s,a,u,c){const p=i.providerIndexes,v=s.data,I=1048575&p,w=i.directiveStart,O=p>>20,Y=c?I+O:i.directiveEnd;for(let ae=u?I:I+O;ae<Y;ae++){const Re=v[ae];if(ae<w&&a===Re||ae>=w&&Re.type===a)return ae}if(c){const ae=v[w];if(ae&&hi(ae)&&ae.type===a)return w}return null}function Ws(i,s,a,u){let c=i[a];const p=s.data;if(function lu(i){return i instanceof uu}(c)){const v=c;v.resolving&&function Ge(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new se(-200,`Circular dependency in DI detected for ${i}${a}`)}(ce(p[a]));const I=ds(v.canSeeViewProviders);v.resolving=!0;const w=v.injectImpl?Tn(v.injectImpl):null;wa(i,u,mt.Default);try{c=i[a]=v.factory(void 0,p,i,u),s.firstCreatePass&&a>=u.directiveStart&&function nf(i,s,a){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:p}=s.type.prototype;if(u){const v=os(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,v)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],s)}finally{null!==w&&Tn(w),ds(I),v.resolving=!1,su()}}return c}function tl(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function nl(i,s){return!(i&mt.Self||i&mt.Host&&s)}class Ki{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return Rd(this._tNode,this._lView,s,u,a)}}function gi(){return new Ki(Vn(),Me())}function rl(i){return On(()=>{const s=i.prototype.constructor,a=s[di]||il(s),u=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==u;){const p=c[di]||il(c);if(p&&p!==a)return p;c=Object.getPrototypeOf(c)}return p=>new p})}function il(i){return Ue(i)?()=>{const s=il(J(i));return s&&s()}:Is(i)}function Qo(i){const s=i[1],a=s.type;return 2===a?s.declTNode:1===a?i[6]:null}function Sa(i){return function Xu(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const u=a.length;let c=0;for(;c<u;){const p=a[c];if(Md(p))break;if(0===p)c+=2;else if("number"==typeof p)for(c++;c<u&&"string"==typeof a[c];)c++;else{if(p===s)return a[c+1];c+=2}}}return null}(Vn(),i)}const Ks="__annotations__",mi="__parameters__",Zs="__prop__metadata__";function Ds(i,s,a,u,c){return On(()=>{const p=hs(s);function v(...I){if(this instanceof v)return p.call(this,...I),this;const w=new v(...I);return function(O){return c&&c(O,...I),(O.hasOwnProperty(Ks)?O[Ks]:Object.defineProperty(O,Ks,{value:[]})[Ks]).push(w),u&&u(O),O}}return a&&(v.prototype=Object.create(a.prototype)),v.prototype.ngMetadataName=i,v.annotationCls=v,v})}function hs(i){return function(...a){if(i){const u=i(...a);for(const c in u)this[c]=u[c]}}}function Io(i,s,a){return On(()=>{const u=hs(s);function c(...p){if(this instanceof c)return u.apply(this,p),this;const v=new c(...p);return I.annotation=v,I;function I(w,x,O){const j=w.hasOwnProperty(mi)?w[mi]:Object.defineProperty(w,mi,{value:[]})[mi];for(;j.length<=O;)j.push(null);return(j[O]=j[O]||[]).push(v),w}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}function Qs(i,s,a,u){return On(()=>{const c=hs(s);function p(...v){if(this instanceof p)return c.apply(this,v),this;const I=new p(...v);return function w(x,O){const j=x.constructor,Y=j.hasOwnProperty(Zs)?j[Zs]:Object.defineProperty(j,Zs,{value:{}})[Zs];Y[O]=Y.hasOwnProperty(O)&&Y[O]||[],Y[O].unshift(I),u&&u(x,O,...v)}}return a&&(p.prototype=Object.create(a.prototype)),p.prototype.ngMetadataName=i,p.annotationCls=p,p})}const yi=Io("Attribute",i=>({attributeName:i,__NG_ELEMENT_ID__:()=>Sa(i)}));class qt{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Wt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const hg=new qt("AnalyzeForEntryComponents");class du{}const Pd=Qs("ContentChildren",(i,s={})=>({selector:i,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0,...s}),du),af=Qs("ContentChild",(i,s={})=>({selector:i,first:!0,isViewQuery:!1,descendants:!0,...s}),du),uf=Qs("ViewChildren",(i,s={})=>({selector:i,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0,...s}),du),kd=Qs("ViewChild",(i,s)=>({selector:i,first:!0,isViewQuery:!0,descendants:!0,...s}),du);var Er=(()=>((Er=Er||{})[Er.Directive=0]="Directive",Er[Er.Component=1]="Component",Er[Er.Injectable=2]="Injectable",Er[Er.Pipe=3]="Pipe",Er[Er.NgModule=4]="NgModule",Er))();function wr(i){const s=Ke.ng;if(s&&s.\u0275compilerFacade)return s.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const lc=Function;function fu(i){return"function"==typeof i}function qr(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let u=i[a];Array.isArray(u)?(s===i&&(s=i.slice(0,a)),qr(u,s)):s!==i&&s.push(u)}return s}function Ys(i,s){i.forEach(a=>Array.isArray(a)?Ys(a,s):s(a))}function sl(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function ol(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Eo(i,s){const a=[];for(let u=0;u<i;u++)a.push(s);return a}function ii(i,s,a){let u=Co(i,s);return u>=0?i[1|u]=a:(u=~u,function cf(i,s,a,u){let c=i.length;if(c==s)i.push(a,u);else if(1===c)i.push(u,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=u}}(i,u,s,a)),u}function cc(i,s){const a=Co(i,s);if(a>=0)return i[1|a]}function Co(i,s){return function Jo(i,s,a){let u=0,c=i.length>>a;for(;c!==u;){const p=u+(c-u>>1),v=i[p<<a];if(s===v)return p<<a;v>s?c=p:u=p+1}return~(c<<a)}(i,s,1)}const yu=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Aa=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,xa=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Ma=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class ll{constructor(s){this._reflect=s||Ke.Reflect}factory(s){return(...a)=>new s(...a)}_zipTypesAndAnnotations(s,a){let u;u=Eo(typeof s>"u"?a.length:s.length);for(let c=0;c<u.length;c++)u[c]=typeof s>"u"?[]:s[c]&&s[c]!=Object?[s[c]]:[],a&&null!=a[c]&&(u[c]=u[c].concat(a[c]));return u}_ownParameters(s,a){if(function ul(i){return yu.test(i)||Ma.test(i)||Aa.test(i)&&!xa.test(i)}(s.toString()))return null;if(s.parameters&&s.parameters!==a.parameters)return s.parameters;const c=s.ctorParameters;if(c&&c!==a.ctorParameters){const I="function"==typeof c?c():c,w=I.map(O=>O&&O.type),x=I.map(O=>O&&Vd(O.decorators));return this._zipTypesAndAnnotations(w,x)}const p=s.hasOwnProperty(mi)&&s[mi],v=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",s);return v||p?this._zipTypesAndAnnotations(v,p):Eo(s.length)}parameters(s){if(!fu(s))return[];const a=Ra(s);let u=this._ownParameters(s,a);return!u&&a!==Object&&(u=this.parameters(a)),u||[]}_ownAnnotations(s,a){if(s.annotations&&s.annotations!==a.annotations){let u=s.annotations;return"function"==typeof u&&u.annotations&&(u=u.annotations),u}return s.decorators&&s.decorators!==a.decorators?Vd(s.decorators):s.hasOwnProperty(Ks)?s[Ks]:null}annotations(s){if(!fu(s))return[];const a=Ra(s),u=this._ownAnnotations(s,a)||[];return(a!==Object?this.annotations(a):[]).concat(u)}_ownPropMetadata(s,a){if(s.propMetadata&&s.propMetadata!==a.propMetadata){let u=s.propMetadata;return"function"==typeof u&&u.propMetadata&&(u=u.propMetadata),u}if(s.propDecorators&&s.propDecorators!==a.propDecorators){const u=s.propDecorators,c={};return Object.keys(u).forEach(p=>{c[p]=Vd(u[p])}),c}return s.hasOwnProperty(Zs)?s[Zs]:null}propMetadata(s){if(!fu(s))return{};const a=Ra(s),u={};if(a!==Object){const p=this.propMetadata(a);Object.keys(p).forEach(v=>{u[v]=p[v]})}const c=this._ownPropMetadata(s,a);return c&&Object.keys(c).forEach(p=>{const v=[];u.hasOwnProperty(p)&&v.push(...u[p]),v.push(...c[p]),u[p]=v}),u}ownPropMetadata(s){return fu(s)&&this._ownPropMetadata(s,Ra(s))||{}}hasLifecycleHook(s,a){return s instanceof lc&&a in s.prototype}}function Vd(i){return i?i.map(s=>new(0,s.type.annotationCls)(...s.args?s.args:[])):[]}function Ra(i){const s=i.prototype?Object.getPrototypeOf(i.prototype):null;return(s?s.constructor:null)||Object}const Ai={},bo="__NG_DI_FLAG__",Xo="ngTempTokenPath",Js=/\n/gm,Ts="__source";let cl;function Do(i){const s=cl;return cl=i,s}function hc(i,s=mt.Default){if(void 0===cl)throw new se(-203,!1);return null===cl?Di(i,void 0,s):cl.get(i,s&mt.Optional?null:void 0,s)}function Wn(i,s=mt.Default){return(function $n(){return xr}()||hc)(J(i),s)}function fc(i){throw new se(202,!1)}function jd(i,s=mt.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),Wn(i,s)}function b(i){const s=[];for(let a=0;a<i.length;a++){const u=J(i[a]);if(Array.isArray(u)){if(0===u.length)throw new se(900,!1);let c,p=mt.Default;for(let v=0;v<u.length;v++){const I=u[v],w=R(I);"number"==typeof w?-1===w?c=I.token:p|=w:c=I}s.push(Wn(c,p))}else s.push(Wn(u))}return s}function A(i,s){return i[bo]=s,i.prototype[bo]=s,i}function R(i){return i[bo]}const fe=A(Io("Inject",i=>({token:i})),-1),ke=A(Io("Optional"),8),Qe=A(Io("Self"),2),pt=A(Io("SkipSelf"),4),At=A(Io("Host"),1);let kt=null;function gt(){return kt=kt||new ll}function Gn(i){return vi(gt().parameters(i))}function vi(i){return i.map(s=>function vu(i){const s={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(i)&&i.length>0)for(let a=0;a<i.length;a++){const u=i[a];if(void 0===u)continue;const c=Object.getPrototypeOf(u);if(u instanceof ke||"Optional"===c.ngMetadataName)s.optional=!0;else if(u instanceof pt||"SkipSelf"===c.ngMetadataName)s.skipSelf=!0;else if(u instanceof Qe||"Self"===c.ngMetadataName)s.self=!0;else if(u instanceof At||"Host"===c.ngMetadataName)s.host=!0;else if(u instanceof fe)s.token=u.token;else if(u instanceof yi){if(void 0===u.attributeName)throw new se(204,!1);s.attribute=u.attributeName}else s.token=u}else s.token=void 0===i||Array.isArray(i)&&0===i.length?null:i;return s}(s))}function ea(i){const s=[],a=new Map;function u(c){let p=a.get(c);if(!p){const v=i(c);a.set(c,p=v.then(zy))}return p}return xi.forEach((c,p)=>{const v=[];c.templateUrl&&v.push(u(c.templateUrl).then(j=>{c.template=j}));const I=c.styleUrls,w=c.styles||(c.styles=[]),x=c.styles.length;I&&I.forEach((j,Y)=>{w.push(""),v.push(u(j).then(ae=>{w[x+Y]=ae,I.splice(I.indexOf(j),1),0==I.length&&(c.styleUrls=void 0)}))});const O=Promise.all(v).then(()=>function Wy(i){ta.delete(i)}(p));s.push(O)}),Ss(),Promise.all(s).then(()=>{})}let xi=new Map;const ta=new Set;function To(i){return!!(i.templateUrl&&!i.hasOwnProperty("template")||i.styleUrls&&i.styleUrls.length)}function Ss(){const i=xi;return xi=new Map,i}function zy(i){return"string"==typeof i?i:i.text()}const An=new Map;let Bd,gf,mf,fg=!0;function dl(i,s){(function pc(i,s,a){if(s&&s!==a&&fg)throw new Error(`Duplicate module registered for ${i} - ${pe(s)} vs ${pe(s.name)}`)})(s,An.get(s)||null,i),An.set(s,i)}function pg(i){return An.get(i)}function Ky(i){fg=!i}function Zy(i){Bd=i}function pf(){return void 0!==Bd?Bd:typeof document<"u"?document:void 0}function $d(){if(void 0===gf&&(gf=null,Ke.trustedTypes))try{gf=Ke.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return gf}function _u(i){return $d()?.createHTML(i)||i}function hl(){if(void 0===mf&&(mf=null,Ke.trustedTypes))try{mf=Ke.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return mf}function yf(i){return hl()?.createHTML(i)||i}function vf(i){return hl()?.createScript(i)||i}function mg(i){return hl()?.createScriptURL(i)||i}class Iu{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Hd extends Iu{getTypeName(){return"HTML"}}class Yy extends Iu{getTypeName(){return"Style"}}class _f extends Iu{getTypeName(){return"Script"}}class Jy extends Iu{getTypeName(){return"URL"}}class yg extends Iu{getTypeName(){return"ResourceURL"}}function So(i){return i instanceof Iu?i.changingThisBreaksApplicationSecurity:i}function ka(i,s){const a=vg(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function vg(i){return i instanceof Iu&&i.getTypeName()||null}function _g(i){return new Hd(i)}function Ig(i){return new Yy(i)}function Eg(i){return new _f(i)}function Xy(i){return new Jy(i)}function ev(i){return new yg(i)}function wg(i){const s=new If(i);return function tv(){try{return!!(new window.DOMParser).parseFromString(_u(""),"text/html")}catch{return!1}}()?new Eu(s):s}class Eu{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(_u(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class If{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=_u(s),a;const u=this.inertDocument.createElement("body");return u.innerHTML=_u(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const a=s.attributes;for(let c=a.length-1;0<c;c--){const v=a.item(c).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&s.removeAttribute(v)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Ef=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Cg=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function gc(i){return(i=String(i)).match(Ef)||i.match(Cg)?i:"unsafe:"+i}function Rr(i){return(i=String(i)).split(",").map(s=>gc(s.trim())).join(", ")}function Zi(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function mc(...i){const s={};for(const a of i)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const bg=Zi("area,br,col,hr,img,wbr"),Qi=Zi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nv=Zi("rp,rt"),pl=mc(bg,mc(Qi,Zi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mc(nv,Zi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mc(nv,Qi)),Xs=Zi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ut=Zi("srcset"),st=mc(Xs,Ut,Zi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yc=Zi("script,style,template");class Ot{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let c=this.checkClobberedElement(a,a.nextSibling);if(c){a=c;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!pl.hasOwnProperty(a))return this.sanitizedSomething=!0,!yc.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let c=0;c<u.length;c++){const p=u.item(c),v=p.name,I=v.toLowerCase();if(!st.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let w=p.value;Xs[I]&&(w=gc(w)),Ut[I]&&(w=Rr(w)),this.buf.push(" ",v,'="',ml(w),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();pl.hasOwnProperty(a)&&!bg.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(ml(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Gd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gl=/([^\#-~ |!])/g;function ml(i){return i.replace(/&/g,"&amp;").replace(Gd,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(gl,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qd;function zd(i,s){let a=null;try{qd=qd||wg(i);let u=s?String(s):"";a=qd.getInertBodyElement(u);let c=5,p=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=p,p=a.innerHTML,a=qd.getInertBodyElement(u)}while(u!==p);return _u((new Ot).sanitizeChildren(Wd(a)||a))}finally{if(a){const u=Wd(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Wd(i){return"content"in i&&function rv(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var mr=(()=>((mr=mr||{})[mr.NONE=0]="NONE",mr[mr.HTML=1]="HTML",mr[mr.STYLE=2]="STYLE",mr[mr.SCRIPT=3]="SCRIPT",mr[mr.URL=4]="URL",mr[mr.RESOURCE_URL=5]="RESOURCE_URL",mr))();function zr(i){const s=xo();return s?yf(s.sanitize(mr.HTML,i)||""):ka(i,"HTML")?yf(So(i)):zd(pf(),de(i))}function vc(i){const s=xo();return s?s.sanitize(mr.STYLE,i)||"":ka(i,"Style")?So(i):de(i)}function tr(i){const s=xo();return s?s.sanitize(mr.URL,i)||"":ka(i,"URL")?So(i):gc(de(i))}function Ao(i){const s=xo();if(s)return mg(s.sanitize(mr.RESOURCE_URL,i)||"");if(ka(i,"ResourceURL"))return mg(So(i));throw new se(904,!1)}function wf(i){const s=xo();if(s)return vf(s.sanitize(mr.SCRIPT,i)||"");if(ka(i,"Script"))return vf(So(i));throw new se(905,!1)}function Dg(i){return _u(i[0])}function Cf(i){return function Qy(i){return $d()?.createScriptURL(i)||i}(i[0])}function Sg(i,s,a){return function Tg(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?Ao:tr}(s,a)(i)}function xo(){const i=Me();return i&&i[12]}const _c=new qt("ENVIRONMENT_INITIALIZER"),si=new qt("INJECTOR",-1),yl=new qt("INJECTOR_DEF_TYPES");class _i{get(s,a=Ai){if(a===Ai){const u=new Error(`NullInjectorError: No provider for ${pe(s)}!`);throw u.name="NullInjectorError",u}return a}}function Mi(...i){return{\u0275providers:wu(0,i)}}function wu(i,...s){const a=[],u=new Set;let c;return Ys(s,p=>{const v=p;Zd(v,a,[],u)&&(c||(c=[]),c.push(v))}),void 0!==c&&Ic(c,a),a}function Ic(i,s){for(let a=0;a<i.length;a++){const{providers:c}=i[a];Ys(c,p=>{s.push(p)})}}function Zd(i,s,a,u){if(!(i=J(i)))return!1;let c=null,p=Yr(i);const v=!p&&Ft(i);if(p||v){if(v&&!v.standalone)return!1;c=i}else{const w=i.ngModule;if(p=Yr(w),!p)return!1;c=w}const I=u.has(c);if(v){if(I)return!1;if(u.add(c),v.dependencies){const w="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const x of w)Zd(x,s,a,u)}}else{if(!p)return!1;{if(null!=p.imports&&!I){let x;u.add(c);try{Ys(p.imports,O=>{Zd(O,s,a,u)&&(x||(x=[]),x.push(O))})}finally{}void 0!==x&&Ic(x,s)}if(!I){const x=Is(c)||(()=>new c);s.push({provide:c,useFactory:x,deps:_t},{provide:yl,useValue:c,multi:!0},{provide:_c,useValue:()=>Wn(c),multi:!0})}const w=p.providers;null==w||I||Ys(w,O=>{s.push(O)})}}return c!==i&&void 0!==i.providers}const Qd=he({provide:String,useValue:he});function Ec(i){return null!==i&&"object"==typeof i&&Qd in i}function Nr(i){return"function"==typeof i}const wc=new qt("Set Injector scope."),Cc={},iv={};let bc;function Cr(){return void 0===bc&&(bc=new _i),bc}class eo{}class vl extends eo{constructor(s,a,u,c){super(),this.parent=a,this.source=u,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Af(s,v=>this.processProvider(v)),this.records.set(si,La(void 0,this)),c.has("environment")&&this.records.set(eo,La(void 0,this));const p=this.records.get(wc);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(yl.multi,_t,mt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=Do(this),u=Tn(void 0);try{return s()}finally{Do(a),Tn(u)}}get(s,a=Ai,u=mt.Default){this.assertNotDestroyed();const c=Do(this),p=Tn(void 0);try{if(!(u&mt.SkipSelf)){let I=this.records.get(s);if(void 0===I){const w=function Ii(i){return"function"==typeof i||"object"==typeof i&&i instanceof qt}(s)&&Lt(s);I=w&&this.injectableDefInScope(w)?La(Dc(s),Cc):null,this.records.set(s,I)}if(null!=I)return this.hydrate(s,I)}return(u&mt.Self?Cr():this.parent).get(s,a=u&mt.Optional&&a===Ai?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Xo]=v[Xo]||[]).unshift(pe(s)),c)throw v;return function B(i,s,a,u){const c=i[Xo];throw s[Ts]&&c.unshift(s[Ts]),i.message=function ne(i,s,a,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let c=pe(s);if(Array.isArray(s))c=s.map(pe).join(" -> ");else if("object"==typeof s){let p=[];for(let v in s)if(s.hasOwnProperty(v)){let I=s[v];p.push(v+":"+("string"==typeof I?JSON.stringify(I):pe(I)))}c=`{${p.join(", ")}}`}return`${a}${u?"("+u+")":""}[${c}]: ${i.replace(Js,"\n  ")}`}("\n"+i.message,c,a,u),i.ngTokenPath=c,i[Xo]=null,i}(v,s,"R3InjectorError",this.source)}throw v}finally{Tn(p),Do(c)}}resolveInjectorInitializers(){const s=Do(this),a=Tn(void 0);try{const u=this.get(_c.multi,_t,mt.Self);for(const c of u)c()}finally{Do(s),Tn(a)}}toString(){const s=[],a=this.records;for(const u of a.keys())s.push(pe(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new se(205,!1)}processProvider(s){let a=Nr(s=J(s))?s:J(s&&s.provide);const u=function Tc(i){return Ec(i)?La(void 0,i.useValue):La(Sc(i),Cc)}(s);if(Nr(s)||!0!==s.multi)this.records.get(a);else{let c=this.records.get(a);c||(c=La(void 0,Cc,!0),c.factory=()=>b(c.multi),this.records.set(a,c)),a=s,c.multi.push(s)}this.records.set(a,u)}hydrate(s,a){return a.value===Cc&&(a.value=iv,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Sf(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=J(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Dc(i){const s=Lt(i),a=null!==s?s.factory:Is(i);if(null!==a)return a;if(i instanceof qt)throw new se(204,!1);if(i instanceof Function)return function na(i){const s=i.length;if(s>0)throw Eo(s,"?"),new se(204,!1);const a=function Sr(i){const s=i&&(i[bi]||i[Jr]);if(s){const a=function Ar(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new se(204,!1)}function Sc(i,s,a){let u;if(Nr(i)){const c=J(i);return Is(c)||Dc(c)}if(Ec(i))u=()=>J(i.useValue);else if(function xg(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...b(i.deps||[]));else if(function Df(i){return!(!i||!i.useExisting)}(i))u=()=>Wn(J(i.useExisting));else{const c=J(i&&(i.useClass||i.provide));if(!function sv(i){return!!i.deps}(i))return Is(c)||Dc(c);u=()=>new c(...b(i.deps))}return u}function La(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Ac(i){return!!i.\u0275providers}function Af(i,s){for(const a of i)Array.isArray(a)?Af(a,s):Ac(a)?Af(a.\u0275providers,s):s(a)}class _l{}class y{}class M{resolveComponentFactory(s){throw function f(i){const s=Error(`No component factory found for ${pe(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let k=(()=>{class i{}return i.NULL=new M,i})();function X(){return me(Vn(),Me())}function me(i,s){return new He(Ln(i,s))}let He=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=X,i})();function ot(i){return i instanceof He?i.nativeElement:i}class vt{}let br=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function fs(){const i=Me(),a=gr(Vn().index,i);return(Xn(a)?a:i)[11]}(),i})(),Il=(()=>{class i{}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:()=>null}),i})();class xf{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const El=new xf("14.1.0"),Cu={},xc={name:"custom-elements"},yr={name:"no-errors-schema"};let Dr=!1;function Mc(i){Dr=i}function Rc(){return Dr}let Yd=!1;function ov(i){Yd=i}function Jd(){return Yd}const Nf="ngOriginalError";function Mg(i){return i[Nf]}class Of{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Mg(s);for(;a&&Mg(a);)a=Mg(a);return a||null}}const Pf=/^>|^->|<!--|-->|--!>|<!-$/g,OI=/(<|>)/;const dv=new Map;let pb=0;function kf(i){return dv.get(i)||null}class eh{constructor(s,a,u){this.lViewId=s,this.nodeIndex=a,this.native=u}get lView(){return kf(this.lViewId)}}function Ri(i){let s=th(i);if(s){if(Xn(s)){const a=s;let u,c,p;if(function LI(i){return i&&i.constructor&&i.constructor.\u0275cmp}(i)){if(u=Ng(a,i),-1==u)throw new Error("The provided component was not found in the application");c=i}else if(function VI(i){return i&&i.constructor&&i.constructor.\u0275dir}(i)){if(u=function pv(i,s){let a=i[1].firstChild;for(;a;){const c=a.directiveEnd;for(let p=a.directiveStart;p<c;p++)if(i[p]===s)return a.index;a=fv(a)}return-1}(a,i),-1==u)throw new Error("The provided directive was not found in the application");p=Lf(u,a,!1)}else if(u=nh(a,i),-1==u)return null;const v=Sn(a[u]),I=th(v),w=I&&!Array.isArray(I)?I:Ni(a,u,v);if(c&&void 0===w.component&&(w.component=c,oi(w.component,w)),p&&void 0===w.directives){w.directives=p;for(let x=0;x<p.length;x++)oi(p[x],w)}oi(w.native,w),s=w}}else{const a=i;let u=a;for(;u=u.parentNode;){const c=th(u);if(c){const p=Array.isArray(c)?c:c.lView;if(!p)return null;const v=nh(p,a);if(v>=0){const I=Sn(p[v]),w=Ni(p,v,I);oi(I,w),s=w;break}}}}return s||null}function Ni(i,s,a){return new eh(i[20],s,a)}function hv(i){let a,s=th(i);if(Xn(s)){const u=s,c=Ng(u,i);a=gr(c,u);const p=Ni(u,c,a[0]);p.component=i,oi(i,p),oi(p.native,p)}else a=gr(s.nodeIndex,s.lView);return a}const Oc="__ngContext__";function oi(i,s){Xn(s)?(i[Oc]=s[20],function kI(i){dv.set(i[20],i)}(s)):i[Oc]=s}function th(i){const s=i[Oc];return"number"==typeof s?kf(s):s||null}function Ff(i){const s=th(i);return s?Xn(s)?s:s.lView:null}function nh(i,s){const a=i[1];for(let u=22;u<a.bindingStartIndex;u++)if(Sn(i[u])===s)return u;return-1}function fv(i){if(i.child)return i.child;if(i.next)return i.next;for(;i.parent&&!i.parent.next;)i=i.parent;return i.parent&&i.parent.next}function Ng(i,s){const a=i[1].components;if(a)for(let u=0;u<a.length;u++){const c=a[u];if(gr(c,i)[8]===s)return c}else if(gr(22,i)[8]===s)return 22;return-1}function Lf(i,s,a){const u=s[1].data[i];let c=u.directiveStart;return 0==c?_t:(!a&&2&u.flags&&c++,s.slice(c,u.directiveEnd))}const gb=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Ke))();function Og(i){return i.ownerDocument.defaultView}function Uf(i){return i.ownerDocument}function Pg(i){return i.ownerDocument.body}function Va(i){return i instanceof Function?i():i}var Yi=(()=>((Yi=Yi||{})[Yi.Important=1]="Important",Yi[Yi.DashCase=2]="DashCase",Yi))();let Bf;function gv(i,s){return Bf(i,s)}function ra(i){const s=i[3];return ur(s)?s[3]:s}function $I(i){return function BI(i){let s=Xn(i)?i:Ff(i);for(;s&&!(256&s[2]);)s=ra(s);return s}(i)[8]}function bu(i){return $f(i[13])}function ia(i){return $f(i[4])}function $f(i){for(;null!==i&&!ur(i);)i=i[4];return i}function Du(i,s,a,u,c){if(null!=u){let p,v=!1;ur(u)?p=u:Xn(u)&&(v=!0,u=u[0]);const I=Sn(u);0===i&&null!==a?null==c?WI(s,a,I):Mo(s,a,I,c||null,!0):1===i&&null!==a?Mo(s,a,I,c||null,!0):2===i?ih(s,I,v):3===i&&s.destroyNode(I),null!=p&&function zf(i,s,a,u,c){const p=a[7];p!==Sn(a)&&Du(s,i,u,p,c);for(let I=10;I<a.length;I++){const w=a[I];Lc(w[1],w,i,s,u,p)}}(s,i,p,a,c)}}function Lg(i,s){return i.createText(s)}function nr(i,s,a){i.setValue(s,a)}function Vg(i,s){return i.createComment(function cv(i){return i.replace(Pf,s=>s.replace(OI,"\u200b$1\u200b"))}(s))}function _v(i,s,a){return i.createElement(s,a)}function GI(i,s){const a=i[9],u=a.indexOf(s),c=s[3];512&s[2]&&(s[2]&=-513,Ce(c,-1)),a.splice(u,1)}function Iv(i,s){if(i.length<=10)return;const a=10+s,u=i[a];if(u){const c=u[17];null!==c&&c!==i&&GI(c,u),s>0&&(i[a-1][4]=u[4]);const p=ol(i,10+s);!function vb(i,s){Lc(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const v=p[19];null!==v&&v.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function qI(i,s){if(!(128&s[2])){const a=s[11];a.destroyNode&&Lc(i,s,a,3,null,null),function _b(i){let s=i[13];if(!s)return Fc(i[1],i);for(;s;){let a=null;if(Xn(s))a=s[13];else{const u=s[10];u&&(a=u)}if(!a){for(;s&&!s[4]&&s!==i;)Xn(s)&&Fc(s[1],s),s=s[3];null===s&&(s=i),Xn(s)&&Fc(s[1],s),a=s&&s[4]}s=a}}(s)}}function Fc(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function zI(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const c=s[a[u]];if(!(c instanceof uu)){const p=a[u+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const I=c[p[v]],w=p[v+1];In(4,I,w);try{w.call(I)}finally{In(5,I,w)}}else{In(4,c,p);try{p.call(c)}finally{In(5,c,p)}}}}}(i,s),function wl(i,s){const a=i.cleanup,u=s[7];let c=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const v=a[p+1],I="function"==typeof v?v(s):Sn(s[v]),w=u[c=a[p+2]],x=a[p+3];"boolean"==typeof x?I.removeEventListener(a[p],w,x):x>=0?u[c=x]():u[c=-x].unsubscribe(),p+=2}else{const v=u[c=a[p+1]];a[p].call(v)}if(null!==u){for(let p=c+1;p<u.length;p++)(0,u[p])();s[7]=null}}(i,s),1===s[1].type&&s[11].destroy();const a=s[17];if(null!==a&&ur(s[3])){a!==s[3]&&GI(a,s);const u=s[19];null!==u&&u.detachView(i)}!function FI(i){dv.delete(i[20])}(s)}}function Ev(i,s,a){return wv(i,s.parent,a)}function wv(i,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[0];if(2&u.flags){const c=i.data[u.directiveStart].encapsulation;if(c===Zt.None||c===Zt.Emulated)return null}return Ln(u,a)}function Mo(i,s,a,u,c){i.insertBefore(s,a,u,c)}function WI(i,s,a){i.appendChild(s,a)}function KI(i,s,a,u,c){null!==u?Mo(i,s,a,u,c):WI(i,s,a)}function qf(i,s){return i.parentNode(s)}function Ug(i,s,a){return Cv(i,s,a)}function jg(i,s,a){return 40&i.type?Ln(i,a):null}let Bg,Cv=jg;function $g(i,s){Cv=i,Bg=s}function Hg(i,s,a,u){const c=Ev(i,u,s),p=s[11],I=Ug(u.parent||s[6],u,s);if(null!=c)if(Array.isArray(a))for(let w=0;w<a.length;w++)KI(p,c,a[w],I,!1);else KI(p,c,a,I,!1);void 0!==Bg&&Bg(p,u,s,a,c)}function Gg(i,s){if(null!==s){const a=s.type;if(3&a)return Ln(s,i);if(4&a)return rh(-1,i[s.index]);if(8&a){const u=s.child;if(null!==u)return Gg(i,u);{const c=i[s.index];return ur(c)?rh(-1,c):Sn(c)}}if(32&a)return gv(s,i)()||Sn(i[s.index]);{const u=YI(i,s);return null!==u?Array.isArray(u)?u[0]:Gg(ra(i[16]),u):Gg(i,s.next)}}return null}function YI(i,s){return null!==s?i[16][6].projection[s.projection]:null}function rh(i,s){const a=10+i+1;if(a<s.length){const u=s[a],c=u[1].firstChild;if(null!==c)return Gg(u,c)}return s[7]}function ih(i,s,a){const u=qf(i,s);u&&function ZI(i,s,a,u){i.removeChild(s,a,u)}(i,u,s,a)}function sh(i,s,a,u,c,p,v){for(;null!=a;){const I=u[a.index],w=a.type;if(v&&0===s&&(I&&oi(Sn(I),u),a.flags|=4),64!=(64&a.flags))if(8&w)sh(i,s,a.child,u,c,p,!1),Du(s,i,c,I,p);else if(32&w){const x=gv(a,u);let O;for(;O=x();)Du(s,i,c,O,p);Du(s,i,c,I,p)}else 16&w?oh(i,s,u,a,c,p):Du(s,i,c,I,p);a=v?a.projectionNext:a.next}}function Lc(i,s,a,u,c,p){sh(a,u,i.firstChild,s,c,p,!1)}function oh(i,s,a,u,c,p){const v=a[16],w=v[6].projection[u.projection];if(Array.isArray(w))for(let x=0;x<w.length;x++)Du(s,i,c,w[x],p);else sh(i,s,w,v[3],c,p,!0)}function Or(i,s,a){i.setAttribute(s,"style",a)}function qg(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function XI(i,s,a){let u=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const p=s.length;if(c+p===u||i.charCodeAt(c+p)<=32)return c}a=c+1}}const eE="ng-template";function wb(i,s,a){let u=0;for(;u<i.length;){let c=i[u++];if(a&&"class"===c){if(c=i[u],-1!==XI(c.toLowerCase(),s,0))return!0}else if(1===c){for(;u<i.length&&"string"==typeof(c=i[u++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function bv(i){return 4===i.type&&i.value!==eE}function tE(i,s,a){return s===(4!==i.type||a?i.value:eE)}function nE(i,s,a){let u=4;const c=i.attrs||[],p=function Cb(i){for(let s=0;s<i.length;s++)if(Md(i[s]))return s;return i.length}(c);let v=!1;for(let I=0;I<s.length;I++){const w=s[I];if("number"!=typeof w){if(!v)if(4&u){if(u=2|1&u,""!==w&&!tE(i,w,a)||""===w&&1===s.length){if(xs(u))return!1;v=!0}}else{const x=8&u?w:s[++I];if(8&u&&null!==i.attrs){if(!wb(i.attrs,x,a)){if(xs(u))return!1;v=!0}continue}const j=rE(8&u?"class":w,c,bv(i),a);if(-1===j){if(xs(u))return!1;v=!0;continue}if(""!==x){let Y;Y=j>p?"":c[j+1].toLowerCase();const ae=8&u?Y:null;if(ae&&-1!==XI(ae,x,0)||2&u&&x!==Y){if(xs(u))return!1;v=!0}}}}else{if(!v&&!xs(u)&&!xs(w))return!1;if(v&&xs(w))continue;v=!1,u=w|1&u}}return xs(u)||v}function xs(i){return 0==(1&i)}function rE(i,s,a,u){if(null===s)return-1;let c=0;if(u||!a){let p=!1;for(;c<s.length;){const v=s[c];if(v===i)return c;if(3===v||6===v)p=!0;else{if(1===v||2===v){let I=s[++c];for(;"string"==typeof I;)I=s[++c];continue}if(4===v)break;if(0===v){c+=4;continue}}c+=p?1:2}return-1}return function Dv(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,i)}function Ua(i,s,a=!1){for(let u=0;u<s.length;u++)if(nE(i,s[u],a))return!0;return!1}function Wf(i,s){e:for(let a=0;a<s.length;a++){const u=s[a];if(i.length===u.length){for(let c=0;c<i.length;c++)if(i[c]!==u[c])continue e;return!0}}return!1}function Tv(i,s){return i?":not("+s.trim()+")":s}function Sv(i){let s=i[0],a=1,u=2,c="",p=!1;for(;a<i.length;){let v=i[a];if("string"==typeof v)if(2&u){const I=i[++a];c+="["+v+(I.length>0?'="'+I+'"':"")+"]"}else 8&u?c+="."+v:4&u&&(c+=" "+v);else""!==c&&!xs(v)&&(s+=Tv(p,c),c=""),u=v,p=p||!xs(u);a++}return""!==c&&(s+=Tv(p,c)),s}const Pt={};function Kf(i){oE(St(),Me(),Un()+i,!1)}function oE(i,s,a,u){if(!u)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&Ad(s,p,a)}else{const p=i.preOrderHooks;null!==p&&au(s,p,0,a)}cs(a)}const Av={\u0275\u0275defineInjectable:Wt,\u0275\u0275defineInjector:Kt,\u0275\u0275inject:Wn,\u0275\u0275invalidFactoryDep:fc,resolveForwardRef:J};const aE=he({provide:String,useValue:he});function xv(i){return void 0!==i.useClass}function Wg(i){return void 0!==i.useFactory}const lE=Ds("Injectable",void 0,void 0,void 0,(i,s)=>function Zf(i,s){let a=null,u=null;i.hasOwnProperty(bi)||Object.defineProperty(i,bi,{get:()=>(null===a&&(a=wr().compileInjectable(Av,`ng:///${i.name}/\u0275prov.js`,function Kg(i,s){const a=s||{providedIn:null},u={name:i.name,type:i,typeArgumentCount:0,providedIn:a.providedIn};return(xv(a)||Wg(a))&&void 0!==a.deps&&(u.deps=vi(a.deps)),xv(a)?u.useClass=a.useClass:function Mv(i){return aE in i}(a)?u.useValue=a.useValue:Wg(a)?u.useFactory=a.useFactory:function uE(i){return void 0!==i.useExisting}(a)&&(u.useExisting=a.useExisting),u}(i,s))),a)}),i.hasOwnProperty(di)||Object.defineProperty(i,di,{get:()=>{if(null===u){const c=wr();u=c.compileFactory(Av,`ng:///${i.name}/\u0275fac.js`,{name:i.name,type:i,typeArgumentCount:0,deps:Gn(i),target:c.FactoryTarget.Injectable})}return u},configurable:!0})}(i,s));function Zg(i,s=null,a=null,u){const c=Cl(i,s,a,u);return c.resolveInjectorInitializers(),c}function Cl(i,s=null,a=null,u,c=new Set){const p=[a||_t,Mi(i)];return u=u||("object"==typeof i?void 0:pe(i)),new vl(p,s||Cr(),u||null,c)}let Tu=(()=>{class i{static create(a,u){if(Array.isArray(a))return Zg({name:""},u,a,"");{const c=a.name??"";return Zg({name:c},a.parent,a.providers,c)}}}return i.THROW_IF_NOT_FOUND=Ai,i.NULL=new _i,i.\u0275prov=Wt({token:i,providedIn:"any",factory:()=>Wn(si)}),i.__NG_ELEMENT_ID__=-1,i})();function Qg(i){return i.length>1?" ("+function cE(i){const s=[];for(let a=0;a<i.length;++a){if(s.indexOf(i[a])>-1)return s.push(i[a]),s;s.push(i[a])}return s}(i.slice().reverse()).map(u=>pe(u.token)).join(" -> ")+")":""}function Yg(i,s,a,u){const c=[s],p=a(c),v=u?function lv(i,s){const a=`${i} caused by: ${s instanceof Error?s.message:s}`,u=Error(a);return u[Nf]=s,u}(p,u):Error(p);return v.addKey=Jg,v.keys=c,v.injectors=[i],v.constructResolvingMessage=a,v[Nf]=u,v}function Jg(i,s){this.injectors.push(i),this.keys.push(s),this.message=this.constructResolvingMessage(this.keys)}function fE(i,s){const a=[];for(let u=0,c=s.length;u<c;u++){const p=s[u];a.push(p&&0!=p.length?p.map(pe).join(" "):"?")}return Error("Cannot resolve all parameters for '"+pe(i)+"'("+a.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+pe(i)+"' is decorated with Injectable.")}function Rv(i,s){return Error(`Cannot mix multi providers and regular providers, got: ${i} ${s}`)}class Su{constructor(s,a){if(this.token=s,this.id=a,!s)throw new se(208,!1);this.displayName=pe(this.token)}static get(s){return Nv.get(J(s))}static get numberOfKeys(){return Nv.numberOfKeys}}class Db{constructor(){this._allKeys=new Map}get(s){if(s instanceof Su)return s;if(this._allKeys.has(s))return this._allKeys.get(s);const a=new Su(s,Su.numberOfKeys);return this._allKeys.set(s,a),a}get numberOfKeys(){return this._allKeys.size}}const Nv=new Db;class Xg{constructor(s,a,u){this.key=s,this.optional=a,this.visibility=u}static fromKey(s){return new Xg(s,!1,null)}}const em=[];class pE{constructor(s,a,u){this.key=s,this.resolvedFactories=a,this.multiProvider=u,this.resolvedFactory=this.resolvedFactories[0]}}class Ov{constructor(s,a){this.factory=s,this.dependencies=a}}function Ei(i){let s,a;if(i.useClass){const u=J(i.useClass);s=gt().factory(u),a=Pr(u)}else i.useExisting?(s=u=>u,a=[Xg.fromKey(Su.get(i.useExisting))]):i.useFactory?(s=i.useFactory,a=function Be(i,s){if(s){const a=s.map(u=>[u]);return s.map(u=>lh(i,u,a))}return Pr(i)}(i.useFactory,i.deps)):(s=()=>i.useValue,a=em);return new Ov(s,a)}function uh(i){return new pE(Su.get(i.provide),[Ei(i)],i.multi||!1)}function bl(i){const u=function Pv(i,s){for(let a=0;a<i.length;a++){const u=i[a],c=s.get(u.key.id);if(c){if(u.multiProvider!==c.multiProvider)throw Rv(c,u);if(u.multiProvider)for(let p=0;p<u.resolvedFactories.length;p++)c.resolvedFactories.push(u.resolvedFactories[p]);else s.set(u.key.id,u)}else{let p;p=u.multiProvider?new pE(u.key,u.resolvedFactories.slice(),u.multiProvider):u,s.set(u.key.id,p)}}return s}(gE(i,[]).map(uh),new Map);return Array.from(u.values())}function gE(i,s){return i.forEach(a=>{if(a instanceof lc)s.push({provide:a,useClass:a});else if(a&&"object"==typeof a&&void 0!==a.provide)s.push(a);else{if(!Array.isArray(a))throw function ah(i){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${i}`)}(a);gE(a,s)}}),s}function Pr(i){const s=gt().parameters(i);if(!s)return[];if(s.some(a=>null==a))throw fE(i,s);return s.map(a=>lh(i,a,s))}function lh(i,s,a){let u=null,c=!1;if(!Array.isArray(s))return Qf(s instanceof fe?s.token:s,c,null);let p=null;for(let v=0;v<s.length;++v){const I=s[v];I instanceof lc?u=I:I instanceof fe?u=I.token:I instanceof ke?c=!0:I instanceof Qe||I instanceof pt?p=I:I instanceof qt&&(u=I)}if(u=J(u),null!=u)return Qf(u,c,p);throw fE(i,a)}function Qf(i,s,a){return new Xg(Su.get(i),s,a)}const at={};class Et{static resolve(s){return bl(s)}static resolveAndCreate(s,a){const u=Et.resolve(s);return Et.fromResolvedProviders(u,a)}static fromResolvedProviders(s,a){return new Tb(s,a)}}let Tb=(()=>{class i{constructor(a,u){this._constructionCounter=0,this._providers=a,this.parent=u||null;const c=a.length;this.keyIds=[],this.objs=[];for(let p=0;p<c;p++)this.keyIds[p]=a[p].key.id,this.objs[p]=at}get(a,u=Ai){return this._getByKey(Su.get(a),null,u)}resolveAndCreateChild(a){const u=Et.resolve(a);return this.createChildFromResolved(u)}createChildFromResolved(a){const u=new i(a);return u.parent=this,u}resolveAndInstantiate(a){return this.instantiateResolved(Et.resolve([a])[0])}instantiateResolved(a){return this._instantiateProvider(a)}getProviderAtIndex(a){if(a<0||a>=this._providers.length)throw function bb(i){return Error(`Index ${i} is out-of-bounds.`)}(a);return this._providers[a]}_new(a){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function dE(i,s){return Yg(i,s,function(a){return`Cannot instantiate cyclic dependency!${Qg(a)}`})}(this,a.key);return this._instantiateProvider(a)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(a){if(a.multiProvider){const u=[];for(let c=0;c<a.resolvedFactories.length;++c)u[c]=this._instantiate(a,a.resolvedFactories[c]);return u}return this._instantiate(a,a.resolvedFactories[0])}_instantiate(a,u){const c=u.factory;let p,v;try{p=u.dependencies.map(I=>this._getByReflectiveDependency(I))}catch(I){throw I.addKey&&I.addKey(this,a.key),I}try{v=c(...p)}catch(I){throw function hE(i,s,a,u){return Yg(i,u,function(c){const p=pe(c[0].token);return`${s.message}: Error during instantiation of ${p}!${Qg(c)}.`},s)}(this,I,0,a.key)}return v}_getByReflectiveDependency(a){return this._getByKey(a.key,a.visibility,a.optional?null:Ai)}_getByKey(a,u,c){return a===i.INJECTOR_KEY?this:u instanceof Qe?this._getByKeySelf(a,c):this._getByKeyDefault(a,c,u)}_getObjByKeyId(a){for(let u=0;u<this.keyIds.length;u++)if(this.keyIds[u]===a)return this.objs[u]===at&&(this.objs[u]=this._new(this._providers[u])),this.objs[u];return at}_throwOrNull(a,u){if(u!==Ai)return u;throw function to(i,s){return Yg(i,s,function(a){return`No provider for ${pe(a[0].token)}!${Qg(a)}`})}(this,a)}_getByKeySelf(a,u){const c=this._getObjByKeyId(a.id);return c!==at?c:this._throwOrNull(a,u)}_getByKeyDefault(a,u,c){let p;for(p=c instanceof pt?this.parent:this;p instanceof i;){const v=p,I=v._getObjByKeyId(a.id);if(I!==at)return I;p=v.parent}return null!==p?p.get(a.token,u):this._throwOrNull(a,u)}get displayName(){return`ReflectiveInjector(providers: [${function nt(i,s){const a=[];for(let u=0;u<i._providers.length;++u)a[u]=s(i.getProviderAtIndex(u));return a}(this,u=>' "'+u.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return i.INJECTOR_KEY=Su.get(Tu),i})();function Ee(i,s=mt.Default){const a=Me();return null===a?Wn(i,s):Rd(Vn(),a,J(i),s)}function Le(){throw new Error("invalid")}function Yf(i,s){return i<<17|s<<2}function sa(i){return i>>17&32767}function kv(i){return 2|i}function Au(i){return(131068&i)>>2}function tm(i,s){return-131069&i|s<<2}function vE(i){return 1|i}const dh=(()=>Promise.resolve(null))();function xn(i,s){const a=i.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const c=a[u],p=a[u+1];if(-1!==p){const v=i.data[p];Ea(c),v.contentQueries(2,s[p],p)}}}function Xi(i,s,a,u,c,p,v,I,w,x,O){const j=s.blueprint.slice();return j[0]=c,j[2]=76|u,(null!==O||i&&1024&i[2])&&(j[2]|=1024),Q(j),j[3]=j[15]=i,j[8]=a,j[10]=v||i&&i[10],j[11]=I||i&&i[11],j[12]=w||i&&i[12]||null,j[9]=x||i&&i[9]||null,j[6]=p,j[20]=function Nc(){return pb++}(),j[21]=O,j[16]=2==s.type?i[16]:j,j}function fh(i,s,a,u,c){let p=i.data[s];if(null===p)p=Fr(i,s,a,u,c),function zo(){return ie.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=u,p.attrs=c;const v=Es();p.injectorIndex=null===v?-1:v.injectorIndex}return Wi(p,!0),p}function Fr(i,s,a,u,c){const p=Us(),v=qo(),w=i.data[s]=function Gc(i,s,a,u,c,p){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,a,s,u,c);return null===i.firstChild&&(i.firstChild=w),null!==p&&(v?null==p.child&&null!==w.parent&&(p.child=w):null===p.next&&(p.next=w)),w}function ph(i,s,a,u){if(0===a)return-1;const c=s.length;for(let p=0;p<a;p++)s.push(u),i.blueprint.push(u),i.data.push(null);return c}function oa(i,s,a){Cs(s);try{const u=i.viewQuery;null!==u&&Qv(1,u,a);const c=i.template;null!==c&&um(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&xn(i,s),i.staticViewQueries&&Qv(2,i.viewQuery,a);const p=i.components;null!==p&&function hh(i,s){for(let a=0;a<s.length;a++)Pb(i,s[a])}(s,p)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,qu()}}function Zn(i,s,a,u){const c=s[2];if(128!=(128&c)){Cs(s);try{Q(s),Dd(i.bindingStartIndex),null!==a&&um(i,s,a,2,u);const v=3==(3&c);if(v){const x=i.preOrderCheckHooks;null!==x&&Ad(s,x,null)}else{const x=i.preOrderHooks;null!==x&&au(s,x,0,null),rf(s,0)}if(function AE(i){for(let s=bu(i);null!==s;s=ia(s)){if(!s[2])continue;const a=s[9];for(let u=0;u<a.length;u++){const c=a[u],p=c[3];0==(512&c[2])&&Ce(p,1),c[2]|=512}}}(s),function hm(i){for(let s=bu(i);null!==s;s=ia(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1];P(u)&&Zn(c,u,c.template,u[8])}}(s),null!==i.contentQueries&&xn(i,s),v){const x=i.contentCheckHooks;null!==x&&Ad(s,x)}else{const x=i.contentHooks;null!==x&&au(s,x,1),rf(s,1)}!function Oi(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const c=a[u];if(c<0)cs(~c);else{const p=c,v=a[++u],I=a[++u];Ia(v,p),I(2,s[p])}}}finally{cs(-1)}}(i,s);const I=i.components;null!==I&&function CE(i,s){for(let a=0;a<s.length;a++)xE(i,s[a])}(s,I);const w=i.viewQuery;if(null!==w&&Qv(2,w,u),v){const x=i.viewCheckHooks;null!==x&&Ad(s,x)}else{const x=i.viewHooks;null!==x&&au(s,x,2),rf(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,Ce(s[3],-1))}finally{qu()}}}function Bc(i,s,a,u){const c=s[10],v=D(s);try{!v&&c.begin&&c.begin(),v&&oa(i,s,u),Zn(i,s,a,u)}finally{!v&&c.end&&c.end()}}function um(i,s,a,u,c){const p=Un(),v=2&u;try{cs(-1),v&&s.length>22&&oE(i,s,22,!1),In(v?2:0,c),a(u,c)}finally{cs(p),In(v?3:1,c)}}function $v(i,s,a){if(Uo(s)){const c=s.directiveEnd;for(let p=s.directiveStart;p<c;p++){const v=i.data[p];v.contentQueries&&v.contentQueries(1,a[p],p)}}}function $c(i,s,a){!zn()||(function lm(i,s,a,u){const c=a.directiveStart,p=a.directiveEnd;i.firstCreatePass||yo(a,s),oi(u,s);const v=a.initialInputs;for(let I=c;I<p;I++){const w=i.data[I],x=hi(w);x&&Qn(s,a,w);const O=Ws(s,i,I,a);oi(O,s),null!==v&&Wc(0,I-c,O,w,0,v),x&&(gr(a.index,s)[8]=O)}}(i,s,a,Ln(a,s)),128==(128&a.flags)&&function np(i,s,a){const u=a.directiveStart,c=a.directiveEnd,p=a.index,v=function Td(){return ie.lFrame.currentDirectiveIndex}();try{cs(p);for(let I=u;I<c;I++){const w=i.data[I],x=s[I];us(I),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&Wv(w,x)}}finally{cs(-1),us(v)}}(i,s,a))}function Hv(i,s,a=Ln){const u=s.localNames;if(null!==u){let c=s.index+1;for(let p=0;p<u.length;p+=2){const v=u[p+1],I=-1===v?a(s,i):i[v];i[c++]=I}}}function Ba(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Hc(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Hc(i,s,a,u,c,p,v,I,w,x){const O=22+u,j=O+c,Y=function ep(i,s){const a=[];for(let u=0;u<s;u++)a.push(u<i?null:Pt);return a}(O,j),ae="function"==typeof x?x():x;return Y[1]={type:i,blueprint:Y,template:a,queries:null,viewQuery:I,declTNode:s,data:Y.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:w,consts:ae,incompleteFirstPass:!1}}function tp(i,s,a,u){const c=Ha(s);null===a?c.push(u):(c.push(a),i.firstCreatePass&&Yv(i).push(u,c.length-1))}function aa(i,s,a){for(let u in i)if(i.hasOwnProperty(u)){const c=i[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(s,c):a[u]=[s,c]}return a}function gh(i,s){const u=s.directiveEnd,c=i.data,p=s.attrs,v=[];let I=null,w=null;for(let x=s.directiveStart;x<u;x++){const O=c[x],j=O.inputs,Y=null===p||bv(s)?null:Ob(j,p);v.push(Y),I=aa(j,x,I),w=aa(O.outputs,x,w)}null!==I&&(I.hasOwnProperty("class")&&(s.flags|=16),I.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=v,s.inputs=I,s.outputs=w}function Rs(i,s,a,u,c,p,v,I){const w=Ln(s,a);let O,x=s.inputs;!I&&null!=x&&(O=x[u])?(sp(i,a,O,u,c),Ui(s)&&qc(a,s.index)):3&s.type&&(u=function Sl(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),c=null!=v?v(c,s.value||"",u):c,p.setProperty(w,u,c))}function qc(i,s){const a=gr(s,i);16&a[2]||(a[2]|=32)}function zc(i,s,a,u){let c=!1;if(zn()){const p=function Nb(i,s,a){const u=i.directiveRegistry;let c=null;if(u)for(let p=0;p<u.length;p++){const v=u[p];Ua(a,v.selectors,!1)&&(c||(c=[]),Ju(yo(a,s),i,v.type),hi(v)?(DE(i,a),c.unshift(v)):c.push(v))}return c}(i,s,a),v=null===u?null:{"":-1};if(null!==p){c=!0,wi(a,i.data.length,p.length);for(let O=0;O<p.length;O++){const j=p[O];j.providersResolver&&j.providersResolver(j)}let I=!1,w=!1,x=ph(i,s,p.length,null);for(let O=0;O<p.length;O++){const j=p[O];a.mergedAttrs=ba(a.mergedAttrs,j.hostAttrs),Kv(i,a,s,x,j),SE(x,j,v),null!==j.contentQueries&&(a.flags|=8),(null!==j.hostBindings||null!==j.hostAttrs||0!==j.hostVars)&&(a.flags|=128);const Y=j.type.prototype;!I&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),I=!0),!w&&(Y.ngOnChanges||Y.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),w=!0),x++}gh(i,a)}v&&function TE(i,s,a){if(s){const u=i.localNames=[];for(let c=0;c<s.length;c+=2){const p=a[s[c+1]];if(null==p)throw new se(-301,!1);u.push(s[c],p)}}}(a,u,v)}return a.mergedAttrs=ba(a.mergedAttrs,a.attrs),c}function zv(i,s,a,u,c,p){const v=p.hostBindings;if(v){let I=i.hostBindingOpCodes;null===I&&(I=i.hostBindingOpCodes=[]);const w=~s.index;(function bE(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(I)!=w&&I.push(w),I.push(u,c,v)}}function Wv(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function DE(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function SE(i,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=i;hi(s)&&(a[""]=i)}}function wi(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function Kv(i,s,a,u,c){i.data[u]=c;const p=c.factory||(c.factory=Is(c.type)),v=new uu(p,hi(c),Ee);i.blueprint[u]=v,a[u]=v,zv(i,s,0,u,ph(i,a,c.hostVars,Pt),c)}function Qn(i,s,a){const u=Ln(s,i),c=Ba(a),p=i[10],v=fm(i,Xi(i,c,null,a.onPush?32:16,u,s,p,p.createRenderer(u,a),null,null,null));i[s.index]=v}function $a(i,s,a,u,c,p){const v=Ln(i,s);cm(s[11],v,p,i.value,a,u,c)}function cm(i,s,a,u,c,p,v){if(null==p)i.removeAttribute(s,c,a);else{const I=null==v?de(p):v(p,u||"",c);i.setAttribute(s,c,I,a)}}function Wc(i,s,a,u,c,p){const v=p[s];if(null!==v){const I=u.setInput;for(let w=0;w<v.length;){const x=v[w++],O=v[w++],j=v[w++];null!==I?u.setInput(a,j,x,O):a[O]=j}}}function Ob(i,s){let a=null,u=0;for(;u<s.length;){const c=s[u];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[u+1])),u+=2}else u+=2;else u+=4}return a}function rp(i,s,a,u){return new Array(i,!0,!1,s,null,0,u,a,null,null)}function xE(i,s){const a=gr(s,i);if(P(a)){const u=a[1];48&a[2]?Zn(u,a,u.template,a[8]):a[5]>0&&ui(a)}}function ui(i){for(let u=bu(i);null!==u;u=ia(u))for(let c=10;c<u.length;c++){const p=u[c];if(512&p[2]){const v=p[1];Zn(v,p,v.template,p[8])}else p[5]>0&&ui(p)}const a=i[1].components;if(null!==a)for(let u=0;u<a.length;u++){const c=gr(a[u],i);P(c)&&c[5]>0&&ui(c)}}function Pb(i,s){const a=gr(s,i),u=a[1];(function kb(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(u,a),oa(u,a,a[8])}function fm(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function pm(i){for(;i;){i[2]|=32;const s=ra(i);if(Hn(i)&&!s)return i;i=s}return null}function ME(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],u=Ff(a);if(null!==u){const c=u[1];Bc(c,u,c.template,a)}}}function Zv(i,s,a){const u=s[10];u.begin&&u.begin();try{Zn(i,s,i.template,a)}catch(c){throw OE(s,c),c}finally{u.end&&u.end()}}function Qv(i,s,a){Ea(0),s(i,a)}const NE=dh;function Ha(i){return i[7]||(i[7]=[])}function Yv(i){return i.cleanup||(i.cleanup=[])}function Zc(i,s,a){return(null===i||hi(i))&&(a=function nu(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(a[s.index])),a[11]}function OE(i,s){const a=i[9],u=a?a.get(Of,null):null;u&&u.handleError(s)}function sp(i,s,a,u,c){for(let p=0;p<a.length;){const v=a[p++],I=a[p++],w=s[v],x=i.data[v];null!==x.setInput?x.setInput(w,c,u,I):w[I]=c}}function ua(i,s,a){const u=go(s,i);nr(i[11],u,a)}function yh(i,s,a){let u=a?i.styles:null,c=a?i.classes:null,p=0;if(null!==s)for(let v=0;v<s.length;v++){const I=s[v];"number"==typeof I?p=I:1==p?c=_e(c,I):2==p&&(u=_e(u,I+": "+s[++v]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=c:i.classesWithoutHost=c}function Ru(i,s,a,u,c=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&u.push(Sn(p)),ur(p))for(let I=10;I<p.length;I++){const w=p[I],x=w[1].firstChild;null!==x&&Ru(w[1],w,x,u)}const v=a.type;if(8&v)Ru(i,s,a.child,u);else if(32&v){const I=gv(a,s);let w;for(;w=I();)u.push(w)}else if(16&v){const I=YI(s,a);if(Array.isArray(I))u.push(...I);else{const w=ra(s[16]);Ru(w[1],w,I,u,!0)}}a=c?a.projectionNext:a.next}return u}class Pi{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Ru(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(ur(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(Iv(s,u),ol(a,u))}this._attachedToViewContainer=!1}qI(this._lView[1],this._lView)}onDestroy(s){tp(this._lView[1],this._lView,null,s)}markForCheck(){pm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Zv(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Gf(i,s){Lc(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=s}}class PE extends Pi{constructor(s){super(s),this._view=s}detectChanges(){!function RE(i){ME(i[8])}(this._view)}checkNoChanges(){}get context(){return null}}class Qc extends k{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Ft(s);return new Yc(a,this.ngModule)}}function Jv(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class e_{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,u){const c=this.injector.get(s,Cu,u);return c!==Cu||a===Cu?c:this.parentInjector.get(s,a,u)}}class Yc extends y{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function zg(i){return i.map(Sv).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Jv(this.componentDef.inputs)}get outputs(){return Jv(this.componentDef.outputs)}create(s,a,u,c){let p=(c=c||this.ngModule)instanceof eo?c:c?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new e_(s,p):s,I=v.get(vt,null);if(null===I)throw new se(407,!1);const w=v.get(Il,null),x=I.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",j=u?function Tl(i,s,a){return i.selectRootElement(s,a===Zt.ShadowDom)}(x,u,this.componentDef.encapsulation):_v(I.createRenderer(null,this.componentDef),O,function Xv(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(O)),Y=this.componentDef.onPush?288:272,ae=function Ub(i,s){return{components:[],scheduler:i||gb,clean:NE,playerHandler:s||null,flags:0}}(),Re=Hc(0,null,null,1,0,null,null,null,null,null),$e=Xi(null,Re,ae,Y,null,null,I,x,w,v,null);let tt,dt;Cs($e);try{const xt=function FE(i,s,a,u,c,p){const v=a[1];a[22]=i;const w=fh(v,22,2,"#host",null),x=w.mergedAttrs=s.hostAttrs;null!==x&&(yh(w,x,!0),null!==i&&(Gs(c,i,x),null!==w.classes&&qg(c,i,w.classes),null!==w.styles&&Or(c,i,w.styles)));const O=u.createRenderer(i,s),j=Xi(a,Ba(s),null,s.onPush?32:16,a[22],w,u,O,p||null,null,null);return v.firstCreatePass&&(Ju(yo(w,a),v,s.type),DE(v,w),wi(w,a.length,1)),fm(a,j),a[22]=j}(j,this.componentDef,$e,I,x);if(j)if(u)Gs(x,j,["ng-version",El.full]);else{const{attrs:Ve,classes:It}=function sE(i){const s=[],a=[];let u=1,c=2;for(;u<i.length;){let p=i[u];if("string"==typeof p)2===c?""!==p&&s.push(p,i[++u]):8===c&&a.push(p);else{if(!xs(c))break;c=p}u++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Ve&&Gs(x,j,Ve),It&&It.length>0&&qg(x,j,It.join(" "))}if(dt=Tt(Re,22),void 0!==a){const Ve=dt.projection=[];for(let It=0;It<this.ngContentSelectors.length;It++){const rn=a[It];Ve.push(null!=rn?Array.from(rn):null)}}tt=function gm(i,s,a,u,c){const p=a[1],v=function qv(i,s,a){const u=Vn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Kv(i,u,s,ph(i,s,1,null),a),gh(i,u));const c=Ws(s,i,u.directiveStart,u);oi(c,s);const p=Ln(u,s);return p&&oi(p,s),c}(p,a,s);if(u.components.push(v),i[8]=v,null!==c)for(const w of c)w(v,s);if(s.contentQueries){const w=Vn();s.contentQueries(1,v,w.directiveStart)}const I=Vn();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(cs(I.index),zv(a[1],I,0,I.directiveStart,I.directiveEnd,s),Wv(s,v)),v}(xt,this.componentDef,$e,ae,[LE]),oa(Re,$e,null)}finally{qu()}return new t_(this.componentType,tt,me(dt,$e),$e,dt)}}class t_ extends _l{constructor(s,a,u,c,p){super(),this.location=u,this._rootLView=c,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new PE(c),this.componentType=s}setInput(s,a){const u=this._tNode.inputs;let c;if(null!==u&&(c=u[s])){const p=this._rootLView;sp(p[1],p,c,s,a),qc(p,this._tNode.index)}}get injector(){return new Ki(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function LE(){const i=Vn();Sd(Me()[1],i)}function VE(i){return $I(i).clean}function Jc(i){return Object.getPrototypeOf(i.prototype).constructor}function Nu(i){let s=Jc(i.type),a=!0;const u=[i];for(;s;){let c;if(hi(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new se(903,!1);c=s.\u0275dir}if(c){if(a){u.push(c);const v=i;v.inputs=Ou(i.inputs),v.declaredInputs=Ou(i.declaredInputs),v.outputs=Ou(i.outputs);const I=c.hostBindings;I&&BE(i,I);const w=c.viewQuery,x=c.contentQueries;if(w&&jE(i,w),x&&vh(i,x),ye(i.inputs,c.inputs),ye(i.declaredInputs,c.declaredInputs),ye(i.outputs,c.outputs),hi(c)&&c.data.animation){const O=i.data;O.animation=(O.animation||[]).concat(c.data.animation)}}const p=c.features;if(p)for(let v=0;v<p.length;v++){const I=p[v];I&&I.ngInherit&&I(i),I===Nu&&(a=!1)}}s=Object.getPrototypeOf(s)}!function UE(i){let s=0,a=null;for(let u=i.length-1;u>=0;u--){const c=i[u];c.hostVars=s+=c.hostVars,c.hostAttrs=ba(c.hostAttrs,a=ba(a,c.hostAttrs))}}(u)}function Ou(i){return i===Yn?{}:i===_t?[]:i}function jE(i,s){const a=i.viewQuery;i.viewQuery=a?(u,c)=>{s(u,c),a(u,c)}:s}function vh(i,s){const a=i.contentQueries;i.contentQueries=a?(u,c,p)=>{s(u,c,p),a(u,c,p)}:s}function BE(i,s){const a=i.hostBindings;i.hostBindings=a?(u,c)=>{s(u,c),a(u,c)}:s}const $E=["providersResolver"],op=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function HE(i){let a,s=Jc(i.type);a=hi(i)?s.\u0275cmp:s.\u0275dir;const u=i;for(const c of $E)u[c]=a[c];if(hi(a))for(const c of op)u[c]=a[c]}let mm=null;function Mn(){if(!mm){const i=Ke.Symbol;if(i&&i.iterator)mm=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(mm=u)}}}return mm}function Al(i){return!!Xc(i)&&(Array.isArray(i)||!(i instanceof Map)&&Mn()in i)}function Xc(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function qE(i,s){const a=Al(i),u=Al(s);return a&&u?function GE(i,s,a){const u=i[Mn()](),c=s[Mn()]();for(;;){const p=u.next(),v=c.next();if(p.done&&v.done)return!0;if(p.done||v.done||!a(p.value,v.value))return!1}}(i,s,qE):!(a||!i||"object"!=typeof i&&"function"!=typeof i||u||!s||"object"!=typeof s&&"function"!=typeof s)||Object.is(i,s)}function la(i,s,a){return i[s]=a}function Ga(i,s){return i[s]}function cr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function xl(i,s,a,u){const c=cr(i,s,a);return cr(i,s+1,u)||c}function ap(i,s,a,u,c){const p=xl(i,s,a,u);return cr(i,s+2,c)||p}function ro(i,s,a,u,c,p){const v=xl(i,s,a,u);return xl(i,s+2,c,p)||v}function Ml(i,s,a,u){const c=Me();return cr(c,ws(),s)&&(St(),$a(wn(),c,i,s,a,u)),Ml}function Rl(i,s){let a=!1,u=as();for(let p=1;p<s.length;p+=2)a=cr(i,u++,s[p])||a;if(Dd(u),!a)return Pt;let c=s[0];for(let p=1;p<s.length;p+=2)c+=de(s[p])+s[p+1];return c}function _h(i,s,a,u){return cr(i,ws(),a)?s+de(a)+u:Pt}function rr(i,s,a,u,c,p){const I=xl(i,as(),a,c);return ri(2),I?s+de(a)+u+de(c)+p:Pt}function zt(i,s,a,u,c,p,v,I){const x=ap(i,as(),a,c,v);return ri(3),x?s+de(a)+u+de(c)+p+de(v)+I:Pt}function ed(i,s,a,u,c,p,v,I,w,x){const j=ro(i,as(),a,c,v,w);return ri(4),j?s+de(a)+u+de(c)+p+de(v)+I+de(w)+x:Pt}function td(i,s,a,u,c,p,v,I,w,x,O,j){const Y=as();let ae=ro(i,Y,a,c,v,w);return ae=cr(i,Y+4,O)||ae,ri(5),ae?s+de(a)+u+de(c)+p+de(v)+I+de(w)+x+de(O)+j:Pt}function io(i,s,a,u,c,p,v,I,w,x,O,j,Y,ae){const Re=as();let $e=ro(i,Re,a,c,v,w);return $e=xl(i,Re+4,O,Y)||$e,ri(6),$e?s+de(a)+u+de(c)+p+de(v)+I+de(w)+x+de(O)+j+de(Y)+ae:Pt}function Ih(i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re,$e){const tt=as();let dt=ro(i,tt,a,c,v,w);return dt=ap(i,tt+4,O,Y,Re)||dt,ri(7),dt?s+de(a)+u+de(c)+p+de(v)+I+de(w)+x+de(O)+j+de(Y)+ae+de(Re)+$e:Pt}function li(i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re,$e,tt,dt){const xt=as();let Ve=ro(i,xt,a,c,v,w);return Ve=ro(i,xt+4,O,Y,Re,tt)||Ve,ri(8),Ve?s+de(a)+u+de(c)+p+de(v)+I+de(w)+x+de(O)+j+de(Y)+ae+de(Re)+$e+de(tt)+dt:Pt}function ym(i,s,a,u,c,p){const v=Me(),I=_h(v,s,a,u);return I!==Pt&&$a(wn(),v,i,I,c,p),ym}function nd(i,s,a,u,c,p,v,I){const w=Me(),x=rr(w,s,a,u,c,p);return x!==Pt&&$a(wn(),w,i,x,v,I),nd}function vm(i,s,a,u,c,p,v,I,w,x){const O=Me(),j=zt(O,s,a,u,c,p,v,I);return j!==Pt&&$a(wn(),O,i,j,w,x),vm}function Ro(i,s,a,u,c,p,v,I,w,x,O,j){const Y=Me(),ae=ed(Y,s,a,u,c,p,v,I,w,x);return ae!==Pt&&$a(wn(),Y,i,ae,O,j),Ro}function _m(i,s,a,u,c,p,v,I,w,x,O,j,Y,ae){const Re=Me(),$e=td(Re,s,a,u,c,p,v,I,w,x,O,j);return $e!==Pt&&$a(wn(),Re,i,$e,Y,ae),_m}function rd(i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re,$e){const tt=Me(),dt=io(tt,s,a,u,c,p,v,I,w,x,O,j,Y,ae);return dt!==Pt&&$a(wn(),tt,i,dt,Re,$e),rd}function r_(i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re,$e,tt,dt){const xt=Me(),Ve=Ih(xt,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re,$e);return Ve!==Pt&&$a(wn(),xt,i,Ve,tt,dt),r_}function i_(i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re,$e,tt,dt,xt,Ve){const It=Me(),rn=li(It,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re,$e,tt,dt);return rn!==Pt&&$a(wn(),It,i,rn,xt,Ve),i_}function jt(i,s,a,u){const c=Me(),p=Rl(c,s);return p!==Pt&&$a(wn(),c,i,p,a,u),jt}function zE(i){const s=hv(i);Zv(s[1],s,i)}function up(i){!function Fb(i,s){if(0===i.flags&&i.clean==dh){let u;i.flags|=s,i.clean=new Promise(c=>u=c),i.scheduler(()=>{if(1&i.flags&&(i.flags&=-2,ME(i)),2&i.flags){i.flags&=-3;const c=i.playerHandler;c&&c.flushPlayers()}i.clean=dh,u(null)})}}(pm(hv(i))[8],1)}function Eh(i,s,a,u,c,p,v,I){const w=Me(),x=St(),O=i+22,j=x.firstCreatePass?function lp(i,s,a,u,c,p,v,I,w){const x=s.consts,O=fh(s,i,4,v||null,F(x,I));zc(s,a,O,F(x,w)),Sd(s,O);const j=O.tViews=Hc(2,O,u,c,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,x);return null!==s.queries&&(s.queries.template(s,O),j.queries=s.queries.embeddedTView(O)),O}(O,x,w,s,a,u,c,p,v):x.data[O];Wi(j,!1);const Y=w[11].createComment("");Hg(x,w,Y,j),oi(Y,w),fm(w,w[O]=rp(Y,w,Y,j)),jr(j)&&$c(x,w,j),null!=v&&Hv(w,j,I)}function cp(i,s,a,u){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=u}function s_(i){return ni(function Bs(){return ie.lFrame.contextLView}(),22+i)}function Im(i,s,a){const u=Me();return cr(u,ws(),s)&&Rs(St(),wn(),u,i,s,u[11],a,!1),Im}function Em(i,s,a,u,c){const v=c?"class":"style";sp(i,a,s.inputs[v],v,u)}function dp(i,s,a,u){const c=Me(),p=St(),v=22+i,I=c[11],w=c[v]=_v(I,s,function ic(){return ie.lFrame.currentNamespace}()),x=p.firstCreatePass?function Bb(i,s,a,u,c,p,v){const I=s.consts,x=fh(s,i,2,c,F(I,p));return zc(s,a,x,F(I,v)),null!==x.attrs&&yh(x,x.attrs,!1),null!==x.mergedAttrs&&yh(x,x.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,x),x}(v,p,c,0,s,a,u):p.data[v];Wi(x,!0);const O=x.mergedAttrs;null!==O&&Gs(I,w,O);const j=x.classes;null!==j&&qg(I,w,j);const Y=x.styles;return null!==Y&&Or(I,w,Y),64!=(64&x.flags)&&Hg(p,c,w,x),0===function En(){return ie.lFrame.elementDepthCount}()&&oi(w,c),function an(){ie.lFrame.elementDepthCount++}(),jr(x)&&($c(p,c,x),$v(p,x,c)),null!==u&&Hv(c,x),dp}function hp(){let i=Vn();qo()?js():(i=i.parent,Wi(i,!1));const s=i;!function Vt(){ie.lFrame.elementDepthCount--}();const a=St();return a.firstCreatePass&&(Sd(a,i),Uo(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function sc(i){return 0!=(16&i.flags)}(s)&&Em(a,s,Me(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function xd(i){return 0!=(32&i.flags)}(s)&&Em(a,s,Me(),s.stylesWithoutHost,!1),hp}function o_(i,s,a,u){return dp(i,s,a,u),hp(),o_}function wm(i,s,a){const u=Me(),c=St(),p=i+22,v=c.firstCreatePass?function $b(i,s,a,u,c){const p=s.consts,v=F(p,u),I=fh(s,i,8,"ng-container",v);return null!==v&&yh(I,v,!0),zc(s,a,I,F(p,c)),null!==s.queries&&s.queries.elementStart(s,I),I}(p,c,u,s,a):c.data[p];Wi(v,!0);const I=u[p]=u[11].createComment("");return Hg(c,u,I,v),oi(I,u),jr(v)&&($c(c,u,v),$v(c,v,u)),null!=a&&Hv(u,v),wm}function Nl(){let i=Vn();const s=St();return qo()?js():(i=i.parent,Wi(i,!1)),s.firstCreatePass&&(Sd(s,i),Uo(i)&&s.queries.elementEnd(i)),Nl}function Cm(i,s,a){return wm(i,s,a),Nl(),Cm}function WE(){return Me()}function Wr(i){return!!i&&"function"==typeof i.then}function bm(i){return!!i&&"function"==typeof i.subscribe}const a_=bm;function id(i,s,a,u){const c=Me(),p=St(),v=Vn();return l_(p,c,c[11],v,i,s,0,u),id}function No(i,s){const a=Vn(),u=Me(),c=St();return l_(c,u,Zc(iu(c.data),a,u),a,i,s),No}function l_(i,s,a,u,c,p,v,I){const w=jr(u),O=i.firstCreatePass&&Yv(i),j=s[8],Y=Ha(s);let ae=!0;if(3&u.type||I){const tt=Ln(u,s),dt=I?I(tt):tt,xt=Y.length,Ve=I?rn=>I(Sn(rn[u.index])):u.index;let It=null;if(!I&&w&&(It=function u_(i,s,a,u){const c=i.cleanup;if(null!=c)for(let p=0;p<c.length-1;p+=2){const v=c[p];if(v===a&&c[p+1]===u){const I=s[7],w=c[p+2];return I.length>w?I[w]:null}"string"==typeof v&&(p+=2)}return null}(i,s,c,u.index)),null!==It)(It.__ngLastListenerFn__||It).__ngNextListenerFn__=p,It.__ngLastListenerFn__=p,ae=!1;else{p=c_(u,s,j,p,!1);const rn=a.listen(dt,c,p);Y.push(p,rn),O&&O.push(c,Ve,xt,xt+1)}}else p=c_(u,s,j,p,!1);const Re=u.outputs;let $e;if(ae&&null!==Re&&($e=Re[c])){const tt=$e.length;if(tt)for(let dt=0;dt<tt;dt+=2){const sr=s[$e[dt]][$e[dt+1]].subscribe(p),hr=Y.length;Y.push(p,sr),O&&O.push(c,u.index,hr,-(hr+1))}}}function wh(i,s,a,u){try{return In(6,s,a),!1!==a(u)}catch(c){return OE(i,c),!1}finally{In(7,s,a)}}function c_(i,s,a,u,c){return function p(v){if(v===Function)return u;pm(2&i.flags?gr(i.index,s):s);let w=wh(s,a,u,v),x=p.__ngNextListenerFn__;for(;x;)w=wh(s,a,x,v)&&w,x=x.__ngNextListenerFn__;return c&&!1===w&&(v.preventDefault(),v.returnValue=!1),w}}function d_(i=1){return function ls(i){return(ie.lFrame.contextLView=function ou(i,s){for(;i>0;)s=s[15],i--;return s}(i,ie.lFrame.contextLView))[8]}(i)}function KE(i,s){let a=null;const u=function iE(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let c=0;c<s.length;c++){const p=s[c];if("*"!==p){if(null===u?Ua(i,p,!0):Wf(u,p))return c}else a=c}return a}function ZE(i){const s=Me()[16][6];if(!s.projection){const u=s.projection=Eo(i?i.length:1,null),c=u.slice();let p=s.child;for(;null!==p;){const v=i?KE(p,i):0;null!==v&&(c[v]?c[v].projectionNext=p:u[v]=p,c[v]=p),p=p.next}}}function QE(i,s=0,a){const u=Me(),c=St(),p=fh(c,22+i,16,null,a||null);null===p.projection&&(p.projection=s),js(),64!=(64&p.flags)&&function JI(i,s,a){oh(s[11],0,s,a,Ev(i,a,s),Ug(a.parent||s[6],a,s))}(c,u,p)}function sd(i,s,a){return Ch(i,"",s,"",a),sd}function Ch(i,s,a,u,c){const p=Me(),v=_h(p,s,a,u);return v!==Pt&&Rs(St(),wn(),p,i,v,p[11],c,!1),Ch}function h_(i,s,a,u,c,p,v){const I=Me(),w=rr(I,s,a,u,c,p);return w!==Pt&&Rs(St(),wn(),I,i,w,I[11],v,!1),h_}function Dm(i,s,a,u,c,p,v,I,w){const x=Me(),O=zt(x,s,a,u,c,p,v,I);return O!==Pt&&Rs(St(),wn(),x,i,O,x[11],w,!1),Dm}function Tm(i,s,a,u,c,p,v,I,w,x,O){const j=Me(),Y=ed(j,s,a,u,c,p,v,I,w,x);return Y!==Pt&&Rs(St(),wn(),j,i,Y,j[11],O,!1),Tm}function Sm(i,s,a,u,c,p,v,I,w,x,O,j,Y){const ae=Me(),Re=td(ae,s,a,u,c,p,v,I,w,x,O,j);return Re!==Pt&&Rs(St(),wn(),ae,i,Re,ae[11],Y,!1),Sm}function f_(i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re){const $e=Me(),tt=io($e,s,a,u,c,p,v,I,w,x,O,j,Y,ae);return tt!==Pt&&Rs(St(),wn(),$e,i,tt,$e[11],Re,!1),f_}function Am(i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re,$e,tt){const dt=Me(),xt=Ih(dt,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re,$e);return xt!==Pt&&Rs(St(),wn(),dt,i,xt,dt[11],tt,!1),Am}function p_(i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re,$e,tt,dt,xt){const Ve=Me(),It=li(Ve,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re,$e,tt,dt);return It!==Pt&&Rs(St(),wn(),Ve,i,It,Ve[11],xt,!1),p_}function g_(i,s,a){const u=Me(),c=Rl(u,s);return c!==Pt&&Rs(St(),wn(),u,i,c,u[11],a,!1),g_}function YE(i,s,a,u,c){const p=i[a+1],v=null===s;let I=u?sa(p):Au(p),w=!1;for(;0!==I&&(!1===w||v);){const O=i[I+1];Gb(i[I],s)&&(w=!0,i[I+1]=u?vE(O):kv(O)),I=u?sa(O):Au(O)}w&&(i[a+1]=u?kv(p):vE(p))}function Gb(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Co(i,s)>=0}const Kr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function es(i){return i.substring(Kr.key,Kr.keyEnd)}function qb(i){return i.substring(Kr.value,Kr.valueEnd)}function ca(i,s){const a=Kr.textEnd;return a===s?-1:(s=Kr.keyEnd=function zb(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,Kr.key=s,a),Dh(i,s,a))}function pp(i,s){const a=Kr.textEnd;let u=Kr.key=Dh(i,s,a);return a===u?-1:(u=Kr.keyEnd=function Wb(i,s,a){let u;for(;s<a&&(45===(u=i.charCodeAt(s))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)s++;return s}(i,u,a),u=ew(i,u,a),u=Kr.value=Dh(i,u,a),u=Kr.valueEnd=function Kb(i,s,a){let u=-1,c=-1,p=-1,v=s,I=v;for(;v<a;){const w=i.charCodeAt(v++);if(59===w)return I;34===w||39===w?I=v=tw(i,w,v,a):s===v-4&&85===p&&82===c&&76===u&&40===w?I=v=tw(i,41,v,a):w>32&&(I=v),p=c,c=u,u=-33&w}return I}(i,u,a),ew(i,u,a))}function m_(i){Kr.key=0,Kr.keyEnd=0,Kr.value=0,Kr.valueEnd=0,Kr.textEnd=i.length}function Dh(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function ew(i,s,a,u){return(s=Dh(i,s,a))<a&&s++,s}function tw(i,s,a,u){let c=-1,p=a;for(;p<u;){const v=i.charCodeAt(p++);if(v==s&&92!==c)return p;c=92==v&&92===c?0:v}throw new Error}function y_(i,s,a){return ha(i,s,a,!1),y_}function v_(i,s){return ha(i,s,null,!0),v_}function da(i){fa(xm,Zb,i,!1)}function Zb(i,s){for(let a=function XE(i){return m_(i),pp(i,Dh(i,0,Kr.textEnd))}(s);a>=0;a=pp(s,a))xm(i,es(s),qb(s))}function nw(i){fa(ii,qa,i,!0)}function qa(i,s){for(let a=function JE(i){return m_(i),ca(i,Dh(i,0,Kr.textEnd))}(s);a>=0;a=ca(s,a))ii(i,es(s),!0)}function ha(i,s,a,u){const c=Me(),p=St(),v=ri(2);p.firstUpdatePass&&rw(p,i,v,u),s!==Pt&&cr(c,v,s)&&w_(p,p.data[Un()],c,c[11],i,c[v+1]=function Mm(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=pe(So(i)))),i}(s,a),u,v)}function fa(i,s,a,u){const c=St(),p=ri(2);c.firstUpdatePass&&rw(c,null,p,u);const v=Me();if(a!==Pt&&cr(v,p,a)){const I=c.data[Un()];if(Pl(I,u)&&!__(c,p)){let w=u?I.classesWithoutHost:I.stylesWithoutHost;null!==w&&(a=_e(w,a||"")),Em(c,I,v,a,u)}else!function Ol(i,s,a,u,c,p,v,I){c===Pt&&(c=_t);let w=0,x=0,O=0<c.length?c[0]:null,j=0<p.length?p[0]:null;for(;null!==O||null!==j;){const Y=w<c.length?c[w+1]:void 0,ae=x<p.length?p[x+1]:void 0;let $e,Re=null;O===j?(w+=2,x+=2,Y!==ae&&(Re=j,$e=ae)):null===j||null!==O&&O<j?(w+=2,Re=O):(x+=2,Re=j,$e=ae),null!==Re&&w_(i,s,a,u,Re,$e,v,I),O=w<c.length?c[w]:null,j=x<p.length?p[x]:null}}(c,I,v,v[11],v[p+1],v[p+1]=function E_(i,s,a){if(null==a||""===a)return _t;const u=[],c=So(a);if(Array.isArray(c))for(let p=0;p<c.length;p++)i(u,c[p],!0);else if("object"==typeof c)for(const p in c)c.hasOwnProperty(p)&&i(u,p,c[p]);else"string"==typeof c&&s(u,c);return u}(i,s,a),u,p)}}function __(i,s){return s>=i.expandoStartIndex}function rw(i,s,a,u){const c=i.data;if(null===c[a+1]){const p=c[Un()],v=__(i,a);Pl(p,u)&&null===s&&!v&&(s=!1),s=function iw(i,s,a,u){const c=iu(i);let p=u?s.residualClasses:s.residualStyles;if(null===c)0===(u?s.classBindings:s.styleBindings)&&(a=od(a=Zr(null,i,s,a,u),s.attrs,u),p=null);else{const v=s.directiveStylingLast;if(-1===v||i[v]!==c)if(a=Zr(c,i,s,a,u),null===p){let w=function sw(i,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==Au(u))return i[sa(u)]}(i,s,u);void 0!==w&&Array.isArray(w)&&(w=Zr(null,i,s,w[1],u),w=od(w,s.attrs,u),function Qb(i,s,a,u){i[sa(a?s.classBindings:s.styleBindings)]=u}(i,s,u,w))}else p=function I_(i,s,a){let u;const c=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<c;p++)u=od(u,i[p].hostAttrs,a);return od(u,s.attrs,a)}(i,s,u)}return void 0!==p&&(u?s.residualClasses=p:s.residualStyles=p),a}(c,p,s,u),function bh(i,s,a,u,c,p){let v=p?s.classBindings:s.styleBindings,I=sa(v),w=Au(v);i[u]=a;let O,x=!1;if(Array.isArray(a)){const j=a;O=j[1],(null===O||Co(j,O)>0)&&(x=!0)}else O=a;if(c)if(0!==w){const Y=sa(i[I+1]);i[u+1]=Yf(Y,I),0!==Y&&(i[Y+1]=tm(i[Y+1],u)),i[I+1]=function Sb(i,s){return 131071&i|s<<17}(i[I+1],u)}else i[u+1]=Yf(I,0),0!==I&&(i[I+1]=tm(i[I+1],u)),I=u;else i[u+1]=Yf(w,0),0===I?I=u:i[w+1]=tm(i[w+1],u),w=u;x&&(i[u+1]=kv(i[u+1])),YE(i,O,u,!0),YE(i,O,u,!1),function Hb(i,s,a,u,c){const p=c?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&Co(p,s)>=0&&(a[u+1]=vE(a[u+1]))}(s,O,i,u,p),v=Yf(I,w),p?s.classBindings=v:s.styleBindings=v}(c,p,s,a,v,u)}}function Zr(i,s,a,u,c){let p=null;const v=a.directiveEnd;let I=a.directiveStylingLast;for(-1===I?I=a.directiveStart:I++;I<v&&(p=s[I],u=od(u,p.hostAttrs,c),p!==i);)I++;return null!==i&&(a.directiveStylingLast=I),u}function od(i,s,a){const u=a?1:2;let c=-1;if(null!==s)for(let p=0;p<s.length;p++){const v=s[p];"number"==typeof v?c=v:c===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ii(i,v,!!a||s[++p]))}return void 0===i?null:i}function xm(i,s,a){ii(i,s,So(a))}function w_(i,s,a,u,c,p,v,I){if(!(3&s.type))return;const w=i.data,x=w[I+1];gp(function yE(i){return 1==(1&i)}(x)?ow(w,s,a,c,Au(x),v):void 0)||(gp(p)||function mE(i){return 2==(2&i)}(x)&&(p=ow(w,null,a,c,I,v)),function Eb(i,s,a,u,c){if(s)c?i.addClass(a,u):i.removeClass(a,u);else{let p=-1===u.indexOf("-")?void 0:Yi.DashCase;null==c?i.removeStyle(a,u,p):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),p|=Yi.Important),i.setStyle(a,u,c,p))}}(u,v,go(Un(),a),c,p))}function ow(i,s,a,u,c,p){const v=null===s;let I;for(;c>0;){const w=i[c],x=Array.isArray(w),O=x?w[1]:w,j=null===O;let Y=a[c+1];Y===Pt&&(Y=j?_t:void 0);let ae=j?cc(Y,u):O===u?Y:void 0;if(x&&!gp(ae)&&(ae=cc(w,u)),gp(ae)&&(I=ae,v))return I;const Re=i[c+1];c=v?sa(Re):Au(Re)}if(null!==s){let w=p?s.residualClasses:s.residualStyles;null!=w&&(I=cc(w,u))}return I}function gp(i){return void 0!==i}function Pl(i,s){return 0!=(i.flags&(s?16:32))}function kl(i,s=""){const a=Me(),u=St(),c=i+22,p=u.firstCreatePass?fh(u,c,1,s,null):u.data[c],v=a[c]=Lg(a[11],s);Hg(u,a,v,p),Wi(p,!1)}function Pu(i){return Fl("",i,""),Pu}function Fl(i,s,a){const u=Me(),c=_h(u,i,s,a);return c!==Pt&&ua(u,Un(),c),Fl}function Rm(i,s,a,u,c){const p=Me(),v=rr(p,i,s,a,u,c);return v!==Pt&&ua(p,Un(),v),Rm}function mp(i,s,a,u,c,p,v){const I=Me(),w=zt(I,i,s,a,u,c,p,v);return w!==Pt&&ua(I,Un(),w),mp}function yp(i,s,a,u,c,p,v,I,w){const x=Me(),O=ed(x,i,s,a,u,c,p,v,I,w);return O!==Pt&&ua(x,Un(),O),yp}function Nm(i,s,a,u,c,p,v,I,w,x,O){const j=Me(),Y=td(j,i,s,a,u,c,p,v,I,w,x,O);return Y!==Pt&&ua(j,Un(),Y),Nm}function Om(i,s,a,u,c,p,v,I,w,x,O,j,Y){const ae=Me(),Re=io(ae,i,s,a,u,c,p,v,I,w,x,O,j,Y);return Re!==Pt&&ua(ae,Un(),Re),Om}function C_(i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re){const $e=Me(),tt=Ih($e,i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re);return tt!==Pt&&ua($e,Un(),tt),C_}function Pm(i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re,$e,tt){const dt=Me(),xt=li(dt,i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re,$e,tt);return xt!==Pt&&ua(dt,Un(),xt),Pm}function km(i){const s=Me(),a=Rl(s,i);return a!==Pt&&ua(s,Un(),a),km}function vp(i,s,a){fa(ii,qa,_h(Me(),i,s,a),!0)}function Th(i,s,a,u,c){fa(ii,qa,rr(Me(),i,s,a,u,c),!0)}function Ll(i,s,a,u,c,p,v){fa(ii,qa,zt(Me(),i,s,a,u,c,p,v),!0)}function aw(i,s,a,u,c,p,v,I,w){fa(ii,qa,ed(Me(),i,s,a,u,c,p,v,I,w),!0)}function b_(i,s,a,u,c,p,v,I,w,x,O){fa(ii,qa,td(Me(),i,s,a,u,c,p,v,I,w,x,O),!0)}function uw(i,s,a,u,c,p,v,I,w,x,O,j,Y){fa(ii,qa,io(Me(),i,s,a,u,c,p,v,I,w,x,O,j,Y),!0)}function lw(i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re){fa(ii,qa,Ih(Me(),i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re),!0)}function cw(i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re,$e,tt){fa(ii,qa,li(Me(),i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re,$e,tt),!0)}function Sh(i){fa(ii,qa,Rl(Me(),i),!0)}function Vl(i,s,a){da(_h(Me(),i,s,a))}function Ul(i,s,a,u,c){da(rr(Me(),i,s,a,u,c))}function D_(i,s,a,u,c,p,v){da(zt(Me(),i,s,a,u,c,p,v))}function dw(i,s,a,u,c,p,v,I,w){da(ed(Me(),i,s,a,u,c,p,v,I,w))}function hw(i,s,a,u,c,p,v,I,w,x,O){da(td(Me(),i,s,a,u,c,p,v,I,w,x,O))}function Fm(i,s,a,u,c,p,v,I,w,x,O,j,Y){da(io(Me(),i,s,a,u,c,p,v,I,w,x,O,j,Y))}function _p(i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re){da(Ih(Me(),i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re))}function fw(i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re,$e,tt){da(li(Me(),i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re,$e,tt))}function T_(i){da(Rl(Me(),i))}function ad(i,s,a,u,c){return ha(i,_h(Me(),s,a,u),c,!1),ad}function Ah(i,s,a,u,c,p,v){return ha(i,rr(Me(),s,a,u,c,p),v,!1),Ah}function ud(i,s,a,u,c,p,v,I,w){return ha(i,zt(Me(),s,a,u,c,p,v,I),w,!1),ud}function Lm(i,s,a,u,c,p,v,I,w,x,O){return ha(i,ed(Me(),s,a,u,c,p,v,I,w,x),O,!1),Lm}function Vm(i,s,a,u,c,p,v,I,w,x,O,j,Y){return ha(i,td(Me(),s,a,u,c,p,v,I,w,x,O,j),Y,!1),Vm}function ts(i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re){return ha(i,io(Me(),s,a,u,c,p,v,I,w,x,O,j,Y,ae),Re,!1),ts}function Um(i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re,$e,tt){return ha(i,Ih(Me(),s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re,$e),tt,!1),Um}function xh(i,s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re,$e,tt,dt,xt){return ha(i,li(Me(),s,a,u,c,p,v,I,w,x,O,j,Y,ae,Re,$e,tt,dt),xt,!1),xh}function Mh(i,s,a){return ha(i,Rl(Me(),s),a,!1),Mh}function jm(i,s,a){const u=Me();return cr(u,ws(),s)&&Rs(St(),wn(),u,i,s,u[11],a,!0),jm}function za(i,s,a){const u=Me();if(cr(u,ws(),s)){const p=St(),v=wn();Rs(p,v,u,i,s,Zc(iu(p.data),v,u),a,!0)}return za}const Oo=void 0;var ld=["en",[["a","p"],["AM","PM"],Oo],[["AM","PM"],Oo,Oo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Oo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Oo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Oo,"{1} 'at' {0}",Oo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pw(i){const a=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Rh={};function Nh(i,s,a){"string"!=typeof s&&(a=s,s=i[Ct.LocaleId]),s=s.toLowerCase().replace(/_/g,"-"),Rh[s]=i,a&&(Rh[s][Ct.ExtraData]=a)}function Bm(i){const s=function Jb(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=gw(s);if(a)return a;const u=s.split("-")[0];if(a=gw(u),a)return a;if("en"===u)return ld;throw new se(701,!1)}function jl(i){return Bm(i)[Ct.CurrencyCode]||null}function S_(i){return Bm(i)[Ct.PluralCase]}function gw(i){return i in Rh||(Rh[i]=Ke.ng&&Ke.ng.common&&Ke.ng.common.locales&&Ke.ng.common.locales[i]),Rh[i]}function Yb(){Rh={}}var Ct=(()=>((Ct=Ct||{})[Ct.LocaleId=0]="LocaleId",Ct[Ct.DayPeriodsFormat=1]="DayPeriodsFormat",Ct[Ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ct[Ct.DaysFormat=3]="DaysFormat",Ct[Ct.DaysStandalone=4]="DaysStandalone",Ct[Ct.MonthsFormat=5]="MonthsFormat",Ct[Ct.MonthsStandalone=6]="MonthsStandalone",Ct[Ct.Eras=7]="Eras",Ct[Ct.FirstDayOfWeek=8]="FirstDayOfWeek",Ct[Ct.WeekendRange=9]="WeekendRange",Ct[Ct.DateFormat=10]="DateFormat",Ct[Ct.TimeFormat=11]="TimeFormat",Ct[Ct.DateTimeFormat=12]="DateTimeFormat",Ct[Ct.NumberSymbols=13]="NumberSymbols",Ct[Ct.NumberFormats=14]="NumberFormats",Ct[Ct.CurrencyCode=15]="CurrencyCode",Ct[Ct.CurrencySymbol=16]="CurrencySymbol",Ct[Ct.CurrencyName=17]="CurrencyName",Ct[Ct.Currencies=18]="Currencies",Ct[Ct.Directionality=19]="Directionality",Ct[Ct.PluralCase=20]="PluralCase",Ct[Ct.ExtraData=21]="ExtraData",Ct))();const $m=["zero","one","two","few","many"],cd="en-US",Hm={marker:"element"},Ip={marker:"ICU"};var Bn=(()=>((Bn=Bn||{})[Bn.SHIFT=2]="SHIFT",Bn[Bn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Bn[Bn.COMMENT=2]="COMMENT",Bn))();let A_=cd;function qm(i){(function Bt(i,s){null==i&&Je(s,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(A_=i.toLowerCase().replace(/_/g,"-"))}function x_(i,s,a){const u=s.insertBeforeIndex,c=Array.isArray(u)?u[0]:u;return null===c?jg(i,0,a):Sn(a[c])}function vw(i,s,a,u,c){const p=s.insertBeforeIndex;if(Array.isArray(p)){let v=u,I=null;if(3&s.type||(I=v,v=c),null!==v&&0==(2&s.flags))for(let w=1;w<p.length;w++)Mo(i,v,a[p[w]],I,!1)}}function _w(i,s){if(i.push(s),i.length>1)for(let a=i.length-2;a>=0;a--){const u=i[a];zm(u)||Ci(u,s)&&null===eD(u)&&tD(u,s.index)}}function zm(i){return!(64&i.type)}function Ci(i,s){return zm(s)||i.index>s.index}function eD(i){const s=i.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function tD(i,s){const a=i.insertBeforeIndex;Array.isArray(a)?a[0]=s:($g(x_,vw),i.insertBeforeIndex=s)}function Ep(i,s){const a=i.data[s];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function rD(i,s,a){const u=Fr(i,a,64,null,null);return _w(s,u),u}function dd(i,s){const a=s[i.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function Ew(i){return i>>>17}function M_(i){return(131070&i)>>>1}let ku=0,Bl=0;function Cw(i,s,a,u){const c=a[11];let v,p=null;for(let I=0;I<s.length;I++){const w=s[I];if("string"==typeof w){const x=s[++I];null===a[x]&&(a[x]=Lg(c,w))}else if("number"==typeof w)switch(1&w){case 0:const x=Ew(w);let O,j;if(null===p&&(p=x,v=qf(c,u)),x===p?(O=u,j=v):(O=null,j=Sn(a[x])),null!==j){const $e=M_(w);Mo(c,j,a[$e],O,!1);const dt=Ep(i,$e);if(null!==dt&&"object"==typeof dt){const xt=dd(dt,a);null!==xt&&Cw(i,dt.create[xt],a,a[dt.anchorIdx])}}break;case 1:const ae=s[++I],Re=s[++I];cm(c,go(w>>>1,a),null,null,ae,Re,null)}else switch(w){case Ip:const x=s[++I],O=s[++I];null===a[O]&&oi(a[O]=Vg(c,x),a);break;case Hm:const j=s[++I],Y=s[++I];null===a[Y]&&oi(a[Y]=_v(c,j,null),a)}}}function P_(i,s,a,u,c){for(let p=0;p<a.length;p++){const v=a[p],I=a[++p];if(v&c){let w="";for(let x=p+1;x<=p+I;x++){const O=a[x];if("string"==typeof O)w+=O;else if("number"==typeof O)if(O<0)w+=de(s[u-O]);else{const j=O>>>2;switch(3&O){case 1:const Y=a[++x],ae=a[++x],Re=i.data[j];"string"==typeof Re?cm(s[11],s[j],null,Re,Y,w,ae):Rs(i,Re,s,Y,w,s[11],ae,!1);break;case 0:const $e=s[j];null!==$e&&nr(s[11],$e,w);break;case 2:F_(i,Ep(i,j),s,w);break;case 3:k_(i,Ep(i,j),u,s)}}}}else{const w=a[p+1];if(w>0&&3==(3&w)){const O=Ep(i,w>>>2);s[O.currentCaseLViewIndex]<0&&k_(i,O,u,s)}}p+=I}}function k_(i,s,a,u){let c=u[s.currentCaseLViewIndex];if(null!==c){let p=ku;c<0&&(c=u[s.currentCaseLViewIndex]=~c,p=-1),P_(i,u,s.update[c],a,p)}}function F_(i,s,a,u){const c=function Dw(i,s){let a=i.cases.indexOf(s);if(-1===a)switch(i.type){case 1:{const u=function mw(i,s){const a=S_(s)(parseInt(i,10)),u=$m[a];return void 0!==u?u:"other"}(s,function Xb(){return A_}());a=i.cases.indexOf(u),-1===a&&"other"!==u&&(a=i.cases.indexOf("other"));break}case 0:a=i.cases.indexOf("other")}return-1===a?null:a}(s,u);if(dd(s,a)!==c&&(bw(i,s,a),a[s.currentCaseLViewIndex]=null===c?null:~c,null!==c)){const v=a[s.anchorIdx];v&&Cw(i,s.create[c],a,v)}}function bw(i,s,a){let u=dd(s,a);if(null!==u){const c=s.remove[u];for(let p=0;p<c.length;p++){const v=c[p];if(v>0){const I=go(v,a);null!==I&&ih(a[11],I)}else bw(i,Ep(i,~v),a)}}}function iD(){const i=[];let a,u,s=-1;function p(I,w){s=0;const x=dd(I,w);u=null!==x?I.remove[x]:_t}function v(){if(s<u.length){const I=u[s++];return I>0?a[I]:(i.push(s,u),p(a[1].data[~I],a),v())}return 0===i.length?null:(u=i.pop(),s=i.pop(),v())}return function c(I,w){for(a=w;i.length;)i.pop();return p(I.value,w),v}}const hd=/\ufffd(\d+):?\d*\ufffd/gi,Tw=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Sw=/\ufffd(\d+)\ufffd/,L_=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,V_=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,oD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,U_=/\uE500/g;function Zm(i,s,a,u,c,p,v){const I=ph(i,u,1,null);let w=I<<Bn.SHIFT,x=Es();s===x&&(x=null),null===x&&(w|=Bn.APPEND_EAGERLY),v&&(w|=Bn.COMMENT,function mv(i){void 0===Bf&&(Bf=i())}(iD)),c.push(w,null===p?"":p);const O=Fr(i,I,v?32:1,null===p?"":p,null);_w(a,O);const j=O.index;return Wi(O,!1),null!==x&&s!==x&&function Iw(i,s){let a=i.insertBeforeIndex;null===a?($g(x_,vw),a=i.insertBeforeIndex=[null,s]):(function Se(i,s,a){i!=s&&Je(a,i,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(x,j),O}function Qm(i,s,a,u,c,p,v){const I=v.match(hd),w=Zm(i,s,a,p,u,I?null:v,!1);I&&Fu(c,v,w.index,null,0,null)}function Fu(i,s,a,u,c,p){const v=i.length,I=v+1;i.push(null,null);const w=v+2,x=s.split(hd);let O=0;for(let j=0;j<x.length;j++){const Y=x[j];if(1&j){const ae=c+parseInt(Y,10);i.push(-1-ae),O|=Ym(ae)}else""!==Y&&i.push(Y)}return i.push(a<<2|(u?1:0)),u&&i.push(u,p),i[v]=O,i[I]=i.length-w,O}function j_(i){let s=0;for(let a=0;a<i.length;a++){const u=i[a];"number"==typeof u&&u<0&&s++}return s}function Ym(i){return 1<<Math.min(i,31)}function $_(i){let s,p,a="",u=0,c=!1;for(;null!==(s=V_.exec(i));)c?s[0]===`\ufffd/*${p}\ufffd`&&(u=s.index,c=!1):(a+=i.substring(u,s.index+s[0].length),p=s[1],c=!0);return a+=i.slice(u),a}function H_(i,s,a,u,c,p){let v=0;const I={type:c.type,currentCaseLViewIndex:ph(i,s,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function z_(i,s,a){i.push(Ym(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,c,p),function nD(i,s,a){const u=i.data[s];null===u?i.data[s]=a:u.value=a}(i,p,I);const w=c.values;for(let x=0;x<w.length;x++){const O=w[x],j=[];for(let Y=0;Y<O.length;Y++){const ae=O[Y];if("string"!=typeof ae){const Re=j.push(ae)-1;O[Y]=`\x3c!--\ufffd${Re}\ufffd--\x3e`}}v=lD(i,I,s,a,u,c.cases[x],O.join(""),j)|v}v&&function Mw(i,s,a){i.push(s,1,a<<2|3)}(a,v,p)}function uD(i){const s=[],a=[];let u=1,c=0;const p=G_(i=i.replace(L_,function(v,I,w){return u="select"===w?0:1,c=parseInt(I.slice(1),10),""}));for(let v=0;v<p.length;){let I=p[v++].trim();1===u&&(I=I.replace(/\s*(?:=)?(\w+)\s*/,"$1")),I.length&&s.push(I);const w=G_(p[v++]);s.length>a.length&&a.push(w)}return{type:u,mainBinding:c,cases:s,values:a}}function G_(i){if(!i)return[];let s=0;const a=[],u=[],c=/[{}]/g;let p;for(c.lastIndex=0;p=c.exec(i);){const I=p.index;if("}"==p[0]){if(a.pop(),0==a.length){const w=i.substring(s,I);L_.test(w)?u.push(uD(w)):u.push(w),s=I+1}}else{if(0==a.length){const w=i.substring(s,I);u.push(w),s=I+1}a.push("{")}}const v=i.substring(s);return u.push(v),u}function lD(i,s,a,u,c,p,v,I){const w=[],x=[],O=[];s.cases.push(p),s.create.push(w),s.remove.push(x),s.update.push(O);const Y=wg(pf()).getInertBodyElement(v),ae=Wd(Y)||Y;return ae?q_(i,s,a,u,w,x,O,ae,c,I,0):0}function q_(i,s,a,u,c,p,v,I,w,x,O){let j=0,Y=I.firstChild;for(;Y;){const ae=ph(i,a,1,null);switch(Y.nodeType){case Node.ELEMENT_NODE:const Re=Y,$e=Re.tagName.toLowerCase();if(pl.hasOwnProperty($e)){W_(c,Hm,$e,w,ae),i.data[ae]=$e;const Ve=Re.attributes;for(let It=0;It<Ve.length;It++){const rn=Ve.item(It),sr=rn.name.toLowerCase();rn.value.match(hd)?st.hasOwnProperty(sr)&&Fu(v,rn.value,ae,rn.name,0,Xs[sr]?gc:Ut[sr]?Rr:null):cD(c,ae,rn)}j=q_(i,s,a,u,c,p,v,Y,ae,x,O+1)|j,Tp(p,ae,O)}break;case Node.TEXT_NODE:const tt=Y.textContent||"",dt=tt.match(hd);W_(c,null,dt?"":tt,w,ae),Tp(p,ae,O),dt&&(j=Fu(v,tt,ae,null,0,null)|j);break;case Node.COMMENT_NODE:const xt=Sw.exec(Y.textContent||"");if(xt){const It=x[parseInt(xt[1],10)];W_(c,Ip,"",w,ae),H_(i,a,u,w,It,ae),Sp(p,ae,O)}}Y=Y.nextSibling}return j}function Tp(i,s,a){0===a&&i.push(s)}function Sp(i,s,a){0===a&&(i.push(~s),i.push(s))}function W_(i,s,a,u,c){null!==s&&i.push(s),i.push(a,c,function R_(i,s,a){return i|s<<17|a<<1}(0,u,c))}function cD(i,s,a){i.push(s<<1|1,a.name,a.value)}const dD=/\[(\ufffd.+?\ufffd?)\]/,hD=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Ap=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,K_=/{([A-Z0-9_]+)}/g,Oh=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Z_=/\/\*/,Jm=/\d+\:(\d+)/;function Mp(i,s,a=-1){const u=St(),c=Me(),p=22+i,v=F(u.consts,s),I=Es();u.firstCreatePass&&function xw(i,s,a,u,c,p){const v=Es(),I=[],w=[],x=[[]];c=function aD(i,s){if(function B_(i){return-1===i}(s))return $_(i);{const a=i.indexOf(`:${s}\ufffd`)+2+s.toString().length,u=i.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return $_(i.substring(a,u))}}(c,p);const O=function Aw(i){return i.replace(U_," ")}(c).split(oD);for(let j=0;j<O.length;j++){let Y=O[j];if(0==(1&j)){const ae=G_(Y);for(let Re=0;Re<ae.length;Re++){let $e=ae[Re];if(0==(1&Re)){const tt=$e;""!==tt&&Qm(i,v,x[0],I,w,a,tt)}else{const tt=$e;if("object"!=typeof tt)throw new Error(`Unable to parse ICU expression in "${c}" message.`);H_(i,a,w,s,tt,Zm(i,v,x[0],a,I,"",!0).index)}}}else{const ae=47===Y.charCodeAt(0),$e=(Y.charCodeAt(ae?1:0),22+Number.parseInt(Y.substring(ae?2:1)));if(ae)x.shift(),Wi(Es(),!1);else{const tt=rD(i,x[0],$e);x.unshift([]),Wi(tt,!0)}}}i.data[u]={create:I,update:w}}(u,null===I?0:I.index,c,p,v,a);const w=u.data[p],O=wv(u,I===c[6]?null:I,c);(function ww(i,s,a,u){const c=i[11];for(let p=0;p<s.length;p++){const v=s[p++],I=s[p],w=(v&Bn.COMMENT)===Bn.COMMENT,x=(v&Bn.APPEND_EAGERLY)===Bn.APPEND_EAGERLY,O=v>>>Bn.SHIFT;let j=i[O];null===j&&(j=i[O]=w?c.createComment(I):Lg(c,I)),x&&null!==a&&Mo(c,a,j,u,!1)}})(c,w.create,O,I&&8&I.type?c[I.index]:null),ec(!0)}function Xm(){ec(!1)}function ey(i,s,a){Mp(i,s,a),Xm()}function ty(i,s){const a=St();!function Dp(i,s,a){const c=Vn().index,p=[];if(i.firstCreatePass&&null===i.data[s]){for(let v=0;v<a.length;v+=2){const I=a[v],w=a[v+1];if(""!==w){if(Tw.test(w))throw new Error(`ICU expressions are not supported in attributes. Message: "${w}".`);Fu(p,w,c,I,j_(p),null)}}i.data[s]=p}}(a,i+22,F(a.consts,s))}function Wa(i){return function N_(i){i&&(ku|=1<<Math.min(Bl,31)),Bl++}(cr(Me(),ws(),i)),Wa}function Q_(i){!function O_(i,s,a){if(Bl>0){const u=i.data[a];P_(i,s,Array.isArray(u)?u:u.update,as()-Bl-1,ku)}ku=0,Bl=0}(St(),Me(),i+22)}function Nw(i,s={}){return function xp(i,s={}){let a=i;if(dD.test(i)){const u={},c=[0];a=a.replace(hD,(p,v,I)=>{const w=v||I,x=u[w]||[];if(x.length||(w.split("|").forEach($e=>{const tt=$e.match(Jm),dt=tt?parseInt(tt[1],10):0,xt=Z_.test($e);x.push([dt,xt,$e])}),u[w]=x),!x.length)throw new Error(`i18n postprocess: unmatched placeholder - ${w}`);const O=c[c.length-1];let j=0;for(let $e=0;$e<x.length;$e++)if(x[$e][0]===O){j=$e;break}const[Y,ae,Re]=x[j];return ae?c.pop():O!==Y&&c.push(Y),x.splice(j,1),Re})}return Object.keys(s).length&&(a=a.replace(Ap,(u,c,p,v,I,w)=>s.hasOwnProperty(p)?`${c}${s[p]}${w}`:u),a=a.replace(K_,(u,c)=>s.hasOwnProperty(c)?s[c]:u),a=a.replace(Oh,(u,c)=>{if(s.hasOwnProperty(c)){const p=s[c];if(!p.length)throw new Error(`i18n postprocess: unmatched ICU - ${u} with key: ${c}`);return p.shift()}return u})),a}(i,s)}function J_(i,s,a,u,c){if(i=J(i),Array.isArray(i))for(let p=0;p<i.length;p++)J_(i[p],s,a,u,c);else{const p=St(),v=Me();let I=Nr(i)?i:J(i.provide),w=Sc(i);const x=Vn(),O=1048575&x.providerIndexes,j=x.directiveStart,Y=x.providerIndexes>>20;if(Nr(i)||!i.multi){const ae=new uu(w,c,Ee),Re=Np(I,s,c?O:O+Y,j);-1===Re?(Ju(yo(x,v),p,I),Rp(p,i,s.length),s.push(I),x.directiveStart++,x.directiveEnd++,c&&(x.providerIndexes+=1048576),a.push(ae),v.push(ae)):(a[Re]=ae,v[Re]=ae)}else{const ae=Np(I,s,O+Y,j),Re=Np(I,s,O,O+Y),$e=ae>=0&&a[ae],tt=Re>=0&&a[Re];if(c&&!tt||!c&&!$e){Ju(yo(x,v),p,I);const dt=function Ph(i,s,a,u,c){const p=new uu(i,a,Ee);return p.multi=[],p.index=s,p.componentProviders=0,Ow(p,c,u&&!a),p}(c?X_:ny,a.length,c,u,w);!c&&tt&&(a[Re].providerFactory=dt),Rp(p,i,s.length,0),s.push(I),x.directiveStart++,x.directiveEnd++,c&&(x.providerIndexes+=1048576),a.push(dt),v.push(dt)}else Rp(p,i,ae>-1?ae:Re,Ow(a[c?Re:ae],w,!c&&u));!c&&u&&tt&&a[Re].componentProviders++}}}function Rp(i,s,a,u){const c=Nr(s),p=function Tf(i){return!!i.useClass}(s);if(c||p){const w=(p?J(s.useClass):s).prototype.ngOnDestroy;if(w){const x=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const O=x.indexOf(a);-1===O?x.push(a,[u,w]):x[O+1].push(u,w)}else x.push(a,w)}}}function Ow(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Np(i,s,a,u){for(let c=a;c<u;c++)if(s[c]===i)return c;return-1}function ny(i,s,a,u){return ry(this.multi,[])}function X_(i,s,a,u){const c=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,I=Ws(a,a[1],this.providerFactory.index,u);p=I.slice(0,v),ry(c,p);for(let w=v;w<I.length;w++)p.push(I[w])}else p=[],ry(c,p);return p}function ry(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function iy(i,s=[]){return a=>{a.providersResolver=(u,c)=>function Y_(i,s,a){const u=St();if(u.firstCreatePass){const c=hi(i);J_(a,u.data,u.blueprint,c,!0),J_(s,u.data,u.blueprint,c,!1)}}(u,c?c(i):i,s)}}class kh{}class Pw{}function e0(i,s){return new t0(i,s??null)}const kw=e0;class t0 extends kh{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qc(this);const u=Mr(s);this._bootstrapComponents=Va(u.bootstrap),this._r3Injector=Cl(s,a,[{provide:kh,useValue:this},{provide:k,useValue:this.componentFactoryResolver}],pe(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Fh extends Pw{constructor(s){super(),this.moduleType=s}create(s){return new t0(this.moduleType,s)}}class fD extends kh{constructor(s,a,u){super(),this.componentFactoryResolver=new Qc(this),this.instance=null;const c=new vl([...s,{provide:kh,useValue:this},{provide:k,useValue:this.componentFactoryResolver}],a||Cr(),u,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Op(i,s,a=null){return new fD(i,s,a).injector}let pD=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const u=wu(0,a.type),c=u.length>0?Op([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,c)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Wt({token:i,providedIn:"environment",factory:()=>new i(Wn(eo))}),i})();function sy(i){i.getStandaloneInjector=s=>s.get(pD).getOrCreateStandaloneInjector(i)}function n0(i){const s=Ri(i);if(null===s)return null;if(void 0===s.component){const a=s.lView;if(null===a)return null;s.component=function Vf(i,s){const a=s[1].data[i];return 2&a.flags?s[a.directiveStart]:null}(s.nodeIndex,a)}return s.component}function oy(i){!function u0(i){if(typeof Element<"u"&&!(i instanceof Element))throw new Error("Expecting instance of DOM Element")}(i);const s=Ri(i),a=s?s.lView:null;return null===a?null:a[8]}function r0(i){const s=Ri(i);let u,a=s?s.lView:null;if(null===a)return null;for(;2===a[1].type&&(u=ra(a));)a=u;return 256&a[2]?null:a[8]}function ay(i){const s=Ff(i);return null!==s?[...$I(s).components]:[]}function uy(i){const s=Ri(i),a=s?s.lView:null;return null===a?Tu.NULL:new Ki(a[1].data[s.nodeIndex],a)}function fd(i){if(i instanceof Text)return[];const s=Ri(i),a=s?s.lView:null;if(null===a)return[];const c=s.nodeIndex;return a[1]?.data[c]?(void 0===s.directives&&(s.directives=Lf(c,a,!1)),null===s.directives?[]:[...s.directives]):[]}function $l(i){const{constructor:s}=i;if(!s)throw new Error("Unable to find the instance constructor");const a=Ft(s);if(a)return{inputs:a.inputs,outputs:a.outputs,encapsulation:a.encapsulation,changeDetection:a.onPush?qn.OnPush:qn.Default};const u=Pn(s);return u?{inputs:u.inputs,outputs:u.outputs}:null}function Hl(i){return Ri(i).native}function a0(i){const s=Ri(i),a=null===s?null:s.lView;if(null===a)return[];const c=a[7],p=a[1].cleanup,v=[];if(p&&c)for(let I=0;I<p.length;){const w=p[I++],x=p[I++];if("string"==typeof w){const O=w,j=Sn(a[x]),Y=c[p[I++]],ae=p[I++],Re="boolean"==typeof ae||ae>=0?"dom":"output",$e="boolean"==typeof ae&&ae;i==j&&v.push({element:i,name:O,callback:Y,useCapture:$e,type:Re})}}return v.sort(Lh),v}function Lh(i,s){return i.name==s.name?0:i.name<s.name?-1:1}function gD(i){return void 0!==i.type&&void 0!==i.template&&void 0!==i.declaredInputs}function ly(i,s,a,u){return On(()=>{const c=i;null!==s&&(c.hasOwnProperty("decorators")&&void 0!==c.decorators?c.decorators.push(...s):c.decorators=s),null!==a&&(c.ctorParameters=a),null!==u&&(c.propDecorators=c.hasOwnProperty("propDecorators")&&void 0!==c.propDecorators?{...c.propDecorators,...u}:u)})}function cy(i,s,a){const u=Hr()+i,c=Me();return c[u]===Pt?la(c,u,a?s.call(a):s()):Ga(c,u)}function Lw(i,s,a,u){return h0(Me(),Hr(),i,s,a,u)}function Vw(i,s,a,u,c){return Bw(Me(),Hr(),i,s,a,u,c)}function dy(i,s,a,u,c,p){return $w(Me(),Hr(),i,s,a,u,c,p)}function hy(i,s,a,u,c,p,v){return Hw(Me(),Hr(),i,s,a,u,c,p,v)}function Uw(i,s,a,u,c,p,v,I){const w=Hr()+i,x=Me(),O=ro(x,w,a,u,c,p);return cr(x,w+4,v)||O?la(x,w+5,I?s.call(I,a,u,c,p,v):s(a,u,c,p,v)):Ga(x,w+5)}function l0(i,s,a,u,c,p,v,I,w){const x=Hr()+i,O=Me(),j=ro(O,x,a,u,c,p);return xl(O,x+4,v,I)||j?la(O,x+6,w?s.call(w,a,u,c,p,v,I):s(a,u,c,p,v,I)):Ga(O,x+6)}function jw(i,s,a,u,c,p,v,I,w,x){const O=Hr()+i,j=Me();let Y=ro(j,O,a,u,c,p);return ap(j,O+4,v,I,w)||Y?la(j,O+7,x?s.call(x,a,u,c,p,v,I,w):s(a,u,c,p,v,I,w)):Ga(j,O+7)}function c0(i,s,a,u,c,p,v,I,w,x,O){const j=Hr()+i,Y=Me(),ae=ro(Y,j,a,u,c,p);return ro(Y,j+4,v,I,w,x)||ae?la(Y,j+8,O?s.call(O,a,u,c,p,v,I,w,x):s(a,u,c,p,v,I,w,x)):Ga(Y,j+8)}function d0(i,s,a,u){return Gw(Me(),Hr(),i,s,a,u)}function Vh(i,s){const a=i[s];return a===Pt?void 0:a}function h0(i,s,a,u,c,p){const v=s+a;return cr(i,v,c)?la(i,v+1,p?u.call(p,c):u(c)):Vh(i,v+1)}function Bw(i,s,a,u,c,p,v){const I=s+a;return xl(i,I,c,p)?la(i,I+2,v?u.call(v,c,p):u(c,p)):Vh(i,I+2)}function $w(i,s,a,u,c,p,v,I){const w=s+a;return ap(i,w,c,p,v)?la(i,w+3,I?u.call(I,c,p,v):u(c,p,v)):Vh(i,w+3)}function Hw(i,s,a,u,c,p,v,I,w){const x=s+a;return ro(i,x,c,p,v,I)?la(i,x+4,w?u.call(w,c,p,v,I):u(c,p,v,I)):Vh(i,x+4)}function Gw(i,s,a,u,c,p){let v=s+a,I=!1;for(let w=0;w<c.length;w++)cr(i,v++,c[w])&&(I=!0);return I?la(i,v,u.apply(p,c)):Vh(i,v)}function fy(i,s){const a=St();let u;const c=i+22;a.firstCreatePass?(u=function f0(i,s){if(s)for(let a=s.length-1;a>=0;a--){const u=s[a];if(i===u.name)return u}}(s,a.pipeRegistry),a.data[c]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(c,u.onDestroy)):u=a.data[c];const p=u.factory||(u.factory=Is(u.type)),v=Tn(Ee);try{const I=ds(!1),w=p();return ds(I),cp(a,Me(),c,w),w}finally{Tn(v)}}function zw(i,s,a){const u=i+22,c=Me(),p=ni(c,u);return pd(c,u)?h0(c,Hr(),s,p.transform,a,p):p.transform(a)}function py(i,s,a,u){const c=i+22,p=Me(),v=ni(p,c);return pd(p,c)?Bw(p,Hr(),s,v.transform,a,u,v):v.transform(a,u)}function Ww(i,s,a,u,c){const p=i+22,v=Me(),I=ni(v,p);return pd(v,p)?$w(v,Hr(),s,I.transform,a,u,c,I):I.transform(a,u,c)}function gy(i,s,a,u,c,p){const v=i+22,I=Me(),w=ni(I,v);return pd(I,v)?Hw(I,Hr(),s,w.transform,a,u,c,p,w):w.transform(a,u,c,p)}function p0(i,s,a){const u=i+22,c=Me(),p=ni(c,u);return pd(c,u)?Gw(c,Hr(),s,p.transform,a,p):p.transform.apply(p,a)}function pd(i,s){return i[1].data[s].pure}function g0(i){return s=>{setTimeout(i,void 0,s)}}const Po=class Kw extends C.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){let c=s,p=a||(()=>null),v=u;if(s&&"object"==typeof s){const w=s;c=w.next?.bind(w),p=w.error?.bind(w),v=w.complete?.bind(w)}this.__isAsync&&(p=g0(p),c&&(c=g0(c)),v&&(v=g0(v)));const I=super.subscribe({next:c,error:p,complete:v});return s instanceof d.w0&&s.add(I),I}};function mD(){return this._results[Mn()]()}class Uh{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Mn(),u=Uh.prototype;u[a]||(u[a]=mD)}get changes(){return this._changes||(this._changes=new Po)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const c=qr(s);(this._changesDetected=!function Ld(i,s,a){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let c=i[u],p=s[u];if(a&&(c=a(c),p=a(p)),p!==c)return!1}return!0}(u._results,c,a))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let kp=(()=>{class i{}return i.__NG_ELEMENT_ID__=y0,i})();const m0=kp,yD=class extends m0{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s,a){const u=this._declarationTContainer.tViews,c=Xi(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null,a||null);c[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(c[19]=v.createEmbeddedView(u)),oa(u,c,s),new Pi(c)}};function y0(){return jh(Vn(),Me())}function jh(i,s){return 4&i.type?new yD(s,i,me(i,s)):null}let Bh=(()=>{class i{}return i.__NG_ELEMENT_ID__=$h,i})();function $h(){return Ka(Vn(),Me())}const Zw=Bh,my=class extends Zw{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return me(this._hostTNode,this._hostLView)}get injector(){return new Ki(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ta(this._hostTNode,this._hostLView);if(oc(s)){const a=qs(s,this._hostLView),u=mo(s);return new Ki(a[1].data[u+8],a)}return new Ki(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Qw(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,u){let c,p;"number"==typeof u?c=u:null!=u&&(c=u.index,p=u.injector);const v=s.createEmbeddedView(a||{},p);return this.insert(v,c),v}createComponent(s,a,u,c,p){const v=s&&!fu(s);let I;if(v)I=a;else{const j=a||{};I=j.index,u=j.injector,c=j.projectableNodes,p=j.environmentInjector||j.ngModuleRef}const w=v?s:new Yc(Ft(s)),x=u||this.parentInjector;if(!p&&null==w.ngModule){const Y=(v?x:this.parentInjector).get(eo,null);Y&&(p=Y)}const O=w.create(x,c,void 0,p);return this.insert(O.hostView,I),O}insert(s,a){const u=s._lView,c=u[1];if(function T(i){return ur(i[3])}(u)){const O=this.indexOf(s);if(-1!==O)this.detach(O);else{const j=u[3],Y=new my(j,j[6],j[3]);Y.detach(Y.indexOf(s))}}const p=this._adjustIndex(a),v=this._lContainer;!function HI(i,s,a,u){const c=10+u,p=a.length;u>0&&(a[c-1][4]=s),u<p-10?(s[4]=a[c],sl(a,10+u,s)):(a.push(s),s[4]=null),s[3]=a;const v=s[17];null!==v&&a!==v&&function Ib(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(v,s);const I=s[19];null!==I&&I.insertView(i),s[2]|=64}(c,u,v,p);const I=rh(p,v),w=u[11],x=qf(w,v[7]);return null!==x&&function Hf(i,s,a,u,c,p){u[0]=c,u[6]=s,Lc(i,u,a,1,c,p)}(c,v[6],w,u,x,I),s.attachToViewContainerRef(),sl(Fp(v),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Qw(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=Iv(this._lContainer,a);u&&(ol(Fp(this._lContainer),a),qI(u[1],u))}detach(s){const a=this._adjustIndex(s,-1),u=Iv(this._lContainer,a);return u&&null!=ol(Fp(this._lContainer),a)?new Pi(u):null}_adjustIndex(s,a=0){return s??this.length+a}};function Qw(i){return i[8]}function Fp(i){return i[8]||(i[8]=[])}function Ka(i,s){let a;const u=s[i.index];if(ur(u))a=u;else{let c;if(8&i.type)c=Sn(u);else{const p=s[11];c=p.createComment("");const v=Ln(i,s);Mo(p,qf(p,v),c,function QI(i,s){return i.nextSibling(s)}(p,v),!1)}s[i.index]=a=rp(u,s,c,i),fm(s,a)}return new my(a,i,s)}class _0{constructor(s){this.queryList=s,this.matches=null}clone(){return new _0(this.queryList)}setDirty(){this.queryList.setDirty()}}class I0{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let p=0;p<u;p++){const v=a.getByIndex(p);c.push(this.queries[v.indexInDeclarationView].clone())}return new I0(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==eC(s,a).matches&&this.queries[a].setDirty()}}class yy{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class E0{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const c=null!==a?a.length:0,p=this.getByIndex(u).embeddedTView(s,c);p&&(p.indexInDeclarationView=u,null!==a?a.push(p):a=[p])}return null!==a?new E0(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Lp{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Lp(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const p=u[c];this.matchTNodeWithReadOption(s,a,_D(a,p)),this.matchTNodeWithReadOption(s,a,cu(a,s,p,!1,!1))}else u===kp?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,cu(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===He||c===Bh||c===kp&&4&a.type)this.addMatch(a.index,-2);else{const p=cu(a,s,c,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function _D(i,s){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function ID(i,s,a,u){return-1===a?function w0(i,s){return 11&i.type?me(i,s):4&i.type?jh(i,s):null}(s,i):-2===a?function C0(i,s,a){return a===He?me(s,i):a===kp?jh(s,i):a===Bh?Ka(s,i):void 0}(i,s,u):Ws(i,i[1],a,s)}function b0(i,s,a,u){const c=s[19].queries[u];if(null===c.matches){const p=i.data,v=a.matches,I=[];for(let w=0;w<v.length;w+=2){const x=v[w];I.push(x<0?null:ID(s,p[x],v[w+1],a.metadata.read))}c.matches=I}return c.matches}function Vp(i,s,a,u){const c=i.queries.getByIndex(a),p=c.matches;if(null!==p){const v=b0(i,s,c,a);for(let I=0;I<p.length;I+=2){const w=p[I];if(w>0)u.push(v[I/2]);else{const x=p[I+1],O=s[-w];for(let j=10;j<O.length;j++){const Y=O[j];Y[17]===Y[3]&&Vp(Y[1],Y,x,u)}if(null!==O[9]){const j=O[9];for(let Y=0;Y<j.length;Y++){const ae=j[Y];Vp(ae[1],ae,x,u)}}}}}return u}function D0(i){const s=Me(),a=St(),u=$u();Ea(u+1);const c=eC(a,u);if(i.dirty&&D(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const p=c.crossesNgTemplate?Vp(a,s,u,[]):b0(a,s,c,u);i.reset(p,ot),i.notifyOnChanges()}return!0}return!1}function Jw(i,s,a){const u=St();u.firstCreatePass&&(Iy(u,new yy(i,s,a),-1),2==(2&s)&&(u.staticViewQueries=!0)),_y(u,Me(),s)}function Xw(i,s,a,u){const c=St();if(c.firstCreatePass){const p=Vn();Iy(c,new yy(s,a,u),p.index),function T0(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}_y(c,Me(),a)}function vy(){return function ED(i,s){return i[19].queries[s].queryList}(Me(),$u())}function _y(i,s,a){const u=new Uh(4==(4&a));tp(i,s,u,u.destroy),null===s[19]&&(s[19]=new I0),s[19].queries.push(new _0(u))}function Iy(i,s,a){null===i.queries&&(i.queries=new E0),i.queries.track(new Lp(s,a))}function eC(i,s){return i.queries.getByIndex(s)}function S0(i,s){return jh(i,s)}const ns=(()=>({\u0275\u0275attribute:Ml,\u0275\u0275attributeInterpolate1:ym,\u0275\u0275attributeInterpolate2:nd,\u0275\u0275attributeInterpolate3:vm,\u0275\u0275attributeInterpolate4:Ro,\u0275\u0275attributeInterpolate5:_m,\u0275\u0275attributeInterpolate6:rd,\u0275\u0275attributeInterpolate7:r_,\u0275\u0275attributeInterpolate8:i_,\u0275\u0275attributeInterpolateV:jt,\u0275\u0275defineComponent:H,\u0275\u0275defineDirective:vr,\u0275\u0275defineInjectable:Wt,\u0275\u0275defineInjector:Kt,\u0275\u0275defineNgModule:ft,\u0275\u0275definePipe:$t,\u0275\u0275directiveInject:Ee,\u0275\u0275getInheritedFactory:rl,\u0275\u0275inject:Wn,\u0275\u0275injectAttribute:Sa,\u0275\u0275invalidFactory:Le,\u0275\u0275invalidFactoryDep:fc,\u0275\u0275templateRefExtractor:S0,\u0275\u0275resetView:zi,\u0275\u0275NgOnChangesFeature:fi,\u0275\u0275ProvidersFeature:iy,\u0275\u0275CopyDefinitionFeature:HE,\u0275\u0275InheritDefinitionFeature:Nu,\u0275\u0275StandaloneFeature:sy,\u0275\u0275nextContext:d_,\u0275\u0275namespaceHTML:zu,\u0275\u0275namespaceMathML:rc,\u0275\u0275namespaceSVG:nc,\u0275\u0275enableBindings:un,\u0275\u0275disableBindings:lr,\u0275\u0275elementStart:dp,\u0275\u0275elementEnd:hp,\u0275\u0275element:o_,\u0275\u0275elementContainerStart:wm,\u0275\u0275elementContainerEnd:Nl,\u0275\u0275elementContainer:Cm,\u0275\u0275pureFunction0:cy,\u0275\u0275pureFunction1:Lw,\u0275\u0275pureFunction2:Vw,\u0275\u0275pureFunction3:dy,\u0275\u0275pureFunction4:hy,\u0275\u0275pureFunction5:Uw,\u0275\u0275pureFunction6:l0,\u0275\u0275pureFunction7:jw,\u0275\u0275pureFunction8:c0,\u0275\u0275pureFunctionV:d0,\u0275\u0275getCurrentView:WE,\u0275\u0275restoreView:qi,\u0275\u0275listener:id,\u0275\u0275projection:QE,\u0275\u0275syntheticHostProperty:za,\u0275\u0275syntheticHostListener:No,\u0275\u0275pipeBind1:zw,\u0275\u0275pipeBind2:py,\u0275\u0275pipeBind3:Ww,\u0275\u0275pipeBind4:gy,\u0275\u0275pipeBindV:p0,\u0275\u0275projectionDef:ZE,\u0275\u0275hostProperty:jm,\u0275\u0275property:Im,\u0275\u0275propertyInterpolate:sd,\u0275\u0275propertyInterpolate1:Ch,\u0275\u0275propertyInterpolate2:h_,\u0275\u0275propertyInterpolate3:Dm,\u0275\u0275propertyInterpolate4:Tm,\u0275\u0275propertyInterpolate5:Sm,\u0275\u0275propertyInterpolate6:f_,\u0275\u0275propertyInterpolate7:Am,\u0275\u0275propertyInterpolate8:p_,\u0275\u0275propertyInterpolateV:g_,\u0275\u0275pipe:fy,\u0275\u0275queryRefresh:D0,\u0275\u0275viewQuery:Jw,\u0275\u0275loadQuery:vy,\u0275\u0275contentQuery:Xw,\u0275\u0275reference:s_,\u0275\u0275classMap:nw,\u0275\u0275classMapInterpolate1:vp,\u0275\u0275classMapInterpolate2:Th,\u0275\u0275classMapInterpolate3:Ll,\u0275\u0275classMapInterpolate4:aw,\u0275\u0275classMapInterpolate5:b_,\u0275\u0275classMapInterpolate6:uw,\u0275\u0275classMapInterpolate7:lw,\u0275\u0275classMapInterpolate8:cw,\u0275\u0275classMapInterpolateV:Sh,\u0275\u0275styleMap:da,\u0275\u0275styleMapInterpolate1:Vl,\u0275\u0275styleMapInterpolate2:Ul,\u0275\u0275styleMapInterpolate3:D_,\u0275\u0275styleMapInterpolate4:dw,\u0275\u0275styleMapInterpolate5:hw,\u0275\u0275styleMapInterpolate6:Fm,\u0275\u0275styleMapInterpolate7:_p,\u0275\u0275styleMapInterpolate8:fw,\u0275\u0275styleMapInterpolateV:T_,\u0275\u0275styleProp:y_,\u0275\u0275stylePropInterpolate1:ad,\u0275\u0275stylePropInterpolate2:Ah,\u0275\u0275stylePropInterpolate3:ud,\u0275\u0275stylePropInterpolate4:Lm,\u0275\u0275stylePropInterpolate5:Vm,\u0275\u0275stylePropInterpolate6:ts,\u0275\u0275stylePropInterpolate7:Um,\u0275\u0275stylePropInterpolate8:xh,\u0275\u0275stylePropInterpolateV:Mh,\u0275\u0275classProp:v_,\u0275\u0275advance:Kf,\u0275\u0275template:Eh,\u0275\u0275text:kl,\u0275\u0275textInterpolate:Pu,\u0275\u0275textInterpolate1:Fl,\u0275\u0275textInterpolate2:Rm,\u0275\u0275textInterpolate3:mp,\u0275\u0275textInterpolate4:yp,\u0275\u0275textInterpolate5:Nm,\u0275\u0275textInterpolate6:Om,\u0275\u0275textInterpolate7:C_,\u0275\u0275textInterpolate8:Pm,\u0275\u0275textInterpolateV:km,\u0275\u0275i18n:ey,\u0275\u0275i18nAttributes:ty,\u0275\u0275i18nExp:Wa,\u0275\u0275i18nStart:Mp,\u0275\u0275i18nEnd:Xm,\u0275\u0275i18nApply:Q_,\u0275\u0275i18nPostprocess:Nw,\u0275\u0275resolveWindow:Og,\u0275\u0275resolveDocument:Uf,\u0275\u0275resolveBody:Pg,\u0275\u0275setComponentScope:K,\u0275\u0275setNgModuleScope:fn,\u0275\u0275registerNgModuleType:dl,\u0275\u0275sanitizeHtml:zr,\u0275\u0275sanitizeStyle:vc,\u0275\u0275sanitizeResourceUrl:Ao,\u0275\u0275sanitizeScript:wf,\u0275\u0275sanitizeUrl:tr,\u0275\u0275sanitizeUrlOrResourceUrl:Sg,\u0275\u0275trustConstantHtml:Dg,\u0275\u0275trustConstantResourceUrl:Cf,forwardRef:G,resolveForwardRef:J}))();let Hh=null;function Ey(){Hh=null}function rC(i){return!!Mr(i)}const Up=[];let jp=!1;function x0(){if(!jp){jp=!0;try{for(let i=Up.length-1;i>=0;i--){const{moduleType:s,ngModule:a}=Up[i];a.declarations&&a.declarations.every(wy)&&(Up.splice(i,1),wD(s,a))}}finally{jp=!1}}}function wy(i){return Array.isArray(i)?i.every(wy):!!J(i)}function Cy(i,s={}){by(i,s),void 0!==s.id&&dl(i,s.id),function iC(i,s){Up.push({moduleType:i,ngModule:s})}(i,s)}function by(i,s,a=!1){const u=qr(s.declarations||_t);let c=null;Object.defineProperty(i,Yt,{configurable:!0,get:()=>(null===c&&(c=wr().compileNgModule(ns,`ng:///${i.name}/\u0275mod.js`,{type:i,bootstrap:qr(s.bootstrap||_t).map(J),declarations:u.map(J),imports:qr(s.imports||_t).map(J).map(P0),exports:qr(s.exports||_t).map(J).map(P0),schemas:s.schemas?qr(s.schemas):null,id:s.id||null}),c.schemas||(c.schemas=[])),c)});let p=null;Object.defineProperty(i,di,{get:()=>{if(null===p){const I=wr();p=I.compileFactory(ns,`ng:///${i.name}/\u0275fac.js`,{name:i.name,type:i,deps:Gn(i),target:I.FactoryTarget.NgModule,typeArgumentCount:0})}return p},configurable:!1});let v=null;Object.defineProperty(i,Li,{get:()=>{if(null===v){const I={name:i.name,type:i,providers:s.providers||_t,imports:[(s.imports||_t).map(J),(s.exports||_t).map(J)]};v=wr().compileInjector(ns,`ng:///${i.name}/\u0275inj.js`,I)}return v},configurable:!1})}function Lu(i){const s=Ft(i)||Pn(i)||or(i);return null!==s&&s.standalone}let Gh=new WeakMap,Gl=new WeakMap;function N0(){Gh=new WeakMap,Gl=new WeakMap,Up.length=0}function wD(i,s){const a=qr(s.declarations||_t),u=ql(i);a.forEach(c=>{(c=J(c)).hasOwnProperty(Xr)?O0(Ft(c),u):!c.hasOwnProperty(Jn)&&!c.hasOwnProperty(Vr)&&(c.ngSelectorScope=i)})}function O0(i,s){i.directiveDefs=()=>Array.from(s.compilation.directives).map(a=>a.hasOwnProperty(Xr)?Ft(a):Pn(a)).filter(a=>!!a),i.pipeDefs=()=>Array.from(s.compilation.pipes).map(a=>or(a)),i.schemas=s.schemas,i.tView=null}function ql(i){if(rC(i))return function CD(i){const s=Mr(i,!0);if(null!==s.transitiveCompileScopes)return s.transitiveCompileScopes;const a={schemas:s.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Va(s.imports).forEach(u=>{const c=ql(u);c.exported.directives.forEach(p=>a.compilation.directives.add(p)),c.exported.pipes.forEach(p=>a.compilation.pipes.add(p))}),Va(s.declarations).forEach(u=>{or(u)?a.compilation.pipes.add(u):a.compilation.directives.add(u)}),Va(s.exports).forEach(u=>{const c=u;if(rC(c)){const p=ql(c);p.exported.directives.forEach(v=>{a.compilation.directives.add(v),a.exported.directives.add(v)}),p.exported.pipes.forEach(v=>{a.compilation.pipes.add(v),a.exported.pipes.add(v)})}else or(c)?a.exported.pipes.add(c):a.exported.directives.add(c)}),s.transitiveCompileScopes=a,a}(i);if(Lu(i)){if(null!==(Ft(i)||Pn(i)))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set([i]),pipes:new Set}};if(null!==or(i))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set([i])}}}throw new Error(`${i.name} does not have a module def (\u0275mod property)`)}function P0(i){return function nC(i){return void 0!==i.ngModule}(i)?i.ngModule:i}let k0=0;function oC(i,s){let a=null;(function Na(i,s){To(s)&&(xi.set(i,s),ta.add(i))})(i,s),V0(i,s),Object.defineProperty(i,Xr,{get:()=>{if(null===a){const u=wr();if(To(s)){const x=[`Component '${i.name}' is not resolved:`];throw s.templateUrl&&x.push(` - templateUrl: ${s.templateUrl}`),s.styleUrls&&s.styleUrls.length&&x.push(` - styleUrls: ${JSON.stringify(s.styleUrls)}`),x.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(x.join("\n"))}const c=function tC(){return Hh}();let p=s.preserveWhitespaces;void 0===p&&(p=null!==c&&void 0!==c.preserveWhitespaces&&c.preserveWhitespaces);let v=s.encapsulation;void 0===v&&(v=null!==c&&void 0!==c.defaultEncapsulation?c.defaultEncapsulation:Zt.Emulated);const I=s.templateUrl||`ng:///${i.name}/template.html`,w={...nn(i,s),typeSourceSpan:u.createParseSourceSpan("Component",i.name,I),template:s.template||"",preserveWhitespaces:p,styles:s.styles||_t,animations:s.animations,declarations:[],changeDetection:s.changeDetection,encapsulation:v,interpolation:s.interpolation,viewProviders:s.viewProviders||null,isStandalone:!!s.standalone};k0++;try{if(w.usesInheritance&&U0(i),a=u.compileComponent(ns,I,w),s.standalone){const x=qr(s.imports||_t),{directiveDefs:O,pipeDefs:j}=function aC(i,s){let a=null,u=null;return{directiveDefs:()=>{if(null===a){a=[Ft(i)];const v=new Set;for(const I of s){const w=J(I);if(!v.has(w))if(v.add(w),Mr(w)){const x=ql(w);for(const O of x.exported.directives){const j=Ft(O)||Pn(O);j&&!v.has(O)&&(v.add(O),a.push(j))}}else{const x=Ft(w)||Pn(w);x&&a.push(x)}}}return a},pipeDefs:()=>{if(null===u){u=[];const v=new Set;for(const I of s){const w=J(I);if(!v.has(w))if(v.add(w),Mr(w)){const x=ql(w);for(const O of x.exported.pipes){const j=or(O);j&&!v.has(O)&&(v.add(O),u.push(j))}}else{const x=or(w);x&&u.push(x)}}}return u}}}(i,x);a.directiveDefs=O,a.pipeDefs=j,a.dependencies=()=>x.map(J)}}finally{k0--}if(0===k0&&x0(),function F0(i){return void 0!==i.ngSelectorScope}(i)){const x=ql(i.ngSelectorScope);O0(a,x)}if(s.schemas){if(!s.standalone)throw new Error(`The 'schemas' was specified for the ${ce(i)} but is only valid on a component that is standalone.`);a.schemas=s.schemas}else s.standalone&&(a.schemas=[])}return a},configurable:!1})}function Sy(i,s){let a=null;V0(i,s||{}),Object.defineProperty(i,Jn,{get:()=>{if(null===a){const u=L0(i,s||{});a=wr().compileDirective(ns,u.sourceMapUrl,u.metadata)}return a},configurable:!1})}function L0(i,s){const a=i&&i.name,u=`ng:///${a}/\u0275dir.js`,c=wr(),p=nn(i,s);return p.typeSourceSpan=c.createParseSourceSpan("Directive",a,u),p.usesInheritance&&U0(i),{metadata:p,sourceMapUrl:u}}function V0(i,s){let a=null;Object.defineProperty(i,di,{get:()=>{if(null===a){const u=L0(i,s),c=wr();a=c.compileFactory(ns,`ng:///${i.name}/\u0275fac.js`,{name:u.metadata.name,type:u.metadata.type,typeArgumentCount:0,deps:Gn(i),target:c.FactoryTarget.Directive})}return a},configurable:!1})}function Ay(i){return Object.getPrototypeOf(i.prototype)===Object.prototype}function nn(i,s){const a=gt(),u=a.ownPropMetadata(i);return{name:i.name,type:i,selector:void 0!==s.selector?s.selector:null,host:s.host||Yn,propMetadata:u,inputs:s.inputs||_t,outputs:s.outputs||_t,queries:lC(i,u,ki),lifecycle:{usesOnChanges:a.hasLifecycleHook(i,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!Ay(i),exportAs:ir(s.exportAs),providers:s.providers||null,viewQueries:lC(i,u,pa),isStandalone:!!s.standalone}}function U0(i){const s=Object.prototype;let a=Object.getPrototypeOf(i.prototype).constructor;for(;a&&a!==s;)!Pn(a)&&!Ft(a)&&dC(a)&&Sy(a,null),a=Object.getPrototypeOf(a)}function uC(i){return"string"==typeof i?cC(i):J(i)}function Bp(i,s){return{propertyName:i,predicate:uC(s.selector),descendants:s.descendants,first:s.first,read:s.read?s.read:null,static:!!s.static,emitDistinctChangesOnly:!!s.emitDistinctChangesOnly}}function lC(i,s,a){const u=[];for(const c in s)if(s.hasOwnProperty(c)){const p=s[c];p.forEach(v=>{if(a(v)){if(!v.selector)throw new Error(`Can't construct a query for the property "${c}" of "${ce(i)}" since the query selector wasn't defined.`);if(p.some(j0))throw new Error("Cannot combine @Input decorators with query decorators");u.push(Bp(c,v))}})}return u}function ir(i){return void 0===i?null:cC(i)}function ki(i){const s=i.ngMetadataName;return"ContentChild"===s||"ContentChildren"===s}function pa(i){const s=i.ngMetadataName;return"ViewChild"===s||"ViewChildren"===s}function j0(i){return"Input"===i.ngMetadataName}function cC(i){return i.split(",").map(s=>s.trim())}const xy=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function dC(i){const s=gt();if(xy.some(u=>s.hasLifecycleHook(i,u)))return!0;const a=s.propMetadata(i);for(const u in a){const c=a[u];for(let p=0;p<c.length;p++){const v=c[p],I=v.ngMetadataName;if(j0(v)||ki(v)||pa(v)||"Output"===I||"HostBinding"===I||"HostListener"===I)return!0}}return!1}function B0(i,s){let a=null,u=null;Object.defineProperty(i,di,{get:()=>{if(null===u){const c=hC(i,s),p=wr();u=p.compileFactory(ns,`ng:///${c.name}/\u0275fac.js`,{name:c.name,type:c.type,typeArgumentCount:0,deps:Gn(i),target:p.FactoryTarget.Pipe})}return u},configurable:!1}),Object.defineProperty(i,Vr,{get:()=>{if(null===a){const c=hC(i,s);a=wr().compilePipe(ns,`ng:///${c.name}/\u0275pipe.js`,c)}return a},configurable:!1})}function hC(i,s){return{type:i,name:i.name,pipeName:s.name,pure:void 0===s.pure||s.pure,isStandalone:!!s.standalone}}const My=Ds("Directive",(i={})=>i,void 0,void 0,(i,s)=>Sy(i,s)),DD=Ds("Component",(i={})=>({changeDetection:qn.Default,...i}),My,void 0,(i,s)=>oC(i,s)),TD=Ds("Pipe",i=>({pure:!0,...i}),void 0,void 0,(i,s)=>B0(i,s)),dr=Qs("Input",i=>({bindingPropertyName:i})),ZT=Qs("Output",i=>({bindingPropertyName:i})),QT=Qs("HostBinding",i=>({hostPropertyName:i})),Qr=Qs("HostListener",(i,s)=>({eventName:i,args:s})),fC=Ds("NgModule",i=>i,void 0,void 0,(i,s)=>Cy(i,s));function Ry(...i){}const $0=new qt("Application Initializer");let Ny=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Ry,this.reject=Ry,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const p=this.appInits[c]();if(Wr(p))a.push(p);else if(a_(p)){const v=new Promise((I,w)=>{p.subscribe({complete:I,error:w})});a.push(v)}}Promise.all(a).then(()=>{u()}).catch(c=>{this.reject(c)}),0===a.length&&u(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Wn($0,8))},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const pC=new qt("AppId",{providedIn:"root",factory:gC});function gC(){return`${mC()}${mC()}${mC()}`}const SD={provide:pC,useFactory:gC,deps:[]};function mC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const yC=new qt("Platform Initializer"),AD=new qt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),H0=new qt("appBootstrapListener"),Vu=new qt("Application Packages Root URL"),JT=new qt("AnimationModuleType");let Za=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const md=new qt("LocaleId",{providedIn:"root",factory:()=>jd(md,mt.Optional|mt.SkipSelf)||function gd(){return typeof $localize<"u"&&$localize.locale||cd}()}),xD=new qt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),MD=new qt("Translations"),vC=new qt("TranslationsFormat");var ga=(()=>((ga=ga||{})[ga.Error=0]="Error",ga[ga.Warning=1]="Warning",ga[ga.Ignore=2]="Ignore",ga))();class $p{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let RD=(()=>{class i{compileModuleSync(a){return new Fh(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),p=Va(Mr(a).declarations).reduce((v,I)=>{const w=Ft(I);return w&&v.push(new Yc(w)),v},[]);return new $p(u,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const zl=new qt("compilerOptions");class Oy{}function Hp(i){up(i),ay(i).forEach(s=>zE(s))}let Py=!1;function ND(){Py||(Py=!0,ko("\u0275setProfiler",Br),ko("getDirectiveMetadata",$l),ko("getComponent",n0),ko("getContext",oy),ko("getListeners",a0),ko("getOwningComponent",r0),ko("getHostElement",Hl),ko("getInjector",uy),ko("getRootComponents",ay),ko("getDirectives",fd),ko("applyChanges",Hp))}function ko(i,s){if(typeof COMPILED>"u"||!COMPILED){const a=Ke;if(a){let u=a.ng;u||(u=a.ng={}),u[i]=s}}}const OD=(()=>Promise.resolve(0))();function Gp(i){typeof Zone>"u"?OD.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Ns{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Po(!1),this.onMicrotaskEmpty=new Po(!1),this.onStable=new Po(!1),this.onError=new Po(!1),typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&a,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function q0(){let i=Ke.requestAnimationFrame,s=Ke.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function z0(i){const s=()=>{!function _C(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Ke,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,qp(i),i.isCheckStableRunning=!0,ky(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),qp(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,c,p,v,I)=>{try{return IC(i),a.invokeTask(c,p,v,I)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),zp(i)}},onInvoke:(a,u,c,p,v,I,w)=>{try{return IC(i),a.invoke(c,p,v,I,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),zp(i)}},onHasTask:(a,u,c,p)=>{a.hasTask(c,p),u===c&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,qp(i),ky(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,u,c,p)=>(a.handleError(c,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ns.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if(Ns.isInAngularZone())throw new se(909,!1)}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,c){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+c,s,yd,Ry,Ry);try{return p.runTask(v,a,u)}finally{p.cancelTask(v)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const yd={};function ky(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function qp(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function IC(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function zp(i){i._nesting--,ky(i)}class Wp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Po,this.onMicrotaskEmpty=new Po,this.onStable=new Po,this.onError=new Po}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,c){return s.apply(a,u)}}const W0=new qt(""),qh=new qt("");let ma,PD=(()=>{class i{constructor(a,u,c){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ma||(Wl(c),c.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ns.assertNotInAngularZone(),Gp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gp(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,c){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:c})}whenStable(a,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(Wn(Ns),Wn(Kp),Wn(qh))},i.\u0275prov=Wt({token:i,factory:i.\u0275fac}),i})(),Kp=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return ma?.findTestabilityInTree(this,a,u)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Wl(i){ma=i}let Fo=null;const Qa=new qt("AllowMultipleToken"),K0=new qt("PlatformDestroyListeners");function Z0(i,s,a){const u=new Fh(a);return Promise.resolve(u)}function Uu(i){return i.isBoundToModule}class kD{constructor(s,a){this.name=s,this.token=a}}function EC(i){if(Fo&&!Fo.get(Qa,!1))throw new se(400,!1);Fo=i;const s=i.get(Vy);return wC(i),s}function wC(i){const s=i.get(yC,null);s&&s.forEach(a=>a())}function CC(i){const{rootComponent:s,appProviders:a,platformProviders:u}=i,c=function FD(i=[]){if(Fo)return Fo;const s=Q0(i);return Fo=s,wC(s),s}(u),p=new Ns(TC());return p.run(()=>{const I=Op([{provide:Ns,useValue:p},...a||[]],c,"Environment Injector"),w=I.get(Of,null);let x;return p.runOutsideAngular(()=>{x=p.onError.subscribe({next:O=>{w.handleError(O)}})}),Y0(w,p,()=>{const O=I.get(Ny);return O.runInitializers(),O.donePromise.then(()=>{qm(I.get(md,cd)||cd);const Y=I.get(Zp),ae=()=>Y.destroy(),Re=c.get(K0,null);return Re?.add(ae),Y.onDestroy(()=>{Re?.delete(ae),x.unsubscribe()}),Y.bootstrap(s),Y})})})}function bC(i,s,a=[]){const u=`Platform: ${s}`,c=new qt(u);return(p=[])=>{let v=Ly();if(!v||v.injector.get(Qa,!1)){const I=[...a,...p,{provide:c,useValue:!0}];i?i(I):EC(Q0(I,u))}return DC()}}function DC(i){const s=Ly();if(!s)throw new se(401,!1);return s}function Q0(i=[],s){return Tu.create({name:s,providers:[{provide:wc,useValue:"platform"},{provide:K0,useValue:new Set([()=>Fo=null])},...i]})}function LD(){Ly()?.destroy()}function Ly(){return Fo?.get(Vy)??null}let Vy=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const c=function VD(i,s){let a;return a="noop"===i?new Wp:("zone.js"===i?void 0:i)||new Ns(s),a}(u?.ngZone,TC(u)),p=[{provide:Ns,useValue:c}];return c.run(()=>{const v=Tu.create({providers:p,parent:this.injector,name:a.moduleType.name}),I=a.create(v),w=I.injector.get(Of,null);if(!w)throw new se(402,!1);return c.runOutsideAngular(()=>{const x=c.onError.subscribe({next:O=>{w.handleError(O)}});I.onDestroy(()=>{Qp(this._modules,I),x.unsubscribe()})}),Y0(w,c,()=>{const x=I.injector.get(Ny);return x.runInitializers(),x.donePromise.then(()=>(qm(I.injector.get(md,cd)||cd),this._moduleDoBootstrap(I),I))})})}bootstrapModule(a,u=[]){const c=J0({},u);return Z0(0,0,a).then(p=>this.bootstrapModuleFactory(p,c))}_moduleDoBootstrap(a){const u=a.injector.get(Zp);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new se(403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new se(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(K0,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Wn(Tu))},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function TC(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}function Y0(i,s,a){try{const u=a();return Wr(u)?u.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}function J0(i,s){return Array.isArray(s)?s.reduce(J0,i):{...i,...s}}let Zp=(()=>{class i{constructor(a,u,c){this._zone=a,this._injector=u,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new V.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),v=new V.y(I=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{Ns.assertNotInAngularZone(),Gp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Ns.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{w.unsubscribe(),x.unsubscribe()}});this.isStable=(0,ue.T)(p,v.pipe((0,re.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const c=a instanceof y;if(!this._injector.get(Ny).done)throw!c&&Lu(a),new se(405,false);let v;v=c?a:this._injector.get(k).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const I=Uu(v)?void 0:this._injector.get(kh),x=v.create(Tu.NULL,[],u||v.selector,I),O=x.location.nativeElement,j=x.injector.get(W0,null);return j?.registerApplication(O),x.onDestroy(()=>{this.detachView(x.hostView),Qp(this.components,x),j?.unregisterApplication(O)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new se(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Qp(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(H0,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Qp(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new se(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(Wn(Ns),Wn(eo),Wn(Of))},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Qp(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let Yp=!0,AC=!1;function xC(){return AC=!0,Yp}function Kl(){if(AC)throw new Error("Cannot enable prod mode after platform setup.");Yp=!1}function UD(i){const s=pg(i);if(!s)throw MC(i);return new Fh(s)}function vd(i){const s=pg(i);if(!s)throw MC(i);return s}function MC(i){return new Error(`No module with ID ${i} loaded`)}let RC=(()=>{class i{}return i.__NG_ELEMENT_ID__=NC,i})();function NC(i){return function jD(i,s,a){if(Ui(i)&&!a){const u=gr(i.index,s);return new Pi(u,u)}return 47&i.type?new Pi(s[16],s):null}(Vn(),Me(),16==(16&i))}class OC extends RC{}class PC extends OC{}class $D{constructor(s,a){this.name=s,this.callback=a}}function HD(i){return i.map(s=>s.nativeElement)}class Uy{constructor(s){this.nativeNode=s}get parent(){const s=this.nativeNode.parentNode;return s?new Jp(s):null}get injector(){return uy(this.nativeNode)}get componentInstance(){const s=this.nativeNode;return s&&(n0(s)||r0(s))}get context(){return n0(this.nativeNode)||oy(this.nativeNode)}get listeners(){return a0(this.nativeNode).filter(s=>"dom"===s.type)}get references(){return function o0(i){const s=Ri(i);if(null===s)return{};if(void 0===s.localRefs){const a=s.lView;if(null===a)return{};s.localRefs=function UI(i,s){const a=i[1].data[s];if(a&&a.localNames){const u={};let c=a.index+1;for(let p=0;p<a.localNames.length;p+=2)u[a.localNames[p]]=i[c],c++;return u}return null}(a,s.nodeIndex)}return s.localRefs||{}}(this.nativeNode)}get providerTokens(){return function s0(i){const s=Ri(i),a=s?s.lView:null;if(null===a)return[];const u=a[1],c=u.data[s.nodeIndex],p=[],I=c.directiveEnd;for(let w=1048575&c.providerIndexes;w<I;w++){let x=u.data[w];gD(x)&&(x=x.type),p.push(x)}return p}(this.nativeNode)}}class Jp extends Uy{constructor(s){super(s)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const s=Ri(this.nativeNode),a=s?s.lView:null;return null!==a?a[1].data[s.nodeIndex].value:this.nativeNode.nodeName}get properties(){const s=Ri(this.nativeNode),a=s?s.lView:null;if(null===a)return{};const u=a[1].data,c=u[s.nodeIndex],p={};return function zh(i,s){if(i){let a=Object.getPrototypeOf(i);const u=Node.prototype;for(;null!==a&&a!==u;){const c=Object.getOwnPropertyDescriptors(a);for(let p in c)if(!p.startsWith("__")&&!p.startsWith("on")){const v=i[p];eI(v)&&(s[p]=v)}a=Object.getPrototypeOf(a)}}}(this.nativeElement,p),function GD(i,s,a,u){let c=s.propertyBindings;if(null!==c)for(let p=0;p<c.length;p++){const v=c[p],w=u[v].split("\ufffd"),x=w[0];if(w.length>1){let O=w[1];for(let j=1;j<w.length-1;j++)O+=de(a[v+j-1])+w[j+1];i[x]=O}else i[x]=a[v]}}(p,c,a,u),p}get attributes(){const s={},a=this.nativeElement;if(!a)return s;const u=Ri(a),c=u?u.lView:null;if(null===c)return{};const p=c[1].data[u.nodeIndex].attrs,v=[];if(p){let w=0;for(;w<p.length;){const x=p[w];if("string"!=typeof x)break;s[x]=p[w+1],v.push(x.toLowerCase()),w+=2}}const I=a.attributes;for(let w=0;w<I.length;w++){const x=I[w],O=x.name.toLowerCase();-1===v.indexOf(O)&&(s[O]=x.value)}return s}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const s={},u=this.nativeElement.className;return("string"!=typeof u?u.baseVal.split(" "):u.split(" ")).forEach(p=>s[p]=!0),s}get childNodes(){const s=this.nativeNode.childNodes,a=[];for(let u=0;u<s.length;u++)a.push(Xp(s[u]));return a}get children(){const s=this.nativeElement;if(!s)return[];const a=s.children,u=[];for(let c=0;c<a.length;c++)u.push(Xp(a[c]));return u}query(s){return this.queryAll(s)[0]||null}queryAll(s){const a=[];return kC(this,s,a,!0),a}queryAllNodes(s){const a=[];return kC(this,s,a,!1),a}triggerEventHandler(s,a){const u=this.nativeNode,c=[];this.listeners.forEach(p=>{if(p.name===s){const v=p.callback;v.call(u,a),c.push(v)}}),"function"==typeof u.eventListeners&&u.eventListeners(s).forEach(p=>{if(-1!==p.toString().indexOf("__ngUnwrap__")){const v=p("__ngUnwrap__");return-1===c.indexOf(v)&&v.call(u,a)}})}}function eI(i){return"string"==typeof i||"boolean"==typeof i||"number"==typeof i||null===i}function kC(i,s,a,u){const c=Ri(i.nativeNode),p=c?c.lView:null;null!==p?_d(p[1].data[c.nodeIndex],p,s,a,u,i.nativeNode):nI(i.nativeNode,s,a,u)}function _d(i,s,a,u,c,p){const v=function Gi(i,s){const a=null===i?-1:i.index;return-1!==a?Sn(s[a]):null}(i,s);if(11&i.type){if(tI(v,a,u,c,p),Ui(i)){const w=gr(i.index,s);w&&w[1].firstChild&&_d(w[1].firstChild,w,a,u,c,p)}else i.child&&_d(i.child,s,a,u,c,p),v&&nI(v,a,u,c);const I=s[i.index];ur(I)&&FC(I,a,u,c,p)}else if(4&i.type){const I=s[i.index];tI(I[7],a,u,c,p),FC(I,a,u,c,p)}else if(16&i.type){const I=s[16],x=I[6].projection[i.projection];if(Array.isArray(x))for(let O of x)tI(O,a,u,c,p);else if(x){const O=I[3];_d(O[1].data[x.index],O,a,u,c,p)}}else i.child&&_d(i.child,s,a,u,c,p);if(p!==v){const I=4&i.flags?i.projectionNext:i.next;I&&_d(I,s,a,u,c,p)}}function FC(i,s,a,u,c){for(let p=10;p<i.length;p++){const v=i[p],I=v[1].firstChild;I&&_d(I,v,s,a,u,c)}}function tI(i,s,a,u,c){if(c!==i){const p=Xp(i);if(!p)return;(u&&p instanceof Jp&&s(p)&&-1===a.indexOf(p)||!u&&s(p)&&-1===a.indexOf(p))&&a.push(p)}}function nI(i,s,a,u){const c=i.childNodes,p=c.length;for(let v=0;v<p;v++){const I=c[v],w=Xp(I);w&&((u&&w instanceof Jp&&s(w)&&-1===a.indexOf(w)||!u&&s(w)&&-1===a.indexOf(w))&&a.push(w),nI(I,s,a,u))}}const LC="__ng_debug__";function Xp(i){return i instanceof Node?(i.hasOwnProperty(LC)||(i[LC]=i.nodeType==Node.ELEMENT_NODE?new Jp(i):new Uy(i)),i[LC]):null}function VC(i){return null}class iI{constructor(){}supports(s){return Al(s)}create(s){return new Wh(s)}}const jC=(i,s)=>s;class Wh{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||jC}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,c=0,p=null;for(;a||u;){const v=!u||a&&a.currentIndex<oI(u,c,p)?a:u,I=oI(v,c,p),w=v.currentIndex;if(v===u)c--,u=u._nextRemoved;else if(a=a._next,null==v.previousIndex)c++;else{p||(p=[]);const x=I-c,O=w-c;if(x!=O){for(let Y=0;Y<x;Y++){const ae=Y<p.length?p[Y]:p[Y]=0,Re=ae+Y;O<=Re&&Re<x&&(p[Y]=ae+1)}p[v.previousIndex]=O-x}}I!==w&&s(v,I,w)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Al(s))throw new se(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,p,v,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let I=0;I<this.length;I++)p=s[I],v=this._trackByFn(I,p),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,p,v,I)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,v,I),u=!0),a=a._next}else c=0,function jb(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Mn()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,I=>{v=this._trackByFn(c,I),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,I,v,c)),Object.is(a.item,I)||this._addIdentityChange(a,I)):(a=this._mismatch(a,I,v,c),u=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,c){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,c)):s=this._addAfter(new sI(a,u),p,c),s}_verifyReinsertion(s,a,u,c){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?s=this._reinsertAfter(p,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,p=s._nextRemoved;return null===c?this._removalsHead=p:c._nextRemoved=p,null===p?this._removalsTail=c:p._prevRemoved=c,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new BC),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new BC),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class sI{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class BC{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new qD,this.map.set(a,u)),u.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oI(i,s,a){const u=i.previousIndex;if(null===u)return u;let c=0;return a&&u<a.length&&(c=a[u]),u+s+c}class eg{constructor(){}supports(s){return s instanceof Map||Xc(s)}create(){return new zD}}class zD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Xc(s)))throw new se(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(c,u);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const p=c._prev,v=c._next;return p&&(p._next=v),v&&(v._prev=p),c._next=null,c._prev=null,c}const u=new $C(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class $C{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function aI(){return new ju([new iI])}let ju=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const c=u.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||aI()),deps:[[i,new pt,new ke]]}}find(a){const u=this.factories.find(c=>c.supports(a));if(null!=u)return u;throw new se(901,!1)}}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:aI}),i})();function rs(){return new jy([new eg])}let jy=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(u){const c=u.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||rs()),deps:[[i,new pt,new ke]]}}find(a){const u=this.factories.find(c=>c.supports(a));if(u)return u;throw new se(901,!1)}}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:rs}),i})();const HC=[new eg],ng=new ju([new iI]),ps=new jy(HC),WD=bC(null,"core",[]);let uI=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Wn(Zp))},i.\u0275mod=ft({type:i}),i.\u0275inj=Kt({}),i})();function Kh(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}const Id=!0;function lI(i){return wr().compileDirectiveDeclaration(ns,`ng:///${i.type.name}/\u0275fac.js`,i)}function Ed(i){ly(i.type,i.decorators,i.ctorParameters??null,i.propDecorators??null)}function KD(i){return wr().compileComponentDeclaration(ns,`ng:///${i.type.name}/\u0275cmp.js`,i)}function ZD(i){return wr(function QD(i){switch(i){case Er.Directive:return"directive";case Er.Component:return"component";case Er.Injectable:return"injectable";case Er.Pipe:return"pipe";case Er.NgModule:return"NgModule"}}(i.target)).compileFactoryDeclaration(ns,`ng:///${i.type.name}/\u0275fac.js`,i)}function YD(i){return wr().compileInjectableDeclaration(ns,`ng:///${i.type.name}/\u0275prov.js`,i)}function By(i){return wr().compileInjectorDeclaration(ns,`ng:///${i.type.name}/\u0275inj.js`,i)}function JD(i){return wr().compileNgModuleDeclaration(ns,`ng:///${i.type.name}/\u0275mod.js`,i)}function XD(i){return wr().compilePipeDeclaration(ns,`ng:///${i.type.name}/\u0275pipe.js`,i)}function eT(i,s){const a=Ft(i),u=s.elementInjector||Cr();return new Yc(a).create(u,s.projectableNodes,s.hostElement,s.environmentInjector)}function GC(i){const s=Ft(i);if(!s)return null;const a=new Yc(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone}}}},3942:(ct,De,L)=>{"use strict";L.d(De,{Z:()=>se});var C=L(2090),d=L(4859),V=L(9681),ue=L(1877);class re{constructor(de,ce){this._delegate=de,this.firebase=ce,(0,V._addComponent)(de,new d.wA("app-compat",()=>this,"PUBLIC")),this.container=de.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this._delegate.automaticDataCollectionEnabled=de}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(de=>{this._delegate.checkDestroyed(),de()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(de,ce=V._DEFAULT_ENTRY_NAME){var Ge;this._delegate.checkDestroyed();const Xe=this._delegate.container.getProvider(de);return!Xe.isInitialized()&&"EXPLICIT"===(null===(Ge=Xe.getComponent())||void 0===Ge?void 0:Ge.instantiationMode)&&Xe.initialize(),Xe.getImmediate({identifier:ce})}_removeServiceInstance(de,ce=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(de).clearInstance(ce)}_addComponent(de){(0,V._addComponent)(this._delegate,de)}_addOrOverwriteComponent(de){(0,V._addOrOverwriteComponent)(this._delegate,de)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new C.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function _e(){const je=function pe(je){const de={},ce={__esModule:!0,initializeApp:function Oe(ze,z={}){const Se=V.initializeApp(ze,z);if((0,C.r3)(de,Se.name))return de[Se.name];const ee=new je(Se,ce);return de[Se.name]=ee,ee},app:Xe,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function xe(ze){const z=ze.name,Se=z.replace("-compat","");if(V._registerComponent(ze)&&"PUBLIC"===ze.type){const ee=(le=Xe())=>{if("function"!=typeof le[Se])throw ye.create("invalid-app-argument",{appName:z});return le[Se]()};void 0!==ze.serviceProps&&(0,C.ZB)(ee,ze.serviceProps),ce[Se]=ee,je.prototype[Se]=function(...le){return this._getService.bind(this,z).apply(this,ze.multipleInstances?le:[])}}return"PUBLIC"===ze.type?ce[Se]:null},removeApp:function Ge(ze){delete de[ze]},useAsService:function qe(ze,z){return"serverAuth"===z?null:z},modularAPIs:V}};function Xe(ze){if(!(0,C.r3)(de,ze=ze||V._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:ze});return de[ze]}return ce.default=ce,Object.defineProperty(ce,"apps",{get:function Te(){return Object.keys(de).map(ze=>de[ze])}}),Xe.App=je,ce}(re);return je.INTERNAL=Object.assign(Object.assign({},je.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function de(ce){(0,C.ZB)(je,ce)},createSubscribe:C.ne,ErrorFactory:C.LL,deepExtend:C.ZB}),je}(),G=new ue.Yd("@firebase/app-compat");if((0,C.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const je=self.firebase.SDK_VERSION;je&&je.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const se=$;!function Ie(je){(0,V.registerVersion)("@firebase/app-compat","0.1.30",je)}()},9681:(ct,De,L)=>{"use strict";L.r(De),L.d(De,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>bi,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>dn,_addOrOverwriteComponent:()=>Wt,_apps:()=>sn,_clearComponents:()=>Fi,_components:()=>Nn,_getProvider:()=>Kt,_registerComponent:()=>fr,_removeServiceInstance:()=>Lt,deleteApp:()=>mt,getApp:()=>Jr,getApps:()=>ci,initializeApp:()=>Li,onLog:()=>Tn,registerVersion:()=>$n,setLogLevel:()=>Di});var C=L(5861),d=L(4859),V=L(1877),ue=L(2090),re=L(8766);class he{constructor(K){this.container=K}getPlatformInfoString(){return this.container.getProviders().map(Z=>{if(function ye(H){return"VERSION"===H.getComponent()?.type}(Z)){const Fe=Z.getImmediate();return`${Fe.library}/${Fe.version}`}return null}).filter(Z=>Z).join(" ")}}const pe="@firebase/app",$=new V.Yd("@firebase/app"),Bt="[DEFAULT]",Je={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},sn=new Map,Nn=new Map;function dn(H,K){try{H.container.addComponent(K)}catch(Z){$.debug(`Component ${K.name} failed to register with FirebaseApp ${H.name}`,Z)}}function Wt(H,K){H.container.addOrOverwriteComponent(K)}function fr(H){const K=H.name;if(Nn.has(K))return $.debug(`There were multiple attempts to register component ${K}.`),!1;Nn.set(K,H);for(const Z of sn.values())dn(Z,H);return!0}function Kt(H,K){const Z=H.container.getProvider("heartbeat").getImmediate({optional:!0});return Z&&Z.triggerHeartbeat(),H.container.getProvider(K)}function Lt(H,K,Z=Bt){Kt(H,K).clearInstance(Z)}function Fi(){Nn.clear()}const Ar=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Yr{constructor(K,Z,Fe){this._isDeleted=!1,this._options=Object.assign({},K),this._config=Object.assign({},Z),this._name=Z.name,this._automaticDataCollectionEnabled=Z.automaticDataCollectionEnabled,this._container=Fe,this.container.addComponent(new d.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this.checkDestroyed(),this._automaticDataCollectionEnabled=K}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(K){this._isDeleted=K}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}const bi="9.9.1";function Li(H,K={}){"object"!=typeof K&&(K={name:K});const Z=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},K),Fe=Z.name;if("string"!=typeof Fe||!Fe)throw Ar.create("bad-app-name",{appName:String(Fe)});const Ze=sn.get(Fe);if(Ze){if((0,ue.vZ)(H,Ze.options)&&(0,ue.vZ)(Z,Ze.config))return Ze;throw Ar.create("duplicate-app",{appName:Fe})}const ft=new d.H0(Fe);for(const Jt of Nn.values())ft.addComponent(Jt);const fn=new Yr(H,Z,ft);return sn.set(Fe,fn),fn}function Jr(H=Bt){const K=sn.get(H);if(!K)throw Ar.create("no-app",{appName:H});return K}function ci(){return Array.from(sn.values())}function mt(H){return xr.apply(this,arguments)}function xr(){return(xr=(0,C.Z)(function*(H){const K=H.name;sn.has(K)&&(sn.delete(K),yield Promise.all(H.container.getProviders().map(Z=>Z.delete())),H.isDeleted=!0)})).apply(this,arguments)}function $n(H,K,Z){var Fe;let Ze=null!==(Fe=Je[H])&&void 0!==Fe?Fe:H;Z&&(Ze+=`-${Z}`);const ft=Ze.match(/\s|\//),fn=K.match(/\s|\//);if(ft||fn){const Jt=[`Unable to register library "${Ze}" with version "${K}":`];return ft&&Jt.push(`library name "${Ze}" contains illegal characters (whitespace or "/")`),ft&&fn&&Jt.push("and"),fn&&Jt.push(`version name "${K}" contains illegal characters (whitespace or "/")`),void $.warn(Jt.join(" "))}fr(new d.wA(`${Ze}-version`,()=>({library:Ze,version:K}),"VERSION"))}function Tn(H,K){if(null!==H&&"function"!=typeof H)throw Ar.create("invalid-log-argument");(0,V.Am)(H,K)}function Di(H){(0,V.Ub)(H)}const qn="firebase-heartbeat-store";let hn=null;function ms(){return hn||(hn=(0,re.X3)("firebase-heartbeat-database",1,{upgrade:(H,K)=>{0===K&&H.createObjectStore(qn)}}).catch(H=>{throw Ar.create("storage-open",{originalErrorMessage:H.message})})),hn}function Ke(){return(Ke=(0,C.Z)(function*(H){var K;try{return(yield ms()).transaction(qn).objectStore(qn).get(Yn(H))}catch(Z){throw Ar.create("storage-get",{originalErrorMessage:null===(K=Z)||void 0===K?void 0:K.message})}})).apply(this,arguments)}function bt(H,K){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,C.Z)(function*(H,K){var Z;try{const Ze=(yield ms()).transaction(qn,"readwrite");return yield Ze.objectStore(qn).put(K,Yn(H)),Ze.done}catch(Fe){throw Ar.create("storage-set",{originalErrorMessage:null===(Z=Fe)||void 0===Z?void 0:Z.message})}})).apply(this,arguments)}function Yn(H){return`${H.name}!${H.options.appId}`}class Jn{constructor(K){this.container=K,this._heartbeatsCache=null;const Z=this.container.getProvider("app").getImmediate();this._storage=new di(Z),this._heartbeatsCachePromise=this._storage.read().then(Fe=>(this._heartbeatsCache=Fe,Fe))}triggerHeartbeat(){var K=this;return(0,C.Z)(function*(){const Fe=K.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ze=Vr();if(null===K._heartbeatsCache&&(K._heartbeatsCache=yield K._heartbeatsCachePromise),K._heartbeatsCache.lastSentHeartbeatDate!==Ze&&!K._heartbeatsCache.heartbeats.some(ft=>ft.date===Ze))return K._heartbeatsCache.heartbeats.push({date:Ze,agent:Fe}),K._heartbeatsCache.heartbeats=K._heartbeatsCache.heartbeats.filter(ft=>{const fn=new Date(ft.date).valueOf();return Date.now()-fn<=2592e6}),K._storage.overwrite(K._heartbeatsCache)})()}getHeartbeatsHeader(){var K=this;return(0,C.Z)(function*(){if(null===K._heartbeatsCache&&(yield K._heartbeatsCachePromise),null===K._heartbeatsCache||0===K._heartbeatsCache.heartbeats.length)return"";const Z=Vr(),{heartbeatsToSend:Fe,unsentEntries:Ze}=function Yt(H,K=1024){const Z=[];let Fe=H.slice();for(const Ze of H){const ft=Z.find(fn=>fn.agent===Ze.agent);if(ft){if(ft.dates.push(Ze.date),q(Z)>K){ft.dates.pop();break}}else if(Z.push({agent:Ze.agent,dates:[Ze.date]}),q(Z)>K){Z.pop();break}Fe=Fe.slice(1)}return{heartbeatsToSend:Z,unsentEntries:Fe}}(K._heartbeatsCache.heartbeats),ft=(0,ue.L)(JSON.stringify({version:2,heartbeats:Fe}));return K._heartbeatsCache.lastSentHeartbeatDate=Z,Ze.length>0?(K._heartbeatsCache.heartbeats=Ze,yield K._storage.overwrite(K._heartbeatsCache)):(K._heartbeatsCache.heartbeats=[],K._storage.overwrite(K._heartbeatsCache)),ft})()}}function Vr(){return(new Date).toISOString().substring(0,10)}class di{constructor(K){this.app=K,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var K=this;return(0,C.Z)(function*(){return(yield K._canUseIndexedDBPromise)&&(yield function Zt(H){return Ke.apply(this,arguments)}(K.app))||{heartbeats:[]}})()}overwrite(K){var Z=this;return(0,C.Z)(function*(){var Fe;if(yield Z._canUseIndexedDBPromise){const ft=yield Z.read();return bt(Z.app,{lastSentHeartbeatDate:null!==(Fe=K.lastSentHeartbeatDate)&&void 0!==Fe?Fe:ft.lastSentHeartbeatDate,heartbeats:K.heartbeats})}})()}add(K){var Z=this;return(0,C.Z)(function*(){var Fe;if(yield Z._canUseIndexedDBPromise){const ft=yield Z.read();return bt(Z.app,{lastSentHeartbeatDate:null!==(Fe=K.lastSentHeartbeatDate)&&void 0!==Fe?Fe:ft.lastSentHeartbeatDate,heartbeats:[...ft.heartbeats,...K.heartbeats]})}})()}}function q(H){return(0,ue.L)(JSON.stringify({version:2,heartbeats:H})).length}!function W(H){fr(new d.wA("platform-logger",K=>new he(K),"PRIVATE")),fr(new d.wA("heartbeat",K=>new Jn(K),"PRIVATE")),$n(pe,"0.7.29",H),$n(pe,"0.7.29","esm2017"),$n("fire-js","")}("")},4859:(ct,De,L)=>{"use strict";L.d(De,{H0:()=>pe,wA:()=>V});var C=L(5861),d=L(2090);class V{constructor($,G,J){this.name=$,this.instanceFactory=G,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ue="[DEFAULT]";class re{constructor($,G){this.name=$,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const G=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(G)){const J=new d.BH;if(this.instancesDeferred.set(G,J),this.isInitialized(G)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:G});Ue&&J.resolve(Ue)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate($){var G;const J=this.normalizeInstanceIdentifier($?.identifier),Ue=null!==(G=$?.optional)&&void 0!==G&&G;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Ie){if(Ue)return null;throw Ie}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ye(_e){return"EAGER"===_e.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ue})}catch{}for(const[G,J]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(G);try{const Ie=this.getOrInitializeService({instanceIdentifier:Ue});J.resolve(Ie)}catch{}}}}clearInstance($=ue){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,C.Z)(function*(){const G=Array.from($.instances.values());yield Promise.all([...G.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...G.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ue){return this.instances.has($)}getOptions($=ue){return this.instancesOptions.get($)||{}}initialize($={}){const{options:G={}}=$,J=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:J,options:G});for(const[Ie,se]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Ie)&&se.resolve(Ue);return Ue}onInit($,G){var J;const Ue=this.normalizeInstanceIdentifier(G),Ie=null!==(J=this.onInitCallbacks.get(Ue))&&void 0!==J?J:new Set;Ie.add($),this.onInitCallbacks.set(Ue,Ie);const se=this.instances.get(Ue);return se&&$(se,Ue),()=>{Ie.delete($)}}invokeOnInitCallbacks($,G){const J=this.onInitCallbacks.get(G);if(J)for(const Ue of J)try{Ue($,G)}catch{}}getOrInitializeService({instanceIdentifier:$,options:G={}}){let J=this.instances.get($);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=$,_e===ue?void 0:_e),options:G}),this.instances.set($,J),this.instancesOptions.set($,G),this.invokeOnInitCallbacks(J,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,J)}catch{}var _e;return J||null}normalizeInstanceIdentifier($=ue){return this.component?this.component.multipleInstances?$:ue:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor($){this.name=$,this.providers=new Map}addComponent($){const G=this.getProvider($.name);if(G.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);G.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const G=new re($,this);return this.providers.set($,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(ct,De,L)=>{"use strict";L.d(De,{Am:()=>_e,Ub:()=>pe,Yd:()=>ye,in:()=>d});const C=[];var d=(()=>{return($=d||(d={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",d;var $})();const V={debug:d.DEBUG,verbose:d.VERBOSE,info:d.INFO,warn:d.WARN,error:d.ERROR,silent:d.SILENT},ue=d.INFO,re={[d.DEBUG]:"log",[d.VERBOSE]:"log",[d.INFO]:"info",[d.WARN]:"warn",[d.ERROR]:"error"},he=($,G,...J)=>{if(G<$.logLevel)return;const Ue=(new Date).toISOString(),Ie=re[G];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Ie](`[${Ue}]  ${$.name}:`,...J)};class ye{constructor(G){this.name=G,this._logLevel=ue,this._logHandler=he,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in d))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?V[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,d.DEBUG,...G),this._logHandler(this,d.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,d.VERBOSE,...G),this._logHandler(this,d.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,d.INFO,...G),this._logHandler(this,d.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,d.WARN,...G),this._logHandler(this,d.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,d.ERROR,...G),this._logHandler(this,d.ERROR,...G)}}function pe($){C.forEach(G=>{G.setLogLevel($)})}function _e($,G){for(const J of C){let Ue=null;G&&G.level&&(Ue=V[G.level]),J.userLogHandler=null===$?null:(Ie,se,...je)=>{const de=je.map(ce=>{if(null==ce)return null;if("string"==typeof ce)return ce;if("number"==typeof ce||"boolean"==typeof ce)return ce.toString();if(ce instanceof Error)return ce.message;try{return JSON.stringify(ce)}catch{return null}}).filter(ce=>ce).join(" ");se>=(Ue??Ie.logLevel)&&$({level:d[se].toLowerCase(),message:de,args:je,type:Ie.name})}}}},8766:(ct,De,L)=>{"use strict";L.d(De,{Lj:()=>Oe,X3:()=>Xe});var C=L(5861);let V,ue;const ye=new WeakMap,pe=new WeakMap,_e=new WeakMap,$=new WeakMap,G=new WeakMap;let Ie={get(z,Se,ee){if(z instanceof IDBTransaction){if("done"===Se)return pe.get(z);if("objectStoreNames"===Se)return z.objectStoreNames||_e.get(z);if("store"===Se)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return ce(z[Se])},set:(z,Se,ee)=>(z[Se]=ee,!0),has:(z,Se)=>z instanceof IDBTransaction&&("done"===Se||"store"===Se)||Se in z};function de(z){return"function"==typeof z?function je(z){return z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(z)?function(...Se){return z.apply(Ge(this),Se),ce(ye.get(this))}:function(...Se){return ce(z.apply(Ge(this),Se))}:function(Se,...ee){const le=z.call(Ge(this),Se,...ee);return _e.set(le,Se.sort?Se.sort():[Se]),ce(le)}}(z):(z instanceof IDBTransaction&&function Ue(z){if(pe.has(z))return;const Se=new Promise((ee,le)=>{const oe=()=>{z.removeEventListener("complete",be),z.removeEventListener("error",ge),z.removeEventListener("abort",ge)},be=()=>{ee(),oe()},ge=()=>{le(z.error||new DOMException("AbortError","AbortError")),oe()};z.addEventListener("complete",be),z.addEventListener("error",ge),z.addEventListener("abort",ge)});pe.set(z,Se)}(z),((z,Se)=>Se.some(ee=>z instanceof ee))(z,function re(){return V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(z,Ie):z)}function ce(z){if(z instanceof IDBRequest)return function J(z){const Se=new Promise((ee,le)=>{const oe=()=>{z.removeEventListener("success",be),z.removeEventListener("error",ge)},be=()=>{ee(ce(z.result)),oe()},ge=()=>{le(z.error),oe()};z.addEventListener("success",be),z.addEventListener("error",ge)});return Se.then(ee=>{ee instanceof IDBCursor&&ye.set(ee,z)}).catch(()=>{}),G.set(Se,z),Se}(z);if($.has(z))return $.get(z);const Se=de(z);return Se!==z&&($.set(z,Se),G.set(Se,z)),Se}const Ge=z=>G.get(z);function Xe(z,Se,{blocked:ee,upgrade:le,blocking:oe,terminated:be}={}){const ge=indexedDB.open(z,Se),Pe=ce(ge);return le&&ge.addEventListener("upgradeneeded",ht=>{le(ce(ge.result),ht.oldVersion,ht.newVersion,ce(ge.transaction))}),ee&&ge.addEventListener("blocked",()=>ee()),Pe.then(ht=>{be&&ht.addEventListener("close",()=>be()),oe&&ht.addEventListener("versionchange",()=>oe())}).catch(()=>{}),Pe}function Oe(z,{blocked:Se}={}){const ee=indexedDB.deleteDatabase(z);return Se&&ee.addEventListener("blocked",()=>Se()),ce(ee).then(()=>{})}const Te=["get","getKey","getAll","getAllKeys","count"],xe=["put","add","delete","clear"],qe=new Map;function ze(z,Se){if(!(z instanceof IDBDatabase)||Se in z||"string"!=typeof Se)return;if(qe.get(Se))return qe.get(Se);const ee=Se.replace(/FromIndex$/,""),le=Se!==ee,oe=xe.includes(ee);if(!(ee in(le?IDBIndex:IDBObjectStore).prototype)||!oe&&!Te.includes(ee))return;const be=function(){var ge=(0,C.Z)(function*(Pe,...ht){const Gt=this.transaction(Pe,oe?"readwrite":"readonly");let Bt=Gt.store;return le&&(Bt=Bt.index(ht.shift())),(yield Promise.all([Bt[ee](...ht),oe&&Gt.done]))[0]});return function(ht){return ge.apply(this,arguments)}}();return qe.set(Se,be),be}!function se(z){Ie=z(Ie)}(z=>({...z,get:(Se,ee,le)=>ze(Se,ee)||z.get(Se,ee,le),has:(Se,ee)=>!!ze(Se,ee)||z.has(Se,ee)}))},5861:(ct,De,L)=>{"use strict";function C(V,ue,re,he,ye,pe,_e){try{var $=V[pe](_e),G=$.value}catch(J){return void re(J)}$.done?ue(G):Promise.resolve(G).then(he,ye)}function d(V){return function(){var ue=this,re=arguments;return new Promise(function(he,ye){var pe=V.apply(ue,re);function _e(G){C(pe,he,ye,_e,$,"next",G)}function $(G){C(pe,he,ye,_e,$,"throw",G)}_e(void 0)})}}L.d(De,{Z:()=>d})}},ct=>{ct(ct.s=3759)}]);